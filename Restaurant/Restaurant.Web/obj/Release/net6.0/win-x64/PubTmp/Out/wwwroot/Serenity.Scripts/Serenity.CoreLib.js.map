{"version":3,"file":"Serenity.CoreLib.js","sources":["../corelib/q/arrays.ts","../corelib/q/system.ts","../corelib/q/strings.ts","../corelib/q/localtext.ts","../corelib/globals/jquery-module.ts","../corelib/q/html.ts","../corelib/q/toastr2.ts","../corelib/q/notify.ts","../corelib/q/config.ts","../corelib/globals/bootstrap-module.ts","../corelib/q/dialogs.ts","../corelib/q/errorhandling.ts","../corelib/q/blockui.ts","../corelib/q/services.ts","../corelib/q/formatting.ts","../corelib/q/scriptdata.ts","../corelib/q/authorization.ts","../corelib/q/debounce.ts","../corelib/q/layouttimer.ts","../corelib/q/router.ts","../corelib/q/layout.ts","../corelib/q/lookup.ts","../corelib/q/propertyitem.ts","../corelib/q/servicetypes.ts","../corelib/globals/jquery.validation-module.ts","../corelib/q/validation.ts","../corelib/q/validateoptions.ts","../corelib/q/criteria.ts","../corelib/slick/aggregators.ts","../corelib/slick/remoteview.ts","../corelib/decorators/index.ts","../corelib/interfaces/ibooleanvalue.ts","../corelib/interfaces/idoublevalue.ts","../corelib/interfaces/idialog.ts","../corelib/interfaces/ieditdialog.ts","../corelib/interfaces/igeteditvalue.ts","../corelib/interfaces/ireadonly.ts","../corelib/interfaces/iseteditvalue.ts","../corelib/interfaces/istringvalue.ts","../corelib/interfaces/ivalidaterequired.ts","../corelib/types/captureoperationtype.ts","../corelib/types/reflectionutils.ts","../corelib/types/commontyperegistry.ts","../corelib/types/dialogtyperegistry.ts","../corelib/patch/jquerypatch.ts","../corelib/ui/widgets/widget.ts","../corelib/types/editortyperegistry.ts","../corelib/types/enumtyperegistry.ts","../corelib/ui/helpers/lazyloadhelper.ts","../corelib/ui/widgets/prefixedcontext.ts","../corelib/ui/widgets/toolbar.ts","../corelib/ui/widgets/templatedwidget.ts","../corelib/ui/widgets/flexify.ts","../corelib/ui/dialogs/dialogextensions.ts","../corelib/ui/dialogs/templateddialog.ts","../corelib/ui/widgets/templatedpanel.ts","../corelib/ui/helpers/validationhelper.ts","../corelib/ui/editors/cascadedwidgetlink.ts","../corelib/ui/helpers/tabsextensions.ts","../corelib/ui/widgets/reflectionoptionssetter.ts","../corelib/ui/editors/editorutils.ts","../corelib/ui/widgets/propertygrid.ts","../corelib/ui/widgets/propertypanel.ts","../corelib/ui/helpers/subdialoghelper.ts","../corelib/ui/dialogs/propertydialog.ts","../corelib/ui/editors/stringeditor.ts","../corelib/ui/editors/passwordeditor.ts","../corelib/ui/editors/textareaeditor.ts","../corelib/ui/editors/booleaneditor.ts","../corelib/ui/editors/decimaleditor.ts","../corelib/ui/editors/integereditor.ts","../corelib/ui/editors/dateeditor.ts","../corelib/ui/editors/datetimeeditor.ts","../corelib/ui/editors/timeeditor.ts","../corelib/ui/editors/emaileditor.ts","../corelib/ui/editors/emailaddresseditor.ts","../corelib/ui/editors/urleditor.ts","../corelib/ui/editors/radiobuttoneditor.ts","../corelib/globals/select2-module.ts","../corelib/ui/editors/select2editor.ts","../corelib/ui/editors/selecteditor.ts","../corelib/ui/editors/dateyeareditor.ts","../corelib/ui/editors/enumeditor.ts","../corelib/ui/editors/lookupeditor.ts","../corelib/ui/editors/servicelookupeditor.ts","../corelib/ui/editors/htmlcontenteditor.ts","../corelib/ui/editors/maskededitor.ts","../corelib/ui/editors/recaptcha.ts","../corelib/ui/helpers/uploadhelper.ts","../corelib/ui/editors/uploadeditors.ts","../corelib/ui/datagrid/quickfilterbar.ts","../corelib/ui/datagrid/quicksearchinput.ts","../corelib/ui/filtering/filteroperator.ts","../corelib/ui/filtering/filterstore.ts","../corelib/ui/filtering/filtering.ts","../corelib/ui/filtering/filterwidgetbase.ts","../corelib/ui/filtering/filterpanel.ts","../corelib/ui/filtering/filterdialog.ts","../corelib/ui/filtering/filterdisplaybar.ts","../corelib/ui/datagrid/slickpager.ts","../corelib/ui/formatters/formatters.ts","../corelib/types/formattertyperegistry.ts","../corelib/ui/helpers/slickhelpers.ts","../corelib/ui/datagrid/datagrid.ts","../corelib/ui/datagrid/columnpickerdialog.ts","../corelib/ui/datagrid/treegridmixin.ts","../corelib/ui/editors/checktreeeditor.ts","../corelib/ui/datagrid/entitygrid.ts","../corelib/ui/dialogs/entitydialog.ts","../corelib/ui/widgets/jsx.ts","../corelib/ui/widgets/reporting.ts","../corelib/ui/widgets/scriptcontext.ts","../corelib/interfaces/iasyncinit.ts","../corelib/ui/widgets/wx.ts","../corelib/ui/widgets/googlemap.ts","../corelib/ui/editors/select2ajaxeditor.ts"],"sourcesContent":["/**\n * Tests if any of array elements matches given predicate. Prefer Array.some() over this function (e.g. `[1, 2, 3].some(predicate)`).\n * @param array Array to test.\n * @param predicate Predicate to test elements.\n * @returns True if any element matches.\n */\nexport function any<TItem>(array: TItem[], predicate: (x: TItem) => boolean): boolean {\n    return array.some(predicate);\n}\n\n/**\n * Counts number of array elements that matches a given predicate.\n * @param array Array to test.\n * @param predicate Predicate to test elements.\n */\nexport function count<TItem>(array: TItem[], predicate: (x: TItem) => boolean): number {\n    let count = 0;\n    for (let x of array)\n        if (predicate(x))\n            count++;\n\n    return count;\n}\n\n/**\n * Gets first element in an array that matches given predicate similar to LINQ's First.\n * Throws an error if no match is found.\n * @param array Array to test.\n * @param predicate Predicate to test elements.\n * @returns First element that matches.\n */\nexport function first<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\n    for (let x of array)\n        if (predicate(x))\n            return x;\n\n    throw new Error(\"first:No element satisfies the condition.!\");\n}\n\n/**\n * A group item returned by `groupBy()`.\n */\nexport type GroupByElement<TItem> = {\n    /** index of the item in `inOrder` array */\n    order: number;\n    /** key of the group */\n    key: string;\n    /** the items in the group */\n    items: TItem[];\n    /** index of the first item of this group in the original array */\n    start: number;\n}\n\n/**\n * Return type of the `groupBy` function.\n */\nexport type GroupByResult<TItem> = {\n    byKey: { [key: string]: GroupByElement<TItem> };\n    inOrder: GroupByElement<TItem>[];\n};\n\n/**\n * Groups an array with keys determined by specified getKey() callback.\n * Resulting object contains group objects in order and a dictionary to access by key.\n * This is similar to LINQ's ToLookup function with some additional details like start index.\n * @param items Array to group.\n * @param getKey Function that returns key for each item.\n * @returns GroupByResult object.\n */\nexport function groupBy<TItem>(items: TItem[], getKey: (x: TItem) => any): GroupByResult<TItem> {\n    let result: GroupByResult<TItem> = {\n        byKey: Object.create(null),\n        inOrder: []\n    };\n\n    for (var index = 0; index < items.length; index++) {\n        var item = items[index];\n        let key = getKey(item) ?? \"\";\n        var group = result.byKey[key];\n        if (group === undefined) {\n            group = {\n                order: result.inOrder.length,\n                key: key,\n                items: [item],\n                start: index\n            }\n            result.byKey[key] = group;\n            result.inOrder.push(group);\n        }\n        else {\n            group.items.push(item);\n        }\n    }\n\n    return result;\n}\n\n/**\n * Gets index of first element in an array that matches given predicate.\n * @param array Array to test.\n * @param predicate Predicate to test elements.\n */\nexport function indexOf<TItem>(array: TItem[], predicate: (x: TItem) => boolean): number {\n    for (var i = 0; i < array.length; i++)\n        if (predicate(array[i]))\n            return i;\n\n    return -1;\n}\n\n/**\n * Inserts an item to the array at specified index. Prefer Array.splice unless\n * you need to support IE.\n * @param obj Array or array like object to insert to.\n * @param index Index to insert at.\n * @param item Item to insert.\n * @throws Error if object does not support insert.\n * @example\n * insert([1, 2, 3], 1, 4); // [1, 4, 2, 3]\n * insert({ insert: (index, item) => { this.splice(index, 0, item); } }\n */\nexport function insert(obj: any, index: number, item: any): void {\n    if (obj.insert)\n        obj.insert(index, item);\n    else if (Array.isArray(obj))\n        obj.splice(index, 0, item);\n    else\n        throw new Error(\"Object does not support insert!\");\n}\n\n/**\n * Determines if the object is an array. Prefer Array.isArray over this function (e.g. `Array.isArray(obj)`).\n * @param obj Object to test.\n * @returns True if the object is an array.\n * @example\n * isArray([1, 2, 3]); // true\n * isArray({}); // false\n */\nexport const isArray = Array.isArray;\n\n/**\n* Gets first element in an array that matches given predicate.\n* Throws an error if no matches is found, or there are multiple matches.\n* @param array Array to test.\n* @param predicate Predicate to test elements.\n* @returns First element that matches.\n* @example\n* first([1, 2, 3], x => x == 2); // 2\n* first([1, 2, 3], x => x == 4); // throws error.\n*/\nexport function single<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\n    let match: any;\n    let found = false;\n    for (let x of array)\n        if (predicate(x)) {\n            if (found)\n                throw new Error(\"single:sequence contains more than one element.\");\n\n            found = true;\n            match = x;\n        }\n\n    if (!found)\n        throw new Error(\"single:No element satisfies the condition.\");\n\n    return match;\n}\n\nexport type Grouping<TItem> = { [key: string]: TItem[] };\n\n/**\n * Maps an array into a dictionary with keys determined by specified getKey() callback,\n * and values that are arrays containing elements for a particular key.\n * @param items Array to map.\n * @param getKey Function that returns key for each item.\n * @returns Grouping object.\n * @example\n * toGrouping([1, 2, 3], x => x % 2 == 0 ? \"even\" : \"odd\"); // { odd: [1, 3], even: [2] }\n */\nexport function toGrouping<TItem>(items: TItem[], getKey: (x: TItem) => any): Grouping<TItem> {\n    let lookup: Grouping<TItem> = {};\n    for (let x of items) {\n        let key = getKey(x) ?? \"\";\n        let d = lookup[key];\n        if (!d) {\n            d = lookup[key] = [];\n        }\n\n        d.push(x);\n    }\n    return lookup;\n}\n\n/**\n * Gets first element in an array that matches given predicate (similar to LINQ's FirstOrDefault).\n * Returns null if no match is found.\n * @param array Array to test.\n * @param predicate Predicate to test elements.\n * @returns First element that matches.\n * @example\n * tryFirst([1, 2, 3], x => x == 2); // 2\n * tryFirst([1, 2, 3], x => x == 4); // null\n */\nexport function tryFirst<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\n    for (let x of array)\n        if (predicate(x))\n            return x;\n}","export type Dictionary<TItem> = { [key: string]: TItem };\n\nexport function coalesce(a: any, b: any): any {\n    return a != null ? a : b;\n}\n\nexport function isValue(a: any): boolean {\n    return a != null;\n}\n\nexport let today = (): Date => {\n    var d = new Date();\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n}\n\nexport function extend<T = any>(a: T, b: T): T {\n    for (var key in b)\n        if (Object.prototype.hasOwnProperty.call(b, key))\n            a[key] = b[key];\n    return a;\n}\n\nexport function deepClone<T = any>(a: T, a2?: any, a3?: any): T {\n    // for backward compatibility\n    if (a2 != null || a3 != null) {\n        return extend(extend(deepClone(a || {}), deepClone(a2 || {})), deepClone(a3 || {}));\n    }\n\n    // https://github.com/angus-c/just/blob/master/packages/collection-clone/index.js\n    var result = a;\n    var type = {}.toString.call(a).slice(8, -1);\n    if (type == 'Set') {\n        return new Set([...(a as any)].map(value => deepClone(value))) as any;\n    }\n    if (type == 'Map') {\n        return new Map([...(a as any)].map(kv => [deepClone(kv[0]), deepClone(kv[1])])) as any;\n    }\n    if (type == 'Date') {\n        return new Date((a as any).getTime()) as any;\n    }\n    if (type == 'RegExp') {\n        return RegExp((a as any).source, getRegExpFlags(a as any)) as any;\n    }\n    if (type == 'Array' || type == 'Object') {\n        result = (Array.isArray(a) ? [] : {}) as any;\n        for (var key in a) {\n            // include prototype properties\n            result[key] = deepClone(a[key]);\n        }\n    }\n    // primitives and non-supported objects (e.g. functions) land here\n    return result;\n}\n\nfunction getRegExpFlags(regExp: RegExp) {\n    if (typeof (regExp.source as any).flags == 'string') {\n        return (regExp.source as any).flags;\n    } else {\n        var flags = [];\n        regExp.global && flags.push('g');\n        regExp.ignoreCase && flags.push('i');\n        regExp.multiline && flags.push('m');\n        regExp.sticky && flags.push('y');\n        regExp.unicode && flags.push('u');\n        return flags.join('');\n    }\n}\n\ninterface TypeExt {\n    __interface?: boolean;\n    __interfaces?: any[];\n    __isAssignableFrom?: (from: any) => boolean;\n    __isInstanceOfType?: (instance: any) => boolean;\n    __metadata?: TypeMetadata;\n    __typeName?: string;\n}\n\ninterface TypeMetadata {\n    enumFlags?: boolean;\n    attr?: any[];\n    members?: TypeMember[];\n}\n\nexport type Type = Function | Object;\n\nexport interface TypeMember {\n    name: string;\n    type: MemberType;\n    attr?: any[];\n    getter?: string;\n    setter?: string;\n}\n\nfunction getTypeStore() {\n    return getStateStore(\"__types\");\n}\n\nexport function getNested(from: any, name: string) {\n    var a = name.split('.');\n    for (var i = 0; i < a.length; i++) {\n        from = from[a[i]];\n        if (from == null)\n            return null;\n    }\n    return from;\n}\n\nconst globalObj: any = \n    (typeof globalThis !== \"undefined\" && globalThis) || \n    (typeof window !== \"undefined\" && window) || \n    (typeof self !== \"undefined\" && self) ||\n    // @ts-ignore check for global\n    (typeof global !== \"undefined\" && global) ||\n    (function () { return this; })() || Function('return this')();\n\nexport function getGlobalThis(): any {\n    return globalObj;\n}\n\nexport function getType(name: string, target?: any): Type  {\n    var type: any;\n    const types = getTypeStore();\n    if (target == null) {\n        type = types[name];\n        if (type != null || globalObj == void 0 || name === \"Object\")\n            return type;\n\n        target = globalObj;\n    }\n\n    type = getNested(target, name)\n    if (typeof type !== 'function')\n        return null;\n\n    return type;\n}\n\nexport function getTypeNameProp(type: Type): string {\n    return (Object.prototype.hasOwnProperty.call(type, \"__typeName\") && (type as TypeExt).__typeName) || void 0;\n}\n\nexport function setTypeNameProp(type: Type, value: string) {\n    Object.defineProperty(type, \"__typeName\", { value, configurable: true });\n}\n\nexport function getTypeFullName(type: Type): string {\n    return getTypeNameProp(type) || (type as any).name ||\n        (type.toString().match(/^\\s*function\\s*([^\\s(]+)/) || [])[1] || 'Object';\n};\n\nexport function getTypeShortName(type: Type): string {\n    var fullName = getTypeFullName(type);\n    var bIndex = fullName.indexOf('[');\n    var nsIndex = fullName.lastIndexOf('.', bIndex >= 0 ? bIndex : fullName.length);\n    return nsIndex > 0 ? fullName.substr(nsIndex + 1) : fullName;\n};\n\nexport function getInstanceType(instance: any): any {\n    if (instance == null)\n        throw new ArgumentNullException(\"instance\", \"Can't get instance type of null or undefined!\");\n\n    // Have to catch as constructor cannot be looked up on native COM objects\n    try {\n        return instance.constructor;\n    }\n    catch (ex) {\n        return Object;\n    }\n};\n\nexport function isAssignableFrom(target: any, type: Type) {\n    if (target === type || (type as any).prototype instanceof target)\n        return true;\n\n    if (typeof (target as TypeExt).__isAssignableFrom === 'function')\n        return (target as TypeExt).__isAssignableFrom(type);\n\n    return false;\n};\n\nexport function isInstanceOfType(instance: any, type: Type) {\n    if (instance == null)\n        return false;\n\n    if (typeof (type as TypeExt).__isInstanceOfType === 'function')\n        return (type as TypeExt).__isInstanceOfType(instance);\n\n    return isAssignableFrom(type, getInstanceType(instance));\n};\n\nexport function safeCast(instance: any, type: Type) {\n    return isInstanceOfType(instance, type) ? instance : null;\n};\n\nexport function cast(instance: any, type: Type) {\n    if (instance == null)\n        return instance;\n    else if (isInstanceOfType(instance, type))\n        return instance;\n    throw new InvalidCastException('Cannot cast object to type ' + getTypeFullName(type));\n}\n\nexport function getBaseType(type: any) {\n    if (type === Object ||\n        !type.prototype ||\n        (type as TypeExt).__interface === true) {\n        return null;\n    }\n    else if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(type.prototype).constructor;\n    }\n    else {\n        var p = type.prototype;\n        if (Object.prototype.hasOwnProperty.call(p, 'constructor')) {\n            try {\n                var ownValue = p.constructor;\n                delete p.constructor;\n                return p.constructor;\n            }\n            finally {\n                p.constructor = ownValue;\n            }\n        }\n        return p.constructor;\n    }\n};\n\nexport function getAttributes(type: any, attrType: any, inherit?: boolean) {\n    var result = [];\n    if (inherit) {\n        var b = getBaseType(type);\n        if (b) {\n            var a: any = getAttributes(b, attrType, true);\n            for (var i = 0; i < a.length; i++) {\n                var t = getInstanceType(a[i]);\n                result.push(a[i]);\n            }\n        }\n    }\n    var attr = (type as TypeExt).__metadata?.attr;\n    if (attr != null) {\n        for (var i = 0; i < attr.length; i++) {\n            var a: any = attr[i];\n            if (attrType == null || isInstanceOfType(a, attrType)) {\n                var t = getInstanceType(a);\n                for (var j = result.length - 1; j >= 0; j--) {\n                    if (isInstanceOfType(result[j], t))\n                        result.splice(j, 1);\n                }\n                result.push(a);\n            }\n        }\n    }\n    return result;\n};\n\nexport enum MemberType {\n    field = 4,\n    property = 16\n}\n\nexport function getMembers(type: any, memberTypes: MemberType): TypeMember[] {\n    var result: TypeMember[] = [];\n    var b = getBaseType(type);\n    if (b)\n        result = getMembers(b, memberTypes & ~1);\n\n    var members = (type as TypeExt).__metadata?.members;\n    if (members != null) {\n        for (var m of members) {\n            if (memberTypes & m.type)\n                result.push(m);\n        }\n    }\n\n    return result;\n};\n\nexport function addTypeMember(type: any, member: TypeMember): TypeMember {\n\n    var name = member.name;\n    var md = ensureMetadata(type);\n    md.members = md.members || [];\n\n    let existing: TypeMember;\n    for (var m of md.members) {\n        if (m.name == name) {\n            existing = m;\n            break;\n        }\n    }\n\n    if (existing) {\n        if (member.type != null)\n            existing.type = member.type;\n        if (member.attr != null)\n            existing.attr = merge(existing.attr, member.attr);\n        if (member.getter != null)\n            existing.getter = member.getter;\n        if (member.setter != null)\n            existing.setter = member.setter;\n        return existing;\n    }\n    else {\n        md.members.push(member);\n        return member;\n    }\n}\n\nexport function getTypes(from?: any): any[] {\n    const types = getTypeStore();\n    var result = [];\n    if (!from) {\n        for (var t in types) {\n            if (Object.prototype.hasOwnProperty.call(types, t))\n                result.push(types[t]);\n        }\n    }\n    else {\n        var traverse = function (s: any, n: string) {\n            for (var c in s) {\n                if (Object.prototype.hasOwnProperty.call(s, c))\n                    traverse(s[c], c);\n            }\n            if (typeof (s) === 'function' &&\n                n.charAt(0).toUpperCase() === n.charAt(0) &&\n                n.charAt(0).toLowerCase() !== n.charAt(0))\n                result.push(s);\n        };\n        traverse(from, '');\n    }\n    return result;\n};\n\nexport function clearKeys(d: any) {\n    for (var n in d) {\n        if (Object.prototype.hasOwnProperty.call(d, n))\n            delete d[n];\n    }\n}\n\nexport function delegateCombine(delegate1: any, delegate2: any) {\n    if (!delegate1) {\n        if (!delegate2._targets) {\n            return delegate2;\n        }\n        return delegate2;\n    }\n    if (!delegate2) {\n        if (!delegate1._targets) {\n            return delegate1;\n        }\n        return delegate1;\n    }\n\n    var targets1 = delegate1._targets ? delegate1._targets : [null, delegate1];\n    var targets2 = delegate2._targets ? delegate2._targets : [null, delegate2];\n\n    return _mkdel(targets1.concat(targets2));\n};\n\nconst fallbackStore: any = {};\n\n\nexport function getStateStore(key?: string): any {\n\n    let store: any;\n    if (globalObj) {\n        if (!globalObj.Q)\n            globalObj.Q = {};\n\n        store = globalObj.Q.__stateStore;\n        if (!store)\n            globalObj.Q.__stateStore = store = Object.create(null);\n    }\n    else\n        store = fallbackStore;\n\n    if (key == null)\n        return store;\n\n    var s = store[key];\n    if (s == null)\n        store[key] = s = Object.create(null);\n    return s;\n}\n\nexport namespace Enum {\n    export let toString = (enumType: any, value: number): string => {\n        var values = enumType;\n        if (value === 0 || !((enumType as TypeExt).__metadata?.enumFlags)) {\n            for (var i in values) {\n                if (values[i] === value) {\n                    return i;\n                }\n            }\n            return value == null ? \"\" : value.toString();\n        }\n        else {\n            var parts: string[] = [];\n            for (var i in values) {\n                if (values[i] & value) {\n                    parts.push(i);\n                }\n                else\n                    parts.push(value == null ? \"\" : value.toString());\n            }\n            return parts.join(' | ');\n        }\n    };\n\n    export let getValues = (enumType: any) => {\n        var parts = [];\n        var values = enumType;\n        for (var i in values) {\n            if (Object.prototype.hasOwnProperty.call(values, i) &&\n                typeof values[i] === \"number\")\n                parts.push(values[i]);\n        }\n        return parts;\n    };\n}\n\nfunction delegateContains(targets: any[], object: any, method: any) {\n    for (var i = 0; i < targets.length; i += 2) {\n        if (targets[i] === object && targets[i + 1] === method) {\n            return true;\n        }\n    }\n    return false;\n};\n\n\nlet _mkdel = (targets: any[]): any => {\n    var delegate: any = function () {\n        if (targets.length === 2) {\n            return targets[1].apply(targets[0], arguments);\n        }\n        else {\n            var clone = targets.slice();\n            for (var i = 0; i < clone.length; i += 2) {\n                if (delegateContains(targets, clone[i], clone[i + 1])) {\n                    clone[i + 1].apply(clone[i], arguments);\n                }\n            }\n            return null;\n        }\n    };\n    delegate._targets = targets;\n\n    return delegate;\n};\n\nexport let delegateRemove = (delegate1: any, delegate2: any) => {\n    if (!delegate1 || (delegate1 === delegate2)) {\n        return null;\n    }\n    if (!delegate2) {\n        return delegate1;\n    }\n\n    var targets = delegate1._targets;\n    var object = null;\n    var method;\n    if (delegate2._targets) {\n        object = delegate2._targets[0];\n        method = delegate2._targets[1];\n    }\n    else {\n        method = delegate2;\n    }\n\n    for (var i = 0; i < targets.length; i += 2) {\n        if ((targets[i] === object) && (targets[i + 1] === method)) {\n            if (targets.length === 2) {\n                return null;\n            }\n            var t = targets.slice();\n            t.splice(i, 2);\n            return _mkdel(t);\n        }\n    }\n\n    return delegate1;\n};\n\nexport let isEnum = (type: any) => {\n    return typeof type !== \"function\" &&\n        (type as TypeExt).__interface === null;\n};\n\nexport function initFormType(typ: Function, nameWidgetPairs: any[]) {\n    for (var i = 0; i < nameWidgetPairs.length - 1; i += 2) {\n        (function (name: string, widget: any) {\n            Object.defineProperty(typ.prototype, name, {\n                get: function () {\n                    return this.w(name, widget);\n                },\n                enumerable: true,\n                configurable: true\n            });\n        })(nameWidgetPairs[i], nameWidgetPairs[i + 1]);\n    }\n}\n\nexport function prop(type: any, name: string, getter?: string, setter?: string) {\n    getter = getter || \"get_\" + name;\n    setter = setter || \"set_\" + name;\n\n    Object.defineProperty(type.prototype, name, {\n        get: function () {\n            return this[getter]();\n        },\n        set: function (value) {\n            return this[setter](value);\n        },\n        configurable: true,\n        enumerable: true\n    });\n}\n\nfunction ensureMetadata(target: Type): TypeMetadata {\n\n    if (!Object.prototype.hasOwnProperty.call(target, '__metadata') ||\n        !(target as TypeExt).__metadata) {\n        (target as TypeExt).__metadata = Object.create(null);\n    }\n\n    return (target as TypeExt).__metadata;\n}\n\nfunction distinct(arr: any[]) {\n    return arr.filter((item, pos) => arr.indexOf(item) === pos);\n}\n\nconst _fieldsProxy = new Proxy({}, { get: (_, p) => p }) as any;\n\nexport function fieldsProxy<TRow>(): Readonly<Record<keyof TRow, string>> {\n    return _fieldsProxy\n}\n\nexport function keyOf<T>(prop: keyof T) {\n    return prop;\n}\n\nfunction merge(arr1: any[], arr2: any[]) {\n    if (!arr1 || !arr2)\n        return (arr1 || arr2 || []).slice();\n\n    return distinct(arr1.concat(arr2));\n}\n\nfunction interfaceIsAssignableFrom(from: any) {\n    return from != null && \n        Array.isArray((from as TypeExt).__interfaces) && \n        (from as TypeExt).__interfaces.some(x => \n            x === this ||\n            (getTypeNameProp(this)?.length && \n                x.__interface &&\n                getTypeNameProp(x) === this.__typeName));\n}\n\nfunction registerType(type: any, name: string, intf: any[]) {\n    const types = getTypeStore();\n    if (name && name.length) {\n        setTypeNameProp(type, name);\n        types[name] = type;\n    }\n    else if (getTypeNameProp(type as TypeExt)?.length)\n        types[(type as TypeExt).__typeName] = type;\n\n    if (intf != null && intf.length)\n        Object.defineProperty(type, \"__interfaces\", {\n            value: merge((type as TypeExt).__interfaces, intf),\n            configurable: true\n        });\n}\n\nexport function registerClass(type: any, name: string, intf?: any[]) {\n    registerType(type, name, intf);\n    Object.defineProperty(type, \"__interface\", { value: false, configurable: true });\n}\n\nexport function registerEditor(type: any, name: string, intf?: any[]) {\n    registerClass(type, name, intf);\n    addAttribute(type, new EditorAttribute());\n}\n\nexport function registerEnum(type: any, name: string, enumKey?: string) {\n    registerType(type, name, undefined);\n    if (enumKey && enumKey != name) {\n        const types = getTypeStore();\n        if (!types[enumKey])\n            types[enumKey] = type;\n    }\n    Object.defineProperty(type, \"__interface\", { value: null, configurable: true });\n}\n\nexport function registerInterface(type: any, name: string, intf?: any[]) {\n    registerType(type, name, intf);\n    Object.defineProperty(type, \"__interface\", { value: true, configurable: true });\n    Object.defineProperty(type, \"__isAssignableFrom\", { value: interfaceIsAssignableFrom, configurable: true });\n}\n\nexport function addAttribute(type: any, attr: any) {\n    var md = ensureMetadata(type);\n    md.attr = md.attr || [];\n    md.attr.push(attr);\n}\n\nexport class ISlickFormatter {\n}\n\nregisterInterface(ISlickFormatter, 'Serenity.ISlickFormatter');\n\nexport class EditorAttribute {\n}\n\nregisterClass(EditorAttribute, 'Serenity.EditorAttribute');\n\nexport function initializeTypes(root: any, pre: string, limit: number) {\n\n    if (!root)\n        return;\n\n    const types = getTypeStore();\n\n    for (var k of Object.keys(root)) {\n        if (k.charAt(0) < 'A' || \n            k.charAt(0) > 'Z' || \n            k.indexOf('$') >= 0 || \n            !Object.prototype.hasOwnProperty.call(root, k))\n            continue;\n\n        var obj = root[k];\n\n        if (obj == void 0 ||\n            Array.isArray(obj) ||\n            obj instanceof Date ||\n            (typeof obj != \"function\" &&\n             typeof obj != \"object\"))\n            continue;\n\n        // no explict __typeName, e.g. not registered with a name,\n        // a function but not an html element, or registered without name\n        if (!getTypeNameProp(obj) && \n            ((typeof obj === \"function\" && typeof obj.nodeType !== \"number\") || \n             (Object.prototype.hasOwnProperty.call(obj, \"__interface\") &&\n              (obj as TypeExt).__interface !== undefined))) {\n   \n            // legacy formatter with registerClass\n            if (typeof obj == \"function\" && \n                !obj.__interfaces && \n                obj.prototype?.format &&\n                k.substr(-9) === \"Formatter\") {\n                if ((obj as TypeExt).__interface === undefined)\n                    Object.defineProperty(obj, \"__interface\", { value: false, configurable: true });\n                (obj as TypeExt).__interfaces = [ISlickFormatter]\n            }\n\n            // only register types that should\n            if ((obj as TypeExt).__interface !== undefined) {\n                setTypeNameProp(obj, pre + k);\n                types[pre + k] = obj;\n            }\n        }\n        \n        if (limit > 0) \n            initializeTypes(obj, pre + k + \".\", limit - 1);\n    }\n}\n\nexport class Exception extends Error {\n    constructor(message: string) {\n        super(message);\n        this.name = \"Exception\";\n    }\n}\n\nexport class ArgumentNullException extends Exception {\n    constructor(paramName: string, message?: string) {\n        super((message || 'Value cannot be null.') + '\\nParameter name: ' + paramName);\n        this.name = \"ArgumentNullException\";\n    }\n}\n\nexport class InvalidCastException extends Exception {\n    constructor(message: string) {\n        super(message);\n        this.name = \"InvalidCastException\";\n    }\n}\n\nexport {}","/**\n * Checks if the string ends with the specified substring.\n * @param s String to check.\n * @param suffix Suffix to check.\n * @returns True if the string ends with the specified substring.\n */\nexport function endsWith(s: string, suffix: string): boolean {\n    return s.endsWith(suffix);\n}\n\n/**\n * Checks if the string is empty or null.\n * @param s String to check.\n * @returns True if the string is empty or null.\n */\nexport function isEmptyOrNull(s: string) {\n    return s == null || s.length === 0;\n}\n\n/**\n * Checks if the string is empty or null or whitespace.\n * @param s String to check.\n * @returns True if the string is empty or null or whitespace.\n */\nexport function isTrimmedEmpty(s: string) {\n    return trimToNull(s) == null;\n}\n\n/**\n * Pads the string to the left with the specified character.\n * @param s String to pad.\n * @param len Target length of the string.\n * @param ch Character to pad with.\n * @returns Padded string.\n */\nexport function padLeft(s: string | number, len: number, ch: string = ' ') {\n    s = s == null ? '' : s.toString();\n    if ((s as any).padStart)\n        return (s as any).padStart(len, ch);\n    while (s.length < len)\n        s = ch + s;\n    return s;\n}\n\n/**\n * Checks if the string starts with the prefix\n * @param s String to check.\n * @param prefix Prefix to check.\n * @returns True if the string starts with the prefix.\n */\nexport function startsWith(s: string, prefix: string): boolean {\n    return s.startsWith(prefix);\n}\n\n/**\n * Converts the string to single line by removing line end characters\n * @param str String to convert.\n */\nexport function toSingleLine(str: string) {\n    return replaceAll(replaceAll(trimToEmpty(str), '\\r\\n', ' '), '\\n', ' ').trim();\n}\n\n/**\n * Trims the whitespace characters from the end of the string\n */\nexport var trimEnd = function(s: string) {\n    return (s ?? \"\" as any).trimEnd?.() ?? s.replace(/\\s*$/, '');\n};\n\n/**\n * Trims the whitespace characters from the start of the string\n */\nexport var trimStart = function(s: string) {\n    return (s ?? \"\" as any).trimStart?.() ?? s.replace(/^\\s*/, '');\n};\n\n/**\n * Trims the whitespace characters from the start and end of the string\n * This returns empty string even when the string is null or undefined.\n */\nexport function trim(s: string) {\n    return s?.trim() ?? '';\n}\n\n/**\n * Trims the whitespace characters from the start and end of the string\n * Returns empty string if the string is null or undefined.\n */\nexport function trimToEmpty(s: string) {\n    return (s ?? \"\").trim();\n}\n\n/**\n * Trims the whitespace characters from the start and end of the string\n * Returns null if the string is null, undefined or whitespace.\n */\nexport function trimToNull(s: string) {\n    if (s == null)\n        return null;\n    s = trim(s);\n    return s.length === 0 ? null : s;\n}\n\n/**\n * Replaces all occurrences of the search string with the replacement string.\n * @param str String to replace.\n * @param find String to find.\n * @param replace String to replace with.\n * @returns Replaced string.\n */\nexport function replaceAll(str: string, find: string, replace: string): string {\n    str = str || '';\n    return (str as any).replaceAll?.(find, replace) ?? str.split(find).join(replace);\n}\n\n/**\n * Pads the start of string to make it the specified length.\n * @param s String to pad.\n * @param len Target length of the string.\n */\nexport function zeroPad(n: number, len: number): string {\n    if (n == null)\n        return \"\";\n    let s = n.toString();\n    while (s.length < len)\n        s = \"0\" + s;\n    return s;\n}","import { getStateStore } from \"./system\";\nimport { isEmptyOrNull, startsWith } from \"./strings\";\n\nexport function localText(key: string): string {\n    let t: string = getTable()[key];\n    if (t == null) {\n        t = key ?? '';\n    }\n    return t;\n}\n\n/** @obsolete prefer localText for better discoverability */\nexport const text = localText;\n\nexport function dbText(prefix: string): ((key: string) => string) {\n    return function (key: string) {\n        return localText(\"Db.\" + prefix + \".\" + key);\n    }\n}\n\nfunction getTable(): { [key: string]: string } {\n    return getStateStore(\"__localText\");\n}\n\nexport function prefixedText(prefix: string) {\n\n    return function (text: string, key: string | ((p?: string) => string)) {\n\n        if (text != null && !startsWith(text, '`')) {\n            var local = tryGetText(text);\n            if (local != null) {\n                return local;\n            }\n        }\n\n        if (text != null && startsWith(text, '`')) {\n            text = text.substr(1);\n        }\n\n        if (!isEmptyOrNull(prefix)) {\n            var textKey = typeof (key) == \"function\" ? key(prefix) : (prefix + key);\n            var localText = tryGetText(textKey);\n            if (localText != null) {\n                return localText;\n            }\n        }\n\n        return text;\n    }\n}\n\nexport function tryGetText(key: string): string {\n    var value = getTable()[key];\n    return value;\n}\n\nexport function dbTryText(prefix: string): ((key: string) => string) {\n    return function (key: string) {\n        return localText(\"Db.\" + prefix + \".\" + key);\n    }\n}\n\nexport function proxyTexts(o: Record<string, any>, p: string, t: Record<string, any>): Object {\n    if (typeof window != 'undefined' && window['Proxy']) {\n        return new window['Proxy'](o, {\n            get: (x: Object, y: string) => {\n                var tv = t[y];\n                if (tv == null)\n                    return localText(p + y);\n                else {\n                    var z = o[y];\n                    if (z != null)\n                        return z;\n                    o[y] = z = proxyTexts({}, p + y + '.', tv);\n                    return z;\n                }\n            },\n            ownKeys: (x: Object) => Object.keys(t)\n        });\n    }\n    else {\n        for (var k of Object.keys(t)) {\n            if (typeof t[k] == 'number')\n                Object.defineProperty(o, k, {\n                    get: () => localText(p + k)\n                });\n            else\n                o[k] = proxyTexts({}, p + k + '.', t[k]);\n        }\n        return o;\n    }\n}\n\nexport class LT {\n    static empty: LT = new LT('');\n\n    constructor(private key: string) {\n    }\n\n    static add(key: string, value: string): void;\n    static add(obj: any, pre?: string) {\n        if (!obj) {\n            return;\n        }\n        \n        let table = getTable();\n\n        if (typeof obj === \"string\") {\n            table[obj] = pre;\n            return;\n        }\n\n        pre = pre || '';\n        for (let k of Object.keys(obj)) {\n            let actual = pre + k;\n            let o = obj[k];\n            if (typeof (o) === 'object') {\n                LT.add(o, actual + '.');\n            }\n            else {\n                table[actual] = o;\n            }\n        }\n    }\n\n    get() {\n        var t = getTable()[this.key];\n        if (t == null) {\n            t = this.key || '';\n        }\n        return t;\n    }\n\n    toString() {\n        var t = getTable()[this.key];\n        if (t == null) {\n            t = this.key || '';\n        }\n        return t;\n    }\n\n    static initializeTextClass = function (type: any, prefix: string) {\n        var $t1 = Object.keys(type).slice();\n        var table = getTable();\n        for (var $t2 = 0; $t2 < $t1.length; $t2++) {\n            var member = $t1[$t2];\n            var value = type[member];\n            if (value instanceof LT) {\n                var lt = value;\n                var key = prefix + member;\n                table[key] = lt.key;\n                type[member] = new LT(key);\n            }\n        }\n    }\n\n    static getDefault = function (key: string, defaultText: string) {\n        var t = getTable()[key];\n        if (t == null) {\n            t = defaultText;\n            if (t == null) {\n                t = key || '';\n            }\n        }\n        return t;\n    }\n}\n\nif (typeof globalThis !== \"undefined\") {\n    const Q = (globalThis as any).Q || ((globalThis as any).Q = {});\n    if (Q.LT == null)\n        Q.LT = LT;\n}","/// <reference types=\"jquery\" />\nconst $: JQueryStatic = typeof jQuery === \"function\" ? jQuery : typeof globalThis.$ === \"function\" ? globalThis.$ :\n    typeof window !== \"undefined\" ? (window.jQuery ?? window.$) : undefined;\n\nexport default $;","import { localText } from \"./localtext\";\nimport $ from \"@optionaldeps/jquery\";\n\n/**\n * Adds an empty option to the select.\n * @param select the select element\n */\nexport function addEmptyOption(select: JQuery | HTMLSelectElement) {\n    addOption(select, '', localText(\"Controls.SelectEditor.EmptyItemText\"));\n}\n\n/**\n * Adds an option to the select.\n */\nexport function addOption(select: JQuery | HTMLSelectElement, key: string, text: string) {\n    $('<option/>').attr(\"value\", key ?? \"\").text(text ?? \"\").appendTo(select);\n}\n\n/** @obsolete use htmlEncode as it also encodes quotes */\nexport const attrEncode = htmlEncode;\n\n/** Clears the options in the select element */\nexport function clearOptions(select: JQuery) {\n    select.html('');\n}\n\n/**\n * Finds the first element with the given relative id to the source element.\n * It can handle underscores in the source element id.\n * @param element the source element\n * @param relativeId the relative id to the source element\n * @param context the context element (optional)\n * @returns the element with the given relative id to the source element.\n */\nexport function findElementWithRelativeId(element: JQuery, relativeId: string, context?: HTMLElement): JQuery;\n/**\n * Finds the first element with the given relative id to the source element.\n * It can handle underscores in the source element id.\n * @param element the source element\n * @param relativeId the relative id to the source element\n * @param context the context element (optional)\n * @returns the element with the given relative id to the source element.\n */\nexport function findElementWithRelativeId(element: HTMLElement, relativeId: string, context?: HTMLElement): HTMLElement;\nexport function findElementWithRelativeId(element: JQuery | HTMLElement, relativeId: string, context?: HTMLElement): JQuery | Element {\n\n    const isJQuery = element instanceof $ && element != null;\n    const from: HTMLElement = isJQuery ? (element as JQuery).get(0) : element as HTMLElement;\n    const doc = typeof document === \"undefined\" ? null : document;\n\n    if (from == null)\n        return null;\n\n    var noContext = false;\n    if (context === undefined) {\n        context = from.getRootNode() as HTMLElement;\n        noContext = true;\n    }\n\n    let fromId = from.id ?? \"\";\n    while (true) {\n        var res = context?.querySelector(\"#\" + fromId + relativeId);\n        \n        if (!res && noContext)\n            res = doc?.getElementById(fromId + relativeId);\n\n        if (!res && fromId.length) {\n            res = context?.querySelector(\"#\" + fromId + \"_\" + relativeId);\n            if (!res && noContext)\n                res = doc?.getElementById(fromId + \"_\" + relativeId);\n        }\n\n        if (res || !fromId.length)\n            return isJQuery ? $(res ?? null) : (res ?? null);\n\n        let idx = fromId.lastIndexOf('_');\n        if (idx <= 0)\n            fromId = \"\";\n        else\n            fromId = fromId.substring(0, idx);\n    }\n}\n\nconst esc: Record<string, string> = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": \"&#39;\",\n    '&': '&amp;',\n}\n\nfunction escFunc(a: string): string {\n    return esc[a];\n}\n\n/**\n * Html encodes a string (encodes single and double quotes, & (ampersand), > and < characters)\n * @param s String (or number etc.) to be HTML encoded\n */\nexport function htmlEncode(s: any): string {\n    if (s == null)\n        return '';\n\n    if (typeof s !== \"string\")\n        s = \"\" + s;\n\n    return s.replace(/[<>\"'&]/g, escFunc)\n}\n\n/**\n * Creates a new DIV and appends it to the body.\n * @returns the new DIV element.\n */\nexport function newBodyDiv(): JQuery {\n    return $('<div/>').appendTo(document.body);\n}\n\n/**\n * Returns the outer HTML of the element.\n */\nexport function outerHtml(element: JQuery) {\n    return $('<i/>').append(element.eq(0).clone()).html();\n}\n\n\n/** \n * Toggles the class on the element handling spaces like jQuery addClass does.\n * @param el the element\n * @param cls the class to toggle\n * @param remove if true, the class will be added, if false the class will be removed, otherwise it will be toggled.\n */\nexport function toggleClass(el: Element, cls: string, remove?: boolean) {\n    if (cls == null || !cls.length)\n        return;\n\n    if (cls.indexOf(' ') < 0) {\n        el.classList.toggle(cls, remove);\n        return;\n    }\n\n    var k = cls.split(' ').map(x => x.trim()).filter(x => x.length);\n    for (var a of k)\n        el.classList.toggle(a, remove);\n}\n","// adapted from https://github.com/JPeer264/toastr2\n\nimport { htmlEncode, toggleClass } from \"./html\";\n\nexport type ToastContainerOptions = {\n    containerId?: string;\n    positionClass?: string;\n    target?: string;\n}\n\nexport type ToastrOptions = ToastContainerOptions & {\n    tapToDismiss?: boolean;\n    toastClass?: string;\n    showDuration?: number;\n    onShown?: () => void;\n    hideDuration?: number;\n    onHidden?: () => void;\n    closeMethod?: boolean;\n    closeDuration?: number | false;\n    closeEasing?: boolean;\n    closeOnHover?: boolean;\n    extendedTimeOut?: number;\n    iconClass?: string;\n    positionClass?: string;\n    timeOut?: number; // Set timeOut and extendedTimeOut to 0 to make it sticky\n    titleClass?: string;\n    messageClass?: string;\n    escapeHtml?: boolean;\n    target?: string;\n    closeHtml?: string;\n    closeClass?: string;\n    newestOnTop?: boolean;\n    preventDuplicates?: boolean;\n    onclick?: (event: MouseEvent) => void;\n    onCloseClick?: (event: Event) => void;\n    closeButton?: boolean;\n    rtl?: boolean;\n}\n\nexport type NotifyMap = {\n    type: string;\n    iconClass: string;\n    title?: string;\n    message?: string;\n}\n\nconst initialOptions: ToastrOptions = {\n    tapToDismiss: true,\n    toastClass: 'toast',\n    containerId: 'toast-container',\n    showDuration: 300,\n    onShown: () => { },\n    hideDuration: 1000,\n    onHidden: () => { },\n    closeMethod: false,\n    closeDuration: false,\n    closeEasing: false,\n    closeOnHover: true,\n    extendedTimeOut: 1000,\n    iconClass: 'toast-info',\n    positionClass: 'toast-top-right',\n    timeOut: 5000, // Set timeOut and extendedTimeOut to 0 to make it sticky\n    titleClass: 'toast-title',\n    messageClass: 'toast-message',\n    escapeHtml: true,\n    target: 'body',\n    closeHtml: '<button type=\"button\">&times;</button>',\n    closeClass: 'toast-close-button',\n    newestOnTop: true,\n    preventDuplicates: false,\n    rtl: false,\n    onCloseClick: () => { },\n    closeButton: false,\n    onclick: () => { },\n}\n\nvar initialInstance: Toastr = null;\n\nexport class Toastr {\n    private listener: any;\n\n    private toastId = 0;\n\n    private previousToast: string | null = null;\n\n    public options: ToastrOptions;\n\n    public constructor(options?: ToastrOptions) {\n        this.options = Object.assign(Object.assign({}, initialInstance?.options ?? initialOptions), options);\n        this.createContainer(options);\n    }\n\n    private createContainer(options: ToastContainerOptions = this.options): HTMLElement {\n        var container = document.createElement('div');\n\n        container.setAttribute('id', options.containerId);\n        if (options.positionClass)\n            toggleClass(container, options.positionClass, true);\n\n        const target = document.getElementsByTagName(options.target);\n\n        if (target && target[0]) {\n            target[0].appendChild(container);\n        }\n\n        return container;\n    }\n\n    public getContainer(options?: ToastContainerOptions, create = false): HTMLElement {\n        const container = document.getElementById(options?.containerId ?? this.options.containerId);\n\n        if (container)\n            return container;\n\n        if (create)\n            return this.createContainer(options ?? this.options);\n\n        return null;\n    }\n\n    public error(\n        message?: string,\n        title?: string,\n        opt?: ToastrOptions,\n    ): HTMLElement | null {\n        return this.notify({\n            type: 'error',\n            iconClass: 'toast-error',\n            message,\n            title,\n        }, opt);\n    }\n\n    public warning(\n        message?: string,\n        title?: string,\n        opt?: ToastrOptions,\n    ): HTMLElement | null {\n        return this.notify({\n            type: 'warning',\n            iconClass: 'toast-warning',\n            message,\n            title,\n        }, opt);\n    }\n\n    public success(\n        message?: string,\n        title?: string,\n        opt?: ToastrOptions,\n    ): HTMLElement | null {\n        return this.notify({\n            type: 'success',\n            iconClass: 'toast-success',\n            message,\n            title,\n        }, opt);\n    }\n\n    public info(\n        message?: string,\n        title?: string,\n        opt?: ToastrOptions,\n    ): HTMLElement | null {\n        return this.notify({\n            type: 'info',\n            iconClass: 'toast-info',\n            message,\n            title,\n        }, opt);\n    }\n\n    public subscribe(callback: (response: Toastr) => void): void {\n        this.listener = callback;\n    }\n\n    public publish(args: Toastr): void {\n        if (!this.listener) {\n            return;\n        }\n\n        this.listener(args);\n    }\n\n    public clear(toastElement?: HTMLElement | null, clearOptions: { force?: boolean } = {}) {\n        if (!this.clearToast(toastElement, this.options, clearOptions)) {\n            this.clearContainer(this.options);\n        }\n    }\n\n    public remove(toastElement?: HTMLElement | null) {\n        var container = this.getContainer(this.options);\n        if (!container)\n            return;\n\n        if (toastElement && toastElement !== document.activeElement) {\n            this.removeToast(toastElement);\n\n            return;\n        }\n\n        if (!container.hasChildNodes()) {\n            const parentNode = container.parentElement;\n\n            if (parentNode) {\n                parentNode.removeChild(container);\n            }\n        }\n    }\n\n    public removeToast(toastElement: HTMLElement, options = this.options) {\n        var container = this.getContainer(options);\n\n        if (!container || !toastElement.parentNode) {\n            return;\n        }\n\n        // todo set after visible state\n        // as this will be a transition of css\n        toastElement.parentNode.removeChild(toastElement);\n        // check if visible\n        if (toastElement.offsetWidth > 0 && toastElement.offsetHeight > 0) {\n            return;\n        }\n\n        if (!container.hasChildNodes()) {\n            if (container.parentNode) {\n                container.parentNode.removeChild(container);\n            }\n\n            this.previousToast = null;\n        }\n    }\n\n    private clearContainer(options: Partial<ToastrOptions> = this.options) {\n        var container = this.getContainer(options);\n        if (!container)\n            return;\n\n        const toastsToClear = Array.from(container.childNodes) as HTMLElement[];\n\n        for (let i = toastsToClear.length - 1; i >= 0; i -= 1) {\n            this.clearToast(toastsToClear[i]);\n        }\n    }\n\n    private clearToast(\n        toastElement?: HTMLElement | null,\n        options?: ToastContainerOptions,\n        clearOptions: { force?: boolean } = {},\n    ): boolean {\n        if (!toastElement) {\n            return false;\n        }\n\n        const force = clearOptions.force || false;\n\n        if (toastElement && (force || toastElement !== document.activeElement)) {\n            this.removeToast(toastElement, options);\n            return true;\n        }\n\n        return false;\n    }\n\n    private notify(map: NotifyMap, opt: ToastrOptions): HTMLElement | null {\n        opt = Object.assign(Object.assign(Object.assign({}, this.options), map), opt);\n\n        const shouldExit = (opts: ToastrOptions, exitMap: NotifyMap): boolean => {\n            if (opts.preventDuplicates) {\n                if (exitMap.message === this.previousToast) {\n                    return true;\n                }\n\n                this.previousToast = exitMap.message || '';\n            }\n            return false;\n        };\n\n\n        if (shouldExit(opt, map)) {\n            return null;\n        }\n\n        this.toastId += 1;\n\n        var container = this.getContainer(opt, true);\n\n        let intervalId: number = null;\n        const toastElement = document.createElement('div');\n        const $titleElement = document.createElement('div');\n        const $messageElement = document.createElement('div');\n        const createdElement = document.createElement('div');\n        createdElement.innerHTML = opt.closeHtml.trim();\n        const closeElement = createdElement.firstChild as HTMLElement | null;\n\n        const response: any = {\n            toastId: this.toastId,\n            state: 'visible',\n            startTime: new Date(),\n            endTime: undefined,\n            opt,\n            map,\n        };\n\n        const hideToast = (override: any = null): void => {\n            if (toastElement === document.activeElement && !override) {\n                return;\n            }\n\n            this.removeToast(toastElement);\n\n            if (intervalId) {\n                clearTimeout(intervalId);\n            }\n\n            if (opt.onHidden && response.state !== 'hidden') {\n                opt.onHidden();\n            }\n\n            response.state = 'hidden';\n            response.endTime = new Date();\n            this.publish(response);\n        };\n\n        const setAria = (): void => {\n            let ariaValue = '';\n\n            switch (opt.iconClass) {\n                case 'toast-success':\n                case 'toast-info':\n                    ariaValue = 'polite';\n\n                    break;\n\n                default:\n                    ariaValue = 'assertive';\n            }\n\n            toastElement.setAttribute('aria-live', ariaValue);\n        };\n\n        const delayedHideToast = (): void => {\n            if (opt.timeOut > 0 || opt.extendedTimeOut > 0) {\n                intervalId = setTimeout(hideToast, opt.extendedTimeOut);\n            }\n        };\n\n        const stickAround = (): void => {\n            if (intervalId) {\n                clearTimeout(intervalId);\n            }\n        };\n\n        const handleEvents = (): void => {\n            if (opt.closeOnHover) {\n                toastElement.addEventListener('mouseover', () => stickAround());\n                toastElement.addEventListener('mouseout', () => delayedHideToast());\n            }\n\n            if (!opt.onclick && opt.tapToDismiss) {\n                toastElement.addEventListener('click', hideToast);\n            }\n\n            if (opt.closeButton && closeElement) {\n                closeElement.addEventListener('click', (event) => {\n                    event.stopPropagation();\n\n                    if (opt.onCloseClick) {\n                        opt.onCloseClick(event);\n                    }\n\n                    hideToast(true);\n                });\n            }\n\n            if (opt.onclick) {\n                toastElement.addEventListener('click', (event) => {\n                    // ts needs another check here\n                    if (opt.onclick) {\n                        opt.onclick(event);\n                    }\n\n                    hideToast();\n                });\n            }\n        };\n\n        const setTitle = (): void => {\n            if (map.title) {\n                let suffix = map.title;\n                if (opt.escapeHtml) {\n                    suffix = htmlEncode(map.title);\n                }\n                $titleElement.innerHTML = suffix;\n                toggleClass($titleElement, opt.titleClass, true);\n                toastElement.appendChild($titleElement);\n            }\n        };\n\n        const setMessage = (): void => {\n            if (map.message) {\n                let suffix = map.message;\n\n                if (opt.escapeHtml) {\n                    suffix = htmlEncode(map.message);\n                }\n\n                $messageElement.innerHTML = suffix;\n                toggleClass($messageElement, opt.messageClass, true);\n                toastElement.appendChild($messageElement);\n            }\n        };\n\n        const setCloseButton = (): void => {\n            if (opt.closeButton && closeElement) {\n                toggleClass(closeElement, opt.closeClass, true);\n                closeElement.setAttribute('role', 'button');\n                toastElement.insertBefore(closeElement, toastElement.firstChild);\n            }\n        };\n\n        const setSequence = (): void => {\n            if (opt.newestOnTop) {\n                container.insertBefore(toastElement, container.firstChild);\n            } else {\n                container.appendChild(toastElement);\n            }\n        };\n\n        const displayToast = (): void => {\n            if (opt.onShown) {\n                opt.onShown();\n            }\n\n            if (opt.timeOut > 0) {\n                intervalId = setTimeout(hideToast, opt.timeOut);\n\n            }\n        };\n\n        const personalizeToast = (): void => {\n            toastElement.classList.add('show');\n            opt.rtl && toastElement.classList.add('rtl');\n            opt.toastClass && toggleClass(toastElement, opt.toastClass, true);\n            opt.iconClass && toggleClass(toastElement, opt.iconClass, true);\n            setTitle();\n            setMessage();\n            setCloseButton();\n            setSequence();\n            setAria();\n        };\n\n        personalizeToast();\n        displayToast();\n        handleEvents();\n        this.publish(response);\n        return toastElement;\n    }\n}\n\ninitialInstance = new Toastr();\n\nexport default initialInstance;\n","import { htmlEncode } from \"./html\";\nimport { localText } from \"./localtext\";\nimport { extend } from \"./system\";\nimport initialInstance, { ToastrOptions } from \"./toastr2\";\n\n// set default for toastr itself, possible security issue\nif (typeof initialInstance !== \"undefined\" && initialInstance.options)\n    initialInstance.options.escapeHtml = true;\n\nexport let defaultNotifyOptions: ToastrOptions = {\n    timeOut: 3000,\n    showDuration: 250,\n    hideDuration: 500,\n    escapeHtml: true,\n    extendedTimeOut: 500,\n    positionClass: 'position-toast toast-top-full-width'\n}\n\nfunction getToastrOptions(options: ToastrOptions) {\n    options = extend(extend({}, defaultNotifyOptions), options);\n    positionToastContainer(true, options);\n    return options;\n}\n\nfunction showToast(type: string, message: string, title?: string, options?: ToastrOptions) {\n    if (typeof initialInstance !== \"undefined\" && (typeof (initialInstance as any)[type]) === 'function') {\n        (initialInstance as any)[type](message, title, getToastrOptions(options));\n        return;\n    }\n\n    if (typeof document === \"undefined\" || !document.body) {\n        console.error(`no document found! can't show toast: ${type} - ${title}: ${message}`);\n        return;\n    }\n\n    var container = document.getElementById('toast-container') as HTMLDivElement;\n    if (!container) {\n        container = document.createElement('div');\n        container.id = \"toast-container\"\n        container.className = \"toast-container top-0 end-0 p-3\";\n        document.body.append(container);\n\n        var toast = document.createElement('div');\n        toast.className = \"toast\";\n        toast.role = \"alert\";\n        toast.ariaLive = \"assertive\";\n        toast.ariaAtomic = \"true\";\n        toast.innerHTML = `<div class=\"toast-header bg-${htmlEncode(type)} text-${htmlEncode(type)}\">\n          <strong class=\"me-auto\">${htmlEncode(title)}</strong>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"${htmlEncode(localText(\"Dialogs.CloseButton\"))}\"></button>\n        </div>\n        <div class=\"toast-body\">\n        ${htmlEncode(message)}\n        </div>\n      </div>`;\n        container.appendChild(toast);\n\n        // @ts-ignore\n        if (typeof bootstrap === \"undefined\") {\n            toast.querySelector('.btn-close').addEventListener('click', function(this: HTMLButtonElement) { this.remove(); });\n            setTimeout(function() { this.remove(); }, 10000);\n        }\n    }\n}\n\nexport function notifyWarning(message: string, title?: string, options?: ToastrOptions): void {\n    showToast('warning', message, title, getToastrOptions(options));\n}\n\nexport function notifySuccess(message: string, title?: string, options?: ToastrOptions): void {\n    showToast('success', message, title, getToastrOptions(options));\n}\n\nexport function notifyInfo(message: string, title?: string, options?: ToastrOptions): void {\n    showToast('info', message, title, getToastrOptions(options));\n}\n\nexport function notifyError(message: string, title?: string, options?: ToastrOptions): void {\n    showToast('error', message, title, getToastrOptions(options));\n}\n\nexport function positionToastContainer(create: boolean, options?: ToastrOptions) {\n    if (typeof initialInstance === 'undefined') {\n        return;\n    }\n\n    var container = initialInstance.getContainer(options, create);\n    if (!container || !container.classList.contains('position-toast'))\n        return;\n\n    var dialog = typeof $ !== \"undefined\" ? $(window.document.body).children('.ui-dialog:visible, .modal.in, .modal.show').last() : [] as any;\n    if (dialog.length > 0) {\n        var position = dialog.position();\n        container.classList.add('positioned-toast');\n        container.style.position = 'absolute';\n        container.style.top = position.top + 28 + 'px';\n        container.style.left = position.left + 6 + 'px';\n        container.style.width = dialog.width() - 12 + 'px';\n    }\n    else if (container.classList.contains('positioned-toast')) {\n        container.classList.remove('positioned-toast');\n        container.style.position = '';\n        container.style.top = '';\n        container.style.left = '';\n        container.style.width = '';\n    }\n}","var Config = {\n    /**\n     * This is the root path of your application. If your application resides under http://localhost/mysite/,\n     * your root path is \"mysite/\". This variable is automatically initialized by reading from a <link> element\n     * with ID \"ApplicationPath\" from current page, which is usually located in your _LayoutHead.cshtml file\n     */\n    applicationPath: '/',\n\n    /**\n     * Email validation by default only allows ASCII characters. Set this to true if you want to allow unicode.\n     */\n    emailAllowOnlyAscii: true,\n\n    /**\n     * @Obsolete defaulted to false before for backward compatibility, now it is true by default\n     */\n    responsiveDialogs: true,\n\n    /**\n     * Set this to true, to prefer bootstrap dialogs over jQuery UI dialogs by default for message dialogs\n     */\n    bootstrapMessages: false,\n\n    /**\n     * This is the list of root namespaces that may be searched for types. For example, if you specify an editor type\n     * of \"MyEditor\", first a class with name \"MyEditor\" will be searched, if not found, search will be followed by\n     * \"Serenity.MyEditor\" and \"MyApp.MyEditor\" if you added \"MyApp\" to the list of root namespaces.\n     *\n     * You should usually add your application root namespace to this list in ScriptInit(ialization).ts file.\n     */\n    rootNamespaces: ['Serenity'],\n\n    /**\n     * This is an optional method for handling when user is not logged in. If a users session is expired \n     * and when a NotAuthorized response is received from a service call, Serenity will call this handler, so\n     * you may intercept it and notify user about this situation and ask if she wants to login again...\n     */\n    notLoggedInHandler: <Function>null\n}\n\nif (typeof document !== 'undefined') {\n    var pathLink = document.querySelector('link#ApplicationPath') as HTMLLinkElement;\n    if (pathLink != null) {\n        Config.applicationPath = pathLink.getAttribute('href');\n    }\n}\n\nexport { Config };\n","const _bootstrap: {\n    Modal?: {\n        new (div: HTMLElement, opt?: { backdrop?: boolean }): { show: () => void, hide: () => void };\n        VERSION?: string;\n        getInstance(el: HTMLElement): { hide: () => void, show: () => void };\n    }\n// @ts-ignore\n} = typeof bootstrap !== \"undefined\" ? bootstrap : undefined;\n\nexport default _bootstrap;","import { Config } from \"./config\";\nimport { extend } from \"./system\";\nimport { htmlEncode, toggleClass } from \"./html\";\nimport { startsWith } from \"./strings\";\nimport { tryGetText } from \"./localtext\";\nimport $ from \"@optionaldeps/jquery\";\nimport bootstrap from \"@optionaldeps/bootstrap\";\n\n/**\n * Options for a message dialog button\n */\nexport interface DialogButton {\n    /** Button text */\n    text?: string;\n    /** Button hint */\n    hint?: string;\n    /** Button icon */\n    icon?: string;\n    /** Click handler */\n    click?: (e: MouseEvent) => void;\n    /** CSS class for button */\n    cssClass?: string;\n    /** HTML encode button text. Default is true. */\n    htmlEncode?: boolean;\n    /** The code that is returned from message dialog function when this button is clicked */\n    result?: string;\n}\n\n/**\n * Options that apply to all message dialog types\n */\nexport interface CommonDialogOptions {\n    /** Event handler that is called when dialog is opened */\n    onOpen?: () => void;\n    /** Event handler that is called when dialog is closed */\n    onClose?: (result: string) => void;\n    /** Dialog title */\n    title?: string;\n    /** HTML encode the message, default is true */\n    htmlEncode?: boolean;\n    /** Wrap the message in a `<pre>` element, so that line endings are preserved, default is true */\n    preWrap?: boolean;\n    /** Dialog css class. Default is based on the message dialog type */\n    dialogClass?: string;\n    /** List of buttons to show on the dialog */\n    buttons?: DialogButton[];\n    /** Class to use for the modal element for Bootstrap dialogs */\n    modalClass?: string;\n    /** True to use Bootstrap dialogs even when jQuery UI  present, default is based on `Q.Config.bootstrapMessages */\n    bootstrap?: boolean;\n    /** The result code of the button used to close the dialog is returned via this variable in the options object */\n    result?: string;\n}\n\n// if both jQuery UI and bootstrap button exists, prefer jQuery UI button as UI dialog needs them\nif (typeof $ !== \"undefined\" && ($.fn as any)?.button?.noConflict && ($ as any).ui?.button) {\n    ($.fn as any).btn = ($ as any).fn.button.noConflict();\n}\n\nfunction toIconClass(icon: string): string {\n    if (!icon)\n        return null;\n    if (startsWith(icon, 'fa-'))\n        return 'fa ' + icon;\n    if (startsWith(icon, 'glyphicon-'))\n        return 'glyphicon ' + icon;\n    return icon;\n}\n\nfunction internalUIDialog(options: CommonDialogOptions, bodyHtml: string, dialogClass: string) {\n    var opt = extend(<any>{\n        modal: true,\n        width: '40%',\n        maxWidth: 450,\n        minWidth: 180,\n        resizable: false,\n        open: function () {\n            if (options.onOpen)\n                options.onOpen.call(this);\n        },\n        close: function () {\n            ($(this) as any).dialog?.('destroy');\n            if (options.onClose)\n                options.onClose.call(this, options.result);\n        }\n    }, options);\n\n    opt.dialogClass = 's-MessageDialog' + (dialogClass ? (' ' + dialogClass) : '');\n\n    if (options.buttons) {\n        opt.buttons = options.buttons.map(x => {\n            var btn = dialogButtonToUI(x);\n            btn.click = function (e: any) {\n                options.result = x.result;\n                ($(this) as any).dialog('close');\n                x.click && x.click.call(this, e);\n            }\n            return btn;\n        });\n    }\n\n    return ($('<div>' + bodyHtml + '</div>') as any).dialog(opt);\n}\n\nlet _isBS3: boolean;\nlet _isBS5Plus: boolean;\n\n/** Returns true if Bootstrap 3 is loaded */\nexport function isBS3(): boolean {\n    if (_isBS3 != null)\n        return _isBS3;\n    // @ts-ignore\n    return (_isBS3 = !!(typeof $ !== \"undefined\" && $?.fn?.modal?.Constructor?.VERSION && ($.fn.modal.Constructor.VERSION + \"\").charAt(0) == '3'));\n}\n\n/** Returns true if Bootstrap 5+ is loaded */\nexport function isBS5Plus(): boolean {\n    if (_isBS5Plus != null)\n        return _isBS5Plus;\n    return (_isBS5Plus = typeof bootstrap !== \"undefined\" && (!bootstrap.Modal || !bootstrap.Modal.VERSION || (!bootstrap.Modal.VERSION + \"\").charAt(0) != '4'));\n}\n\nconst defaultTxt: Record<string, string> = {\n    AlertTitle: 'Alert',\n    InformationTitle: 'Information',\n    WarningTitle: 'Warning',\n    ConfirmationTitle: 'Confirm',\n    OkButton: 'OK',\n    YesButton: 'Yes',\n    NoButton: 'No',\n    CancelButton: 'Cancel',\n    CloseButton: 'Close'\n};\n\nfunction txt(k: string) {\n    return htmlEncode(tryGetText(\"Dialogs.\" + k) ?? defaultTxt[k]);\n}\n\n/** \n * Builds HTML DIV element for a Bootstrap modal dialog\n * @param title Modal title\n * @param body Modal body, it will not be HTML encoded, so make sure it is encoded \n * @param modalClass Optional class to add to the modal element\n * @param escapeHtml True to html encode body, default is true\n * @returns \n */\nexport function bsModalMarkup(title: string, body: string, modalClass?: string, escapeHtml: boolean = true): HTMLDivElement {\n    var closeButton = `<button type=\"button\" class=\"${isBS5Plus() ? \"btn-\" : \"\"}close\" data-${isBS5Plus() ? \"bs-\" : \"\"}dismiss=\"modal\" aria-label=\"${txt('CloseButton')}\">` +\n        `${isBS5Plus() ? \"\" : '<span aria-hidden=\"true\">&times;</span>'}</button>`;\n    var div = document.createElement(\"div\");\n    div.classList.add(\"modal\");\n    if (modalClass?.length)\n        toggleClass(div, modalClass, true);\n    div.setAttribute(\"tabindex\", \"-1\");\n    div.setAttribute(\"role\", \"dialog\");\n    div.innerHTML = `<div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            ${(isBS3() ? closeButton : \"\")}<h5 class=\"modal-title\">${htmlEncode(title)}</h5>${(isBS3() ? \"\" : closeButton)}\n        </div>\n        <div class=\"modal-body\">${escapeHtml ? htmlEncode(body) : body}</div>\n        <div class=\"modal-footer\"></div>\n    </div>\n</div>`;\n    return div;\n}\n\n/** Converts a `DialogButton` declaration to Bootstrap button element \n * @param x Dialog button declaration\n * @returns Bootstrap button element\n*/\nexport function dialogButtonToBS(x: DialogButton): HTMLButtonElement {\n    var html = x.htmlEncode == null || x.htmlEncode ? htmlEncode(x.text) : x.text;\n    var iconClass = toIconClass(x.icon);\n    if (iconClass?.length)\n        html = '<i class=\"' + htmlEncode(iconClass) + '\"><i>' + (html ? (\" \" + html) : \"\");\n    var button = document.createElement(\"button\");\n    button.classList.add(\"btn\");\n    if (x.cssClass?.length)\n        toggleClass(button, x.cssClass, true);\n    if (x.hint?.length)\n        button.setAttribute(\"title\", x.hint);\n    button.innerHTML = html;\n    return button;\n}\n\n/** Converts a `DialogButton` declaration to jQuery UI button type\n * @param x Dialog button declaration\n * @returns jQuery UI button type\n */\nexport function dialogButtonToUI(x: DialogButton): any {\n    var html = x.htmlEncode == null || x.htmlEncode ? htmlEncode(x.text) : x.text;\n    var iconClass = toIconClass(x.icon);\n    if (iconClass?.length)\n        html = '<i class=\"' + htmlEncode(iconClass) + '\"></i>' + (html ? (\" \" + html) : \"\");\n    var button = {\n        text: html,\n        click: x.click\n    } as any;\n    if (x.cssClass?.length)\n        button.cssClass = x.cssClass;\n    return button;\n}\n\nfunction internalBSModal(options: CommonDialogOptions, bodyHtml: string, modalClass: string) {\n    var modalDiv = bsModalMarkup(options.title, bodyHtml, \"s-MessageModal\" + (modalClass ? (\" \" + modalClass) : \"\"), false);\n    var footer = modalDiv.querySelector('.modal-footer') as HTMLElement;\n    var rawBS5 = typeof $ === \"undefined\" && isBS5Plus();\n\n    function createButton(x: DialogButton) {\n\n        if (!footer) {\n            return;\n        }\n\n        var button = dialogButtonToBS(x);\n        footer.append(button);\n        button.addEventListener(\"click\", e => {\n            options.result = x.result;\n            if (rawBS5) {\n                bootstrap.Modal.getInstance(modalDiv)?.hide();\n            }\n            else\n                ($(modalDiv) as any).modal('hide');\n            x.click && x.click.call(this, e);\n        });\n    }\n\n    if (options.buttons) {\n        for (var button of options.buttons) {\n            createButton(button);\n        }\n    }\n\n    if (rawBS5) {\n        document.body.appendChild(modalDiv);\n        if (options.onOpen)\n            modalDiv.addEventListener(\"shown.bs.modal\", options.onOpen);\n\n        modalDiv.addEventListener('hidden.bs.modal', e => {\n            try {\n                options.onClose && options.onClose(options.result);\n            }\n            finally {\n                modalDiv.remove();\n            }\n        });\n\n        document.body.appendChild(modalDiv);\n        new bootstrap.Modal(modalDiv, {\n            backdrop: false\n        }).show();\n    }\n    else {\n        var div = $(modalDiv).appendTo(document.body);\n\n        if (options.onOpen)\n            div.one('shown.bs.modal', options.onOpen);\n\n        div.one('hidden.bs.modal', e => {\n            try {\n                options.onClose && options.onClose(options.result);\n            }\n            finally {\n                div.remove();\n            }\n        });\n\n        if (isBS5Plus()) {\n\n            // @ts-ignore\n            (div as any).modal({\n                backdrop: false,\n            });\n            (div as any).modal('show');\n        }\n        else {\n            (div as any).modal({\n                backdrop: false,\n                show: true\n            } as any);\n        }\n\n        if (isBS5Plus())\n            (div as any).modal('show');\n    }\n}\n\nlet _useBrowserDialogs: boolean;\nfunction useBrowserDialogs() {\n    if (_useBrowserDialogs == null) {\n        _useBrowserDialogs = !isBS5Plus() && (typeof $ === 'undefined' || ((!($ as any).ui || !($ as any).ui?.dialog) && (!$.fn || !(($.fn as any).modal))));\n    }\n    return _useBrowserDialogs;\n}\n\nfunction useBSModal(options: CommonDialogOptions): boolean {\n    return Config.bootstrapMessages || options.bootstrap || !($ as any)?.ui?.dialog;\n}\n\nfunction getMessageBodyHtml(message: string, options?: CommonDialogOptions): string {\n    var encode = options == null || options.htmlEncode == null || options.htmlEncode;\n    if (encode)\n        message = htmlEncode(message);\n\n    var preWrap = options == null || (options.preWrap == null && encode) || options.preWrap;\n    return '<div class=\"message\"' + (preWrap ? ' style=\"white-space: pre-wrap\">' : '>') + message + '</div>';\n}\n\n/**\n * Additional options for Alert dialogs\n */\nexport interface AlertOptions extends CommonDialogOptions {\n    /** The title of OK button, or false to hide the OK button */\n    okButton?: string | boolean;\n    /** CSS class for OK button */\n    okButtonClass?: string;\n}\n\n/** \n * Displays an alert dialog \n * @param message The message to display\n * @param options Additional options. \n * @see AlertOptions \n * @example \n * alertDialog(\"An error occured!\"); }\n */\nexport function alertDialog(message: string, options?: AlertOptions) {\n\n    if (useBrowserDialogs()) {\n        window.alert(message);\n        return;\n    }\n\n    options ??= {};\n    let useBS = useBSModal(options);\n\n    if (options.htmlEncode == null)\n        options.htmlEncode = true;\n\n    if (options.okButton == null)\n        options.okButton = txt('OkButton');\n\n    if (options.title == null)\n        options.title = txt('AlertTitle')\n\n    if (options.buttons == null) {\n        options.buttons = [];\n        if (options.okButton == null || options.okButton) {\n            options.buttons.push({\n                text: typeof options.okButton == \"boolean\" ? txt('OkButton') : options.okButton,\n                cssClass: options.okButtonClass ?? (useBS ? 'btn-danger' : undefined),\n                result: 'ok'\n            });\n        }\n    }\n\n    var bodyHtml = getMessageBodyHtml(message, options);\n\n    if (useBS)\n        internalBSModal(options, bodyHtml, options.modalClass ?? \"s-AlertModal\");\n    else\n        internalUIDialog(options, bodyHtml, options.dialogClass ?? \"s-AlertDialog\");\n}\n\n/** @obsolete use alertDialog */\nexport const alert = alertDialog;\n\n/** Additional options for confirm dialog */\nexport interface ConfirmOptions extends CommonDialogOptions {\n    /** Title of the Yes button, or false to hide the Yes button. Default is value of local text: \"Dialogs.YesButton\" */\n    yesButton?: string | boolean;\n    /** CSS class for the Yes button. */\n    yesButtonClass?: string;\n    /** Title of the NO button, or false to hide the No button. Default is value of local text: \"Dialogs.NoButton\" */\n    noButton?: string | boolean;\n    /** Title of the CANCEL button, or false to hide the Cancel button. Default is value of local text: \"Dialogs.NoButton\" */\n    cancelButton?: string | boolean;\n    /** Event handler for cancel button click */\n    onCancel?: () => void;\n    /** Event handler for no button click */\n    onNo?: () => void;\n}\n\n/** \n * Display a confirmation dialog \n * @param message The message to display\n * @param onYes Callback for Yes button click \n * @param options Additional options. \n * @see ConfirmOptions \n * @example \n * confirmDialog(\"Are you sure you want to delete?\", () => { \n *     // do something when yes is clicked\n * }\n */\nexport function confirmDialog(message: string, onYes: () => void, options?: ConfirmOptions): void {\n    if (useBrowserDialogs()) {\n        if (window.confirm(message))\n            onYes && onYes();\n        return;\n    }\n\n    options ??= {};\n    let useBS = useBSModal(options);\n\n    if (options.htmlEncode == null)\n        options.htmlEncode = true;\n\n    if (options.yesButton == null)\n        options.yesButton = txt('YesButton');\n\n    if (options.noButton == null)\n        options.noButton = txt('NoButton');\n\n    if (typeof options.title === \"undefined\")\n        options.title = txt('ConfirmationTitle');\n\n    if (options.buttons == null) {\n        options.buttons = [];\n        if (options.yesButton == null || options.yesButton) {\n            options.buttons.push({\n                text: typeof options.yesButton == \"boolean\" ? txt('YesButton') : options.yesButton,\n                cssClass: options.yesButtonClass ?? (useBS ? 'btn-primary' : undefined),\n                result: 'yes',\n                click: onYes\n            });\n        }\n        if (options.noButton == null || options.noButton) {\n            options.buttons.push({\n                text: typeof options.noButton == \"boolean\" ? txt('NoButton') : options.noButton,\n                cssClass: useBS ? (isBS5Plus() ? 'btn-danger' : 'btn-default') : undefined,\n                result: 'no',\n                click: options.onNo\n            });\n        }\n        if (options.cancelButton) {\n            options.buttons.push({\n                text: typeof options.cancelButton == \"boolean\" ? txt('CancelButton') : options.cancelButton,\n                cssClass: useBS ? (isBS5Plus() ? 'btn-secondary' : 'btn-default') : undefined,\n                result: 'cancel',\n                click: options.onCancel\n            });\n        }\n    }\n\n    message = getMessageBodyHtml(message, options);\n    if (useBS)\n        internalBSModal(options, message, options.modalClass ?? \"s-ConfirmModal\");\n    else\n        internalUIDialog(options, message, options.dialogClass ?? \"s-ConfirmDialog\");\n}\n\n/** @obsolete use confirmDialog */\nexport const confirm = confirmDialog;\n\n/** Options for `iframeDialog` **/\nexport interface IFrameDialogOptions {\n    html?: string;\n}\n\n/** \n * Display a dialog that shows an HTML block in an IFRAME, which is usually returned from server callbacks\n * @param options The options\n */\nexport function iframeDialog(options: IFrameDialogOptions) {\n\n    if (useBrowserDialogs()) {\n        window.alert(options.html);\n        return;\n    }\n\n    var doc: Document;\n    function onOpen(div: HTMLElement) {\n        if (div) {\n            var iframe = div.appendChild(document.createElement('iframe'));\n            iframe.setAttribute(\"style\", \"border: none; width: 100%; height: 100%;\");\n            doc = iframe.contentDocument;\n            if (doc) {\n                doc.open();\n                doc.write(options.html);\n                doc.close();\n            }\n        }\n    }\n\n    if (useBSModal(options as any)) {\n        internalBSModal({\n            title: txt('AlertTitle'),\n            modalClass: 'modal-lg',\n            onOpen: function () { onOpen(this.querySelector(\".modal-body>div\")) }\n        }, '<div style=\"overflow: hidden\"></div>', 's-IFrameModal');\n        return;\n    }\n\n    var div = document.createElement('div');\n    div.style.overflow = \"hidden\";\n    document.body.appendChild(div);\n    let settings: IFrameDialogOptions = extend<any>({\n        autoOpen: true,\n        modal: true,\n        width: '60%',\n        height: '400',\n        title: txt('AlertTitle'),\n        open: function () {\n            onOpen(div);\n        },\n        close: function () {\n            ($(div) as any).dialog?.('destroy').html('')?.remove?.();\n        }\n    }, options);\n    ($(div) as any).dialog?.(settings);\n}\n\n/** \n * Display an information dialog \n * @param message The message to display\n * @param onOk Callback for OK button click \n * @param options Additional options. \n * @see ConfirmOptions \n * @example \n * informationDialog(\"Operation complete\", () => { \n *     // do something when OK is clicked\n * }\n */\nexport function informationDialog(message: string, onOk?: () => void, options?: ConfirmOptions) {\n    if (useBrowserDialogs()) {\n        window.alert(message);\n        onOk && onOk();\n        return;\n    }\n\n    confirmDialog(message, onOk, extend<ConfirmOptions>({\n        title: txt(\"InformationTitle\"),\n        dialogClass: \"s-InformationDialog\",\n        modalClass: \"s-InformationModal\",\n        yesButton: txt(\"OkButton\"),\n        yesButtonClass: 'btn-info',\n        noButton: false,\n    }, options));\n}\n\n/** @obsolete use informationDialog */\nexport const information = informationDialog;\n\n/** \n * Display a success dialog \n * @param message The message to display\n * @param onOk Callback for OK button click \n * @param options Additional options. \n * @see ConfirmOptions \n * @example \n * successDialog(\"Operation complete\", () => { \n *     // do something when OK is clicked\n * }\n */\nexport function successDialog(message: string, onOk?: () => void, options?: ConfirmOptions) {\n    if (useBrowserDialogs()) {\n        window.alert(message);\n        onOk && onOk();\n        return;\n    }\n\n    confirmDialog(message, onOk, extend<ConfirmOptions>({\n        title: txt(\"SuccessTitle\"),\n        dialogClass: \"s-SuccessDialog\",\n        modalClass: \"s-SuccessModal\",\n        yesButton: txt(\"OkButton\"),\n        yesButtonClass: 'btn-success',\n        noButton: false,\n    }, options));\n}\n\n/** @obsolete use successDialog */\nexport const success = successDialog;\n\n/** \n * Display a warning dialog \n * @param message The message to display\n * @param options Additional options. \n * @see AlertOptions \n * @example \n * warningDialog(\"Something is odd!\");\n */\nexport function warningDialog(message: string, options?: AlertOptions) {\n    alertDialog(message, extend<AlertOptions>({\n        title: txt(\"WarningTitle\"),\n        dialogClass: \"s-WarningDialog\",\n        modalClass: \"s-WarningModal\",\n        okButtonClass: 'btn-warning'\n    }, options));\n}\n\n/** @obsolete use warningDialog */\nexport const warning = warningDialog;\n\n/** \n * Closes a panel, triggering panelbeforeclose and panelclose events on the panel element.\n * If the panelbeforeclose prevents the default, the operation is cancelled.\n * @param element The panel element\n * @param e  The event triggering the close\n */\nexport function closePanel(element: JQuery | HTMLElement, e?: Event) {\n\n    var el = ($ && element instanceof $) ? (element as JQuery).get(0) : element as HTMLElement;\n    if (!el || !el.classList.contains(\"s-Panel\") || el.classList.contains(\"hidden\"))\n        return;\n\n    var event: any;\n    if ($) {\n        event = $.Event(e as any);\n        event.type = 'panelbeforeclose';\n        event.target = el\n        $(element).trigger(event);\n        if (event.isDefaultPrevented())\n            return;\n        event = $.Event(\"panelclosing\", { panel: el });\n        $(window).trigger(event);\n    }\n    else {\n        event = new Event(\"panelbeforeclose\", { cancelable: true });\n        el.dispatchEvent(event);\n        if (event.defaultPrevented) {\n            return;\n        }\n        event = new Event(\"panelclosing\");\n        event.panel = el;\n        window.dispatchEvent(event);\n    }\n\n    el.classList.add(\"hidden\");\n\n    var uniqueName = el.dataset.paneluniquename;\n    if (uniqueName?.length) {\n        document.querySelectorAll(`[data-panelhiddenby=\"${uniqueName}\"]`).forEach(e => {\n            e.classList.remove(\"panel-hidden\")\n            e.removeAttribute(\"data-panelhiddenby\");\n        });\n    }\n\n    if ($) {\n        $(window).triggerHandler('resize');\n        $('.require-layout:visible').triggerHandler('layout');\n        event = $.Event(e as any);\n        event.type = 'panelclose';\n        event.target = el;\n        $(el).trigger(event);\n        event = $.Event(\"panelclosed\", { panel: el });\n        $(window).trigger(event);\n    }\n    else {\n        window.dispatchEvent(new Event(\"resize\"));\n\n        var layoutEvent = new Event(\"layout\");\n        document.querySelectorAll(\".require-layout\").forEach((rl: HTMLElement) => {\n            if (rl.offsetWidth > 0 || rl.offsetHeight > 0)\n                rl.dispatchEvent(layoutEvent);\n        });\n\n        el.dispatchEvent(new Event(\"panelclose\"));\n        event = new Event(\"panelclosed\");\n        event.panel = el;\n        window.dispatchEvent(event);\n    }\n}\n\n/** \n * Opens a panel, triggering panelbeforeopen and panelopen events on the panel element,\n * and panelopening and panelopened events on the window.\n * If the panelbeforeopen prevents the default, the operation is cancelled.\n * @param element The panel element\n * @param uniqueName A unique name for the panel. If not specified, the panel id is used. If the panel has no id, a timestamp is used.\n * @param e The event triggering the open\n */\n export function openPanel(element: JQuery | HTMLElement, uniqueName?: string) {\n\n    var el = ($ && element instanceof $) ? (element as JQuery).get(0) : element as HTMLElement\n    if (!el)\n        return;\n    var event: any;\n\n    if ($) {\n        event = $.Event('panelopening', { panel: el });\n        $(window).trigger(event);\n    }\n    else {\n        event = new Event(\"panelopening\") as any;\n        event.panel = el;\n        window.dispatchEvent(event);\n    }\n\n    var container = document.querySelector('.panels-container') ?? document.querySelector('section.content') as HTMLElement;\n\n    el.dataset.paneluniquename = uniqueName ?? el.id ?? new Date().getTime().toString();\n    function hide(e: HTMLElement) {\n        if (e === el ||\n            e.tagName === \"LINK\" ||\n            e.tagName === \"SCRIPT\" ||\n            e.classList.contains('panel-hidden') ||\n            ((e.classList.contains(\"ui-dialog\") || e.classList.contains(\"ui-widget-overlay\")) && e.offsetWidth <= 0 && e.offsetHeight <= 0))\n            return;\n\n        e.classList.add(\"panel-hidden\");\n        e.setAttribute('data-panelhiddenby', el.dataset.paneluniquename);\n    }\n\n    if (container) {\n        var c = container.children;\n        const cl = c.length;\n        for (var i = 0; i < cl; i++) {\n            hide(c[i] as HTMLElement);\n        }\n\n        if (el.parentElement !== container)\n            container.appendChild(el);\n    }\n\n    document.querySelectorAll('.ui-dialog, .ui-widget-overlay, .modal.show, .modal.in').forEach(hide);\n\n    el.classList.remove(\"hidden\");\n    el.classList.remove(\"panel-hidden\");\n    el.classList.add(\"s-Panel\");\n\n    if ($) {\n        $(el).trigger('panelopen');\n        event = $.Event('panelopened', { panel: el });\n        $(window).trigger(event);\n    }\n    else {\n        el.dispatchEvent(new Event(\"panelopen\"));\n        event = new Event(\"panelopened\") as any;\n        event.panel = el;\n        window.dispatchEvent(event);\n    }\n}","import { alertDialog } from \"./dialogs\";\nimport { htmlEncode } from \"./html\";\nimport { notifyError } from \"./notify\";\nimport { ServiceError } from \"./servicetypes\";\n\nexport namespace ErrorHandling {\n\n    /**\n     * Shows a service error as an alert dialog. If the error\n     * is null, has no message or code, it shows \"??ERROR??\".\n     */\n    export function showServiceError(error: ServiceError) {\n        alertDialog(error?.Message ?? error?.Code ?? \"??ERROR??\");\n    }\n\n    /**\n     * Runtime error handler that shows a runtime error as a notification\n     * by default only in development mode (@see isDevelopmentMode)\n     * This function is assigned as window.onerror handler in \n     * ScriptInit.ts for Serenity applications so that developers\n     * can notice an error without having to check the browser console.\n     */\n    export function runtimeErrorHandler(message: string, filename?: string,\n        lineno?: number, colno?: number, error?: Error) {\n        try {\n            if (!ErrorHandling.isDevelopmentMode())\n                return;\n            var errorInfo = error?.stack ?? error?.toString();\n\n            message =\n                '<p></p><p>Message: ' + htmlEncode(message) +\n                '</p><p>File: ' + htmlEncode(filename) +\n                ', Line: ' + lineno + ', Column: ' + colno +\n                (errorInfo ? ('</p><p>' + htmlEncode(errorInfo)) : \"\") + '</p>';\n\n            window.setTimeout(function () {\n                try {\n                    notifyError(message, \"SCRIPT ERROR! See browser console (F12) for details.\", {\n                        escapeHtml: false,\n                        timeOut: 15000\n                    });\n                }\n                catch {\n                }\n            }, 0);\n        }\n        catch {\n        }\n    }\n\n    /** \n     * Determines if the current environment is development mode.\n     * The runtimeErrorHandler (window.onerror) shows error notifications only\n     * when this function returns true. The default implementation considers \n     * the environment as development mode if the host is localhost, 127.0.0.1, ::1,\n     * or a domain name that ends with .local/.localhost.\n     * @returns true if the current environment is development mode, false otherwise. \n     */\n    export function isDevelopmentMode() {\n        var hostname = (window.location.hostname ?? \"\").toLowerCase();\n        return (hostname === \"localhost\" ||\n            hostname === \"127.0.0.1\" ||\n            hostname === \"[::1]\" ||\n            hostname.endsWith(\".local\") ||\n            hostname.endsWith(\".localhost\"));\n    }\n}","import $ from \"@optionaldeps/jquery\";\n\n/** Options for the BlockUI plugin. */\nexport interface JQBlockUIOptions {\n    useTimeout?: boolean;\n}\n\nlet blockUICount: number = 0;\n\nfunction blockUIWithCheck(opt: JQBlockUIOptions) {\n    if (blockUICount > 0) {\n        blockUICount++;\n        return;\n    }\n\n    if (($ as any)?.blockUI) {\n        ($ as any).blockUI(opt);\n    }\n    else if (typeof document !== \"undefined\") {\n        var div = document.createElement(\"div\");\n        div.className = \"blockUI blockOverlay\";\n        div.setAttribute(\"style\", \"z-index: 2000; border: none; margin: 0px; padding: 0px; width: 100%; height: 100%; top: 0px; left: 0px; opacity: 0; cursor: wait; position: fixed;\");\n        document.body.appendChild(div);\n    }\n    blockUICount++;\n}\n\n/**\n * Uses jQuery BlockUI plugin to block access to whole page (default) or \n * a part of it, by using a transparent overlay covering the whole area.\n * @param options Parameters for the BlockUI plugin\n * @remarks If options are not specified, this function blocks \n * whole page with a transparent overlay. Default z-order of the overlay\n * div is 2000, so a higher z-order shouldn't be used in page.\n */\nexport function blockUI(options: JQBlockUIOptions) {\n    options = Object.assign(<any>{\n        baseZ: 2000,\n        message: '',\n        overlayCSS: {\n            opacity: '0.0',\n            zIndex: 2000,\n            cursor: 'wait'\n        }, fadeOut: 0\n    }, options);\n\n    if (options.useTimeout) {\n        window.setTimeout(function () {\n            blockUIWithCheck(options);\n        }, 0);\n    }\n    else {\n        blockUIWithCheck(options);\n    }\n}\n\n/**\n * Unblocks the page. \n */\nexport function blockUndo() {\n    if (blockUICount > 1) {\n        blockUICount--;\n        return;\n    }\n\n    blockUICount--;\n    if (($ as any)?.unblockUI)\n        ($ as any).unblockUI({ fadeOut: 0 });\n    else if (typeof document !== \"undefined\")\n        document.body.querySelector(':scope > .blockUI.blockOverlay')?.remove();\n}","import { extend } from \"./system\";\nimport { Config } from \"./config\"\nimport { ErrorHandling } from \"./errorhandling\";\nimport { alertDialog, iframeDialog } from \"./dialogs\";\nimport { blockUI, blockUndo } from \"./blockui\";\nimport { ListRequest, ServiceOptions, ServiceResponse } from \"./servicetypes\";\n\nexport function getCookie(name: string) {\n    if (($ as any).cookie)\n        return ($ as any).cookie(name);\n\n    name += '=';\n    for (var ca = document.cookie.split(/;\\s*/), i = ca.length - 1; i >= 0; i--)\n        if (!ca[i].indexOf(name))\n            return ca[i].replace(name, '');\n}\n\ntypeof $ != 'undefined' && $.ajaxSetup && $.ajaxSetup({\n    beforeSend: function (xhr, opt) {\n        if (!opt || !opt.crossDomain) {\n            var token = getCookie('CSRF-TOKEN');\n            if (token)\n                xhr.setRequestHeader('X-CSRF-TOKEN', token);\n        }\n    }\n});\n\nexport function serviceCall<TResponse extends ServiceResponse>(options: ServiceOptions<TResponse>) {\n    let handleError = function (response: any) {\n        if (Config.notLoggedInHandler != null &&\n            response &&\n            response.Error &&\n            response.Error.Code == 'NotLoggedIn' &&\n            Config.notLoggedInHandler(options, response)) {\n            return;\n        }\n\n        if (options.onError != null) {\n            options.onError(response);\n            return;\n        }\n\n        ErrorHandling.showServiceError(response.Error);\n    };\n\n    var url = options.service;\n    if (url && url.length && url.charAt(0) != '~' && url.charAt(0) != '/' && url.indexOf('://') < 0)\n        url = resolveUrl(\"~/Services/\") + url;\n\n    options = extend<ServiceOptions<TResponse>>({\n        dataType: 'json',\n        contentType: 'application/json',\n        type: 'POST',\n        cache: false,\n        blockUI: true,\n        url: url,\n        data: JSON.stringify(options.request),\n        success: function (data: any, textStatus: string, request: any) {\n            try {\n                if (!data.Error && options.onSuccess) {\n                    options.onSuccess(data);\n                }\n            }\n            finally {\n                if (options.blockUI) {\n                    blockUndo();\n                }\n                options.onCleanup && options.onCleanup();\n            }\n        },\n        error: function (xhr: any, status: any, ev: any) {\n            try {\n                if (xhr.status === 403) {\n                    var l: any = null;\n                    try {\n                        l = xhr.getResponseHeader('Location');\n                    }\n                    catch ($t1) {\n                        l = null;\n                    }\n                    if (l) {\n                        window.top.location.href = l;\n                        return;\n                    }\n                }\n                if ((xhr.getResponseHeader('content-type') || '')\n                    .toLowerCase().indexOf('application/json') >= 0) {\n                    var json = $.parseJSON(xhr.responseText);\n                    if (json && json.Error) {\n                        handleError(json);\n                        return;\n                    }\n                }\n                var html = xhr.responseText;\n                if (!html) {\n                    if (!xhr.status) {\n                        if (xhr.statusText != \"abort\")\n                            alertDialog(\"An unknown AJAX connection error occurred! Check browser console for details.\");\n                    }\n                    else if (xhr.status == 500)\n                        alertDialog(\"HTTP 500: Connection refused! Check browser console for details.\");\n                    else\n                        alertDialog(\"HTTP \" + xhr.status + ' error! Check browser console for details.');\n                }\n                else\n                    iframeDialog({ html: html });\n            }\n            finally {\n                if (options.blockUI) {\n                    blockUndo();\n                }\n                options.onCleanup && options.onCleanup();\n            }\n        }\n    }, options);\n\n    if (options.blockUI) {\n        blockUI(null);\n    }\n\n    return $.ajax(options);\n}\n\nexport function serviceRequest<TResponse extends ServiceResponse>(service: string, request?: any,\n    onSuccess?: (response: TResponse) => void, options?: ServiceOptions<TResponse>) {\n    return serviceCall(extend<ServiceOptions<TResponse>>({\n        service: service,\n        request: request,\n        onSuccess: onSuccess\n    }, options));\n}\n\nexport function setEquality(request: ListRequest, field: string, value: any) {\n    if (request.EqualityFilter == null) {\n        request.EqualityFilter = {};\n    }\n    request.EqualityFilter[field] = value;\n}\n\nexport interface PostToServiceOptions {\n    url?: string;\n    service?: string;\n    target?: string;\n    request: any;\n}\n\nexport interface PostToUrlOptions {\n    url?: string;\n    target?: string;\n    params: any;\n}\n\nexport function parseQueryString(s?: string): {} {\n    let qs: string;\n    if (s === undefined)\n        qs = location.search.substring(1, location.search.length);\n    else\n        qs = s || '';\n    let result: Record<string, string> = {};\n    let parts = qs.split('&');\n    for (let i = 0; i < parts.length; i++) {\n        let pair = parts[i].split('=');\n        let name = decodeURIComponent(pair[0]);\n        result[name] = (pair.length >= 2 ? decodeURIComponent(pair[1]) : name);\n    }\n    return result;\n}\n\nexport function postToService(options: PostToServiceOptions) {\n    let form = $('<form/>')\n        .attr('method', 'POST')\n        .attr('action', options.url ? (resolveUrl(options.url)) : resolveUrl('~/Services/' + options.service))\n        .appendTo(document.body);\n    if (options.target)\n        form.attr('target', options.target);\n    let div = $('<div/>').appendTo(form);\n    $('<input/>').attr('type', 'hidden').attr('name', 'request')\n        .val($['toJSON'](options.request))\n        .appendTo(div);\n    var csrfToken = getCookie('CSRF-TOKEN');\n    if (csrfToken) {\n        $('<input/>').attr('type', 'hidden').attr('name', '__RequestVerificationToken')\n            .appendTo(div).val(csrfToken);\n    }\n    $('<input/>').attr('type', 'submit')\n        .appendTo(div);\n    form.submit();\n    window.setTimeout(function () { form.remove(); }, 0);\n}\n\nexport function postToUrl(options: PostToUrlOptions) {\n    let form = $('<form/>')\n        .attr('method', 'POST')\n        .attr('action', resolveUrl(options.url))\n        .appendTo(document.body);\n    if (options.target)\n        form.attr('target', options.target);\n    let div = $('<div/>').appendTo(form);\n    if (options.params != null) {\n        for (let k in options.params) {\n            $('<input/>').attr('type', 'hidden').attr('name', k)\n                .val(options.params[k])\n                .appendTo(div);\n        }\n    }\n    var csrfToken = getCookie('CSRF-TOKEN');\n    if (csrfToken) {\n        $('<input/>').attr('type', 'hidden').attr('name', '__RequestVerificationToken')\n            .appendTo(div).val(csrfToken);\n    }\n    $('<input/>').attr('type', 'submit')\n        .appendTo(div);\n    form.submit();\n    window.setTimeout(function () { form.remove(); }, 0);\n}\n\nexport function resolveUrl(url: string) {\n    if (url && url.substr(0, 2) === '~/') {\n        return Config.applicationPath + url.substr(2);\n    }\n\n    return url;\n}","import { padLeft, startsWith, trim, trimToNull, zeroPad } from \"./strings\";\n\n/**\n * Interface for number formatting, similar to .NET's NumberFormatInfo\n */\nexport interface NumberFormat {\n    /** Decimal separator */\n    decimalSeparator: string;\n    /** Group separator */\n    groupSeparator?: string;\n    /** Number of digits after decimal separator */\n    decimalDigits?: number;\n    /** Positive sign */\n    positiveSign?: string;\n    /** Negative sign */\n    negativeSign?: string;\n    /** Zero symbol */\n    nanSymbol?: string;\n    /** Percentage symbol */\n    percentSymbol?: string;\n    /** Currency symbol */\n    currencySymbol?: string;\n}\n\n/** Interface for date formatting, similar to .NET's DateFormatInfo */\nexport interface DateFormat {\n    /** Date separator */\n    dateSeparator?: string;\n    /** Default date format string */\n    dateFormat?: string;\n    /** Date order, like dmy, or ymd */\n    dateOrder?: string;\n    /** Default date time format string */\n    dateTimeFormat?: string;\n    /** AM designator */\n    amDesignator?: string;\n    /** PM designator */\n    pmDesignator?: string;\n    /** Time separator */\n    timeSeparator?: string;\n    /** First day of week, 0 = Sunday, 1 = Monday */\n    firstDayOfWeek?: number;\n    /** Array of day names */\n    dayNames?: string[];\n    /** Array of short day names */\n    shortDayNames?: string[];\n    /** Array of two letter day names */\n    minimizedDayNames?: string[];\n    /** Array of month names */\n    monthNames?: string[];\n    /** Array of short month names */\n    shortMonthNames?: string[];\n}\n\n/** Interface for a locale, similar to .NET's CultureInfo */\nexport interface Locale extends NumberFormat, DateFormat {\n    /** Locale string comparison function, similar to .NET's StringComparer */\n    stringCompare?: (a: string, b: string) => number;\n    /** Locale string to upper case function */\n    toUpper?: (a: string) => string;\n}\n\n/** Invariant locale (e.g. CultureInfo.InvariantCulture) */\nexport let Invariant: Locale = {\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    decimalDigits: 2,\n    negativeSign: '-',\n    positiveSign: '+',\n    percentSymbol: '%',\n    currencySymbol: '$',\n    dateSeparator: '/',\n    dateOrder: 'mdy',\n    dateFormat: 'MM/dd/yyyy',\n    dateTimeFormat: 'MM/dd/yyyy HH:mm:ss',\n    amDesignator: 'AM',\n    pmDesignator: 'PM',\n    timeSeparator: ':',\n    firstDayOfWeek: 0,\n    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDayNames: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    minimizedDayNames: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December', ''],\n    shortMonthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', ''],\n    stringCompare: (a, b) => a < b ? -1 : (a > b ? 1 : 0)\n}\n\n/** \n * Factory for a function that compares two strings, based on a character order \n * passed in the `order` argument.\n */\nexport function compareStringFactory(order: string): ((a: string, b: string) => number) {\n\n    var o: { [key: string]: number } = {};\n    for (let z = 0; z < order.length; z++) {\n        o[order.charAt(z)] = z + 1;\n    }\n\n    return function (a: string, b: string) {\n        a = a || \"\";\n        b = b || \"\";\n        if (a == b)\n            return 0;\n\n        let c: number;\n        for (let i = 0, _len = Math.min(a.length, b.length); i < _len; i++) {\n            let x = a.charAt(i), y = b.charAt(i);\n            if (x === y) {\n                continue;\n            }\n            let ix = o[x], iy = o[y];\n            if (ix != null && iy != null)\n                return ix < iy ? -1 : 1;\n            c = x.localeCompare(y);\n            if (c == 0)\n                continue;\n            return c;\n        }\n        if (c != null)\n            return c;\n        return a.localeCompare(b);\n    }\n}\n\n/**\n * Current culture, e.g. CultureInfo.CurrentCulture. This is overridden by\n * settings passed from a `<script>` element in the page with id `ScriptCulture`\n * containing a JSON object if available. This element is generally created in \n * the _LayoutHead.cshtml file for Serenity applications, so that the culture\n * settings determined server, can be passed to the client.\n */\nexport let Culture: Locale = {\n    decimalSeparator: '.',\n    groupSeparator: ',',\n    dateSeparator: '/',\n    dateOrder: 'dmy',\n    dateFormat: 'dd/MM/yyyy',\n    dateTimeFormat: 'dd/MM/yyyy HH:mm:ss',\n    stringCompare: compareStringFactory(\"AaBbCcFfGgHhIiJjKkLlMmNnOoPpRrSsTtUuVvYyZz\")\n};\n\n(function () {\n    let k: string;\n    for (k in Invariant)\n        if ((Culture as any)[k] === undefined && Object.prototype.hasOwnProperty.call(Invariant, k))\n            (Culture as any)[k] = (Invariant as any)[k];\n\n    if (typeof document !== \"undefined\" && (k = trimToNull(document.querySelector('script#ScriptCulture')?.textContent)) != null) {\n        var sc = JSON.parse(k);\n        if (sc.DecimalSeparator != null)\n            Culture.decimalSeparator = sc.DecimalSeparator;\n        if (sc.GroupSeparator != null && sc.GroupSeparator != Culture.decimalSeparator)\n            Culture.groupSeparator = sc.GroupSeparator;\n        else if (Culture.groupSeparator == Culture.decimalSeparator)\n            Culture.groupSeparator = Culture.decimalSeparator == '.' ? ',' : '.';\n\n        delete sc.GroupSeparator;\n        delete sc.DecimalSeparator;\n        for (k in sc) {\n            if ((Culture as any)[k] === undefined && Object.prototype.hasOwnProperty.call(sc, k))\n                (Culture as any)[k.charAt(0).toLowerCase() + k.substr(1)] = sc[k];\n        }\n    }\n})();\n\n/**\n * A string to lowercase function that handles special Turkish\n * characters like ''. Left in for compatibility reasons.\n */\nexport function turkishLocaleToLower(a: string): string {\n    if (!a)\n        return a;\n    return a.replace(/i/g, '').replace(//g, 'I').toLowerCase();\n}\n\n/**\n * A string to uppercase function that handles special Turkish\n * characters like ''. Left in for compatibility reasons.\n */\nexport function turkishLocaleToUpper(a: string): string {\n    if (!a)\n        return a;\n    return a.replace(/i/g, '').replace(//g, 'I').toUpperCase();\n}\n\n/**\n * This is an alias for Culture.stringCompare, left in for compatibility reasons.\n */\nexport let turkishLocaleCompare = Culture.stringCompare;\n\nfunction insertGroupSeperator(num: string, dec: string, grp: string, neg: string) {\n    var decPart = null;\n    var decIndex = num.indexOf(dec);\n    if (decIndex > 0) {\n        decPart = num.substring(decIndex);\n        num = num.substr(0, decIndex);\n    }\n\n    var negative = startsWith(num, neg);\n    if (negative) {\n        num = num.substring(1);\n    }\n\n    var groupSize = 3;\n    if (num.length < groupSize) {\n        return (negative ? neg : '') + (decPart ? num + decPart : num);\n    }\n\n    var index = num.length;\n    var s = '';\n    var done = false;\n    while (!done) {\n        var length = groupSize;\n        var startIndex = index - length;\n        if (startIndex < 0) {\n            groupSize += startIndex;\n            length += startIndex;\n            startIndex = 0;\n            done = true;\n        }\n\n        if (!length)\n            break;\n\n        var part = num.substring(startIndex, startIndex + length);\n        if (s.length)\n            s = part + grp + s;\n        else\n            s = part;\n        index -= length;\n    }\n\n    if (negative)\n        s = '-' + s;\n    return decPart ? s + decPart : s;\n}\n\nvar _formatRE = /\\{\\{|\\}\\}|\\{[^\\}\\{]+\\}/g;\n\nfunction _formatString(format: string, l: Locale, values: IArguments, from: number) {\n\n    return format.replace(_formatRE,\n        function (m) {\n            if (m === '{{' || m === '}}')\n                return m.charAt(0);\n            var index = parseInt(m.substr(1), 10);\n            var value = values[index + from];\n            if (value == null) {\n                return '';\n            }\n            var formatSpec = null;\n            var formatIndex = m.indexOf(':');\n            if (formatIndex > 0) {\n                formatSpec = m.substring(formatIndex + 1, m.length - 1);\n            }\n            return _formatObject(value, formatSpec, l);\n        });\n};\n\n\n/**\n * Formats a string with parameters similar to .NET's String.Format function\n * using current `Culture` locale settings.\n */\nexport function format(format: string, ...prm: any[]): string {\n    return _formatString(format, Culture, arguments, 1);\n}\n\n/**\n * Formats a string with parameters similar to .NET's String.Format function\n * using the locale passed as the first argument.\n */\nexport function localeFormat(l: Locale, format: string, ...prm: any[]): string {\n    return _formatString(format, l, arguments, 2);\n}\n\nfunction _formatObject(obj: any, format: string, fmt?: Locale): string {\n    if (typeof (obj) === 'number')\n        return formatNumber(obj, format, fmt);\n    else if (Object.prototype.toString.call(obj) === '[object Date]')\n        return formatDate(obj, format, fmt);\n    else if (obj.format)\n        return obj.format(format, fmt ?? Culture);\n    return String(obj);\n};\n\n/** \n * Rounds a number to specified digits or an integer number if digits are not specified.\n * @param n the number to round \n * @param d the number of digits to round to. default is zero.\n * @param rounding whether to use banker's rounding\n * @returns the rounded number \n */\nexport let round = (n: number, d?: number, rounding?: boolean) => {\n    var m = Math.pow(10, d || 0);\n    n *= m;\n    var sign = ((n > 0) as any) | -(n < 0);\n    if (n % 1 === 0.5 * sign) {\n        var f = Math.floor(n);\n        return (f + (rounding ? (sign > 0) as any : (f % 2 * sign))) / m;\n    }\n\n    return Math.round(n) / m;\n};\n\n/**\n * Truncates a number to an integer number.\n */\nexport let trunc = (n: number): number => n != null ? (n > 0 ? Math.floor(n) : Math.ceil(n)) : null;\n\n/**\n * Formats a number using the current `Culture` locale (or the passed locale) settings.\n * It supports format specifiers similar to .NET numeric formatting strings.\n * @param num the number to format\n * @param format the format specifier. default is 'g'.\n * See .NET numeric formatting strings documentation for more information.\n */\nexport function formatNumber(num: number, format?: string, decOrLoc?: string | NumberFormat, grp?: string): string {\n\n    if (num == null)\n        return \"\";\n\n    var fmt: NumberFormat = typeof decOrLoc !== \"string\" ? (decOrLoc ?? Culture) : {\n        decimalSeparator: decOrLoc,\n        groupSeparator: grp ?? (decOrLoc == \",\" ? \".\" : \",\")\n    }\n\n    if (isNaN(num)) {\n        return fmt.nanSymbol ?? Culture.nanSymbol;\n    }\n\n    if (format === 'i') {\n        return num.toString();\n    }\n\n    if (format == null || format == '') {\n        format = 'g';\n    }\n\n    var dec = fmt.decimalSeparator ?? Culture.decimalSeparator;\n    grp = grp ?? fmt.groupSeparator ?? Culture.groupSeparator;\n    var neg = fmt.negativeSign ?? Culture.negativeSign;\n\n    var s = '';\n    var precision = -1;\n\n    if (format.length > 1) {\n        precision = parseInt(format.substring(1), 10);\n    }\n\n    var fs = format.charAt(0);\n    switch (fs) {\n        case 'g':\n        case 'G':\n            if (precision != -1)\n                s = num.toFixed(precision);\n            else\n                s = num.toString();\n            if (dec != '.')\n                s = s.replace('.', dec);\n            break;\n        case 'd':\n        case 'D':\n            s = parseInt(Math.abs(num) as any).toString();\n            if (precision != -1)\n                s = padLeft(s, precision, '0');\n            if (num < 0)\n                s = neg + s;\n            break;\n        case 'x': case 'X':\n            s = parseInt(Math.abs(num) as any).toString(16);\n            if (fs == 'X')\n                s = s.toUpperCase();\n            if (precision != -1)\n                s = padLeft(s, precision, '0');\n            break;\n        case 'e':\n        case 'E':\n            if (precision == -1)\n                s = num.toExponential(6);\n            else\n                s = num.toExponential(precision);\n            if (fs == 'E')\n                s = s.toUpperCase();\n            break;\n        case 'f':\n        case 'F':\n        case 'n':\n        case 'N':\n            if (precision == -1) {\n                precision = fmt.decimalDigits ?? Culture.decimalDigits;\n            }\n            s = num.toFixed(precision).toString();\n            if (precision && (dec != '.')) {\n                var index = s.indexOf('.');\n                s = s.substring(0, index) + dec + s.substring(index + 1);\n            }\n            if ((fs == 'n') || (fs == 'N')) {\n                s = insertGroupSeperator(s, dec, grp, neg);\n            }\n            break;\n        case 'c': case 'C':\n        case 'p': case 'P':\n            if (precision == -1) {\n                precision = fmt.decimalDigits ?? Culture.decimalDigits;\n            }\n            var symbol: string;\n            if (fs === 'p' || fs == 'P') {\n                num *= 100;\n                symbol = fmt.percentSymbol ?? Culture.percentSymbol;\n            }\n            else {\n                symbol = fmt.currencySymbol ?? Culture.currencySymbol;\n            }\n            s = num.toFixed(precision).toString();\n            if (precision && (dec != '.')) {\n                var index = s.indexOf('.');\n                s = s.substring(0, index) + dec + s.substring(index + 1);\n            }\n            s = insertGroupSeperator(s, dec, grp, neg) + symbol;\n            break;\n\n        default:\n            var prefix = '';\n            var mid = '';\n            var suffix = '';\n            var endPrefix = false;\n            var inQuote = false;\n            for (var i = 0; i < format.length; i++) {\n                var c = format.charAt(i);\n                if (c == \"'\") {\n                    inQuote = !inQuote;\n                    continue;\n                }\n                else if (!inQuote) {\n                    if (c == '\\\\') {\n                        var c = (format.charAt(i + 1) || '');\n                        i++;\n                    }\n                    else if (c == '#' || c == ',' || c == '.' || c == '0') {\n                        endPrefix = true;\n                        mid += c;\n                        continue;\n                    }\n                }\n                endPrefix ? (suffix += c) : (prefix += c);\n            }\n\n            format = mid;\n\n            let r = \"\";\n            if (format.indexOf(\".\") > -1) {\n                let dp = dec;\n                let df = format.substring(format.lastIndexOf(\".\") + 1);\n                num = roundNumber(num, df.length);\n                let dv = num % 1;\n                let ds = new String(dv.toFixed(df.length));\n                ds = ds.substring(ds.lastIndexOf(\".\") + 1);\n                for (let i = 0; i < df.length; i++) {\n                    if (df.charAt(i) == '#' && ds.charAt(i) != '0') {\n                        dp += ds.charAt(i);\n                        continue;\n                    }\n                    else if (df.charAt(i) == '#' && ds.charAt(i) == '0') {\n                        let notParsed = ds.substring(i);\n                        if (notParsed.match('[1-9]')) {\n                            dp += ds.charAt(i);\n                            continue;\n                        }\n                        else\n                            break;\n                    }\n                    else if (df.charAt(i) == \"0\")\n                        dp += ds.charAt(i);\n                    else\n                        dp += df.charAt(i);\n                }\n                r += dp;\n            }\n            else\n                num = Math.round(num);\n\n            let ones = Math.floor(num);\n            if (num < 0)\n                ones = Math.ceil(num);\n            let of = \"\";\n            if (format.indexOf(\".\") == -1)\n                of = format;\n            else\n                of = format.substring(0, format.indexOf(\".\"));\n\n            let op = \"\";\n            if (!(ones == 0 && of.substr(of.length - 1) == '#')) {\n                // find how many digits are in the group\n                let oneText = new String(Math.abs(ones));\n                let gl = 9999;\n                if (of.lastIndexOf(\",\") != -1)\n                    gl = of.length - of.lastIndexOf(\",\") - 1;\n                let gc = 0;\n                for (let i = oneText.length - 1; i > -1; i--) {\n                    op = oneText.charAt(i) + op;\n                    gc++;\n                    if (gc == gl && i != 0) {\n                        op = grp + op;\n                        gc = 0;\n                    }\n                }\n\n                // account for any pre-data padding\n                if (of.length > op.length) {\n                    let padStart = of.indexOf('0');\n                    if (padStart != -1) {\n                        let padLen = of.length - padStart;\n                        // pad to left with 0's or group char\n                        let pos = of.length - op.length - 1;\n                        while (op.length < padLen) {\n                            let pc = of.charAt(pos);\n                            // replace with real group char if needed\n                            if (pc == ',')\n                                pc = grp;\n                            op = pc + op;\n                            pos--;\n                        }\n                    }\n                }\n            }\n\n            if (!op && of.indexOf('0', of.length - 1) !== -1)\n                op = '0';\n\n            r = op + r;\n            if (num < 0)\n                r = neg + r;\n\n            if (r.lastIndexOf(dec) == r.length - 1) {\n                r = r.substring(0, r.length - 1);\n            }\n\n            return prefix + r + suffix;\n    }\n\n    return s;\n}\n\n/**\n * Converts a string to an integer. The difference between parseInt and parseInteger \n * is that parseInteger will return null if the string is empty or null, whereas\n * parseInt will return NaN and parseInteger will use the current culture's group\n * and decimal separators.\n * @param s the string to parse\n */\nexport function parseInteger(s: string): number {\n    if (s == null)\n        return null;\n    s = trim(s.toString());\n    if (!s.length)\n        return null;\n    let ts = Culture.groupSeparator;\n    if (s && s.length && s.indexOf(ts) > 0) {\n        s = s.replace(new RegExp(\"(\\\\b\\\\d{1,3})\\\\\" + ts + \"(?=\\\\d{3}(\\\\D|$))\", \"g\"), '$1');\n    }\n    if (!(/^[-\\+]?\\d+$/.test(s)))\n        return NaN;\n    return parseInt(s, 10);\n}\n\n/**\n * Converts a string to a decimal. The difference between parseFloat and parseDecimal\n * is that parseDecimal will return null if the string is empty or null, whereas\n * parseFloat will return NaN and parseDecimal will use the current culture's group\n * and decimal separators.\n * @param s the string to parse\n */\nexport function parseDecimal(s: string): number {\n    if (s == null)\n        return null;\n\n    s = trim(s.toString());\n    if (s.length == 0)\n        return null;\n\n    let ts = Culture.groupSeparator;\n\n    if (s && s.length && s.indexOf(ts) > 0) {\n        s = s.replace(new RegExp(\"(\\\\b\\\\d{1,3})\\\\\" + ts + \"(?=\\\\d{3}(\\\\D|$))\", \"g\"), '$1');\n    }\n\n    if (!(new RegExp(\"^\\\\s*([-\\\\+])?(\\\\d*)\\\\\" + Culture.decimalSeparator + \"?(\\\\d*)\\\\s*$\").test(s)))\n        return NaN;\n\n    return parseFloat(s.toString().replace(Culture.decimalSeparator, '.'));\n}\n\n/** \n * Rounds a number to a specified number of decimal places.\n * @param n the number to round\n * @param dec the number of decimal places to round to\n * @returns the rounded number\n */\nfunction roundNumber(n: number, dec?: number): number {\n    let power = Math.pow(10, dec || 0);\n    let value = (Math.round(n * power) / power).toString();\n    // ensure the decimal places are there\n    if (dec > 0) {\n        let dp = value.indexOf(\".\");\n        if (dp == -1) {\n            value += '.';\n            dp = 0;\n        }\n        else {\n            dp = value.length - (dp + 1);\n        }\n        while (dp < dec) {\n            value += '0';\n            dp++;\n        }\n    }\n    return parseFloat(value);\n}\n\n/**\n * Converts a string to an ID. If the string is a number, it is returned as-is.\n * If the string is empty, null or whitespace, null is returned.\n * Otherwise, it is converted to a number if possible. If the string is not a\n * valid number or longer than 14 digits, the trimmed string is returned as-is.\n * @param id the string to convert to an ID\n */\nexport function toId(id: any): any {\n    if (id == null)\n        return null;\n    if (typeof id == \"number\")\n        return id;\n    if (typeof id == \"string\")\n        id = trim(id);\n    if (!id.length)\n        return null;\n    if (id.length >= 15 || !(/^-?\\d+$/.test(id)))\n        return id;\n    return parseInt(id, 10);\n}\n\nvar _dateFormatRE = /'.*?[^\\\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|\\//g;\n\n/** \n * Formats a date using the specified format string and optional culture.\n * Supports .NET style format strings including custom formats.\n * See .NET documentation for supported formats.\n * @param d the date to format. If null, it returns empty string.\n * @param format the format string to use. If null, it uses the current culture's default format.\n * 'G' uses the culture's datetime format.\n * 'g' uses the culture's datetime format with secs removed. \n * 'd' uses the culture's date format.\n * 't' uses the culture's time format.\n * 'u' uses the sortable ISO format with UTC time.\n * 'U' uses the culture's date format with UTC time.\n * @param locale the locale to use\n * @returns the formatted date\n * @example\n * // returns \"2019-01-01\"\n * formatDate(new Date(2019, 0, 1), \"yyyy-MM-dd\");\n * @example\n * // returns \"2019-01-01 12:00:00\"\n * formatDate(new Date(2019, 0, 1, 12), \"yyyy-MM-dd HH:mm:ss\");\n * @example\n * // returns \"2019-01-01 12:00:00.000\"\n * formatDate(new Date(2019, 0, 1, 12), \"yyyy-MM-dd HH:mm:ss.fff\");\n * @example\n * // returns \"2019-01-01 12:00:00.000 AM\"\n * formatDate(new Date(2019, 0, 1, 12), \"yyyy-MM-dd HH:mm:ss.fff tt\");\n */\nexport function formatDate(d: Date | string, format?: string, locale?: Locale) {\n    if (!d)\n        return '';\n\n    let date: Date;\n    if (typeof d == \"string\") {\n        date = parseDate(d, locale?.dateOrder);\n        if (!date)\n            return '';\n\n        if (isNaN(date.valueOf()))\n            return d;\n    }\n    else\n        date = d;\n\n    if (format == 'i')\n        return date.toString();\n    if (format == 'id')\n        return date.toDateString();\n    if (format == 'it')\n        return date.toTimeString();\n\n    if (locale == null)\n        locale = Culture;\n\n    if (format == null || format == \"d\")\n        format = locale.dateFormat ?? Culture.dateFormat;\n    else if (format.length == 1) {\n        switch (format) {\n            case \"g\": format = (locale.dateTimeFormat ?? Culture.dateTimeFormat).replace(\":ss\", \"\"); break;\n            case \"G\": format = (locale.dateTimeFormat ?? Culture.dateTimeFormat); break;\n            case \"s\": format = \"yyyy-MM-ddTHH:mm:ss\"; break;\n            case 't': format = (locale.dateTimeFormat && locale.dateFormat) ? locale.dateTimeFormat.replace(locale.dateFormat + \" \", \"\") : \"HH:mm\"; break;\n            case 'u':\n            case 'U':\n                format = format == 'u' ? 'yyyy-MM-ddTHH:mm:ss.fffZ' : locale.dateTimeFormat ?? Culture.dateTimeFormat;\n                date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(),\n                    date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n                break;\n        }\n    }\n\n    if (format.charAt(0) == '%') {\n        format = format.substr(1);\n    }\n\n    var re = _dateFormatRE;\n    var sb = [];\n\n    re.lastIndex = 0;\n    while (true) {\n        var index = re.lastIndex;\n        var match = re.exec(format);\n\n        sb.push(format.slice(index, match ? match.index : format.length));\n        if (!match) {\n            break;\n        }\n\n        var fs = match[0];\n        var part: any = fs;\n        switch (fs) {\n            case '/':\n                part = locale.dateSeparator ?? Culture.dateSeparator;\n                break;\n            case 'dddd':\n                part = (locale.dayNames ?? Culture.dayNames)[date.getDay()];\n                break;\n            case 'ddd':\n                part = (locale.shortDayNames ?? Culture.shortDayNames)[date.getDay()];\n                break;\n            case 'dd':\n                part = padLeft(date.getDate().toString(), 2, '0');\n                break;\n            case 'd':\n                part = date.getDate();\n                break;\n            case 'MMMM':\n                part = (locale.monthNames ?? Culture.monthNames)[date.getMonth()];\n                break;\n            case 'MMM':\n                part = (locale.shortMonthNames ?? Culture.shortMonthNames)[date.getMonth()];\n                break;\n            case 'MM':\n                part = padLeft(date.getMonth() + 1, 2, '0');\n                break;\n            case 'M':\n                part = (date.getMonth() + 1);\n                break;\n            case 'yyyy':\n                part = padLeft(date.getFullYear(), 4, '0');\n                break;\n            case 'yy':\n                part = padLeft(date.getFullYear() % 100, 2, '0');\n                break;\n            case 'y':\n                part = date.getFullYear() % 100;\n                break;\n            case 'h': case 'hh':\n                part = date.getHours() % 12;\n                if (!part) {\n                    part = '12';\n                }\n                else if (fs == 'hh') {\n                    part = padLeft(part, 2, '0');\n                }\n                break;\n            case 'HH':\n                part = padLeft(date.getHours(), 2, '0');\n                break;\n            case 'H':\n                part = date.getHours();\n                break;\n            case 'mm':\n                part = padLeft(date.getMinutes(), 2, '0');\n                break;\n            case 'm':\n                part = date.getMinutes();\n                break;\n            case 'ss':\n                part = padLeft(date.getSeconds().toString(), 2, '0');\n                break;\n            case 's':\n                part = date.getSeconds();\n                break;\n            case 't': case 'tt':\n                part = (date.getHours() < 12) ? (locale.amDesignator ?? Culture.amDesignator) : (locale.pmDesignator ?? Culture.pmDesignator);\n                if (fs == 't') {\n                    part = part.charAt(0);\n                }\n                break;\n            case 'fff':\n                part = padLeft(date.getMilliseconds(), 3, '0');\n                break;\n            case 'ff':\n                part = padLeft(date.getMilliseconds(), 3, '0').substr(0, 2);\n                break;\n            case 'f':\n                part = padLeft(date.getMilliseconds(), 3, '0').charAt(0);\n                break;\n            case 'z':\n                part = date.getTimezoneOffset() / 60;\n                part = ((part >= 0) ? '-' : '+') + Math.floor(Math.abs(part));\n                break;\n            case 'zz':\n            case 'zzz':\n                part = date.getTimezoneOffset() / 60;\n                part = ((part >= 0) ? '-' : '+') +\n                    padLeft(Math.floor(Math.abs(part)), 2, '0');\n                if (fs == 'zzz') {\n                    part += (locale.timeSeparator ?? Culture.timeSeparator) +\n                        padLeft(Math.abs(date.getTimezoneOffset() % 60), 2, '0');\n                }\n                break;\n            default:\n                if (part.charAt(0) == '\\'') {\n                    part = part.substr(1, part.length - 2).replace(/\\\\'/g, '\\'');\n                }\n                break;\n        }\n        sb.push(part);\n    }\n\n    return sb.join('');\n}\n\n/**\n * Formats a number containing number of minutes into a string in the format \"d.hh:mm\".\n * @param n The number of minutes.\n */\nexport function formatDayHourAndMin(n: number): string {\n    if (n == null)\n        return \"\";\n    if (n === 0)\n        return '0';\n    let days = Math.floor(n / 24 / 60);\n    let txt = \"\";\n    if (days > 0) {\n        txt += days.toString();\n    }\n    let mins = zeroPad(Math.floor((n % (24 * 60)) / (60)), 2) + ':' + zeroPad(n % 60, 2);\n    if (mins != '00:00') {\n        if (days > 0)\n            txt += \".\";\n        txt += mins;\n    }\n    return txt;\n}\n\n/**\n * Formats a date as the ISO 8601 UTC date/time format.\n * @param n The number of minutes.\n */\nexport function formatISODateTimeUTC(d: Date): string {\n    if (d == null)\n        return \"\";\n    let zeropad = function (num: number) { return ((num < 10) ? '0' : '') + num; };\n    let str = d.getUTCFullYear() + \"-\" +\n        zeropad(d.getUTCMonth() + 1) + \"-\" +\n        zeropad(d.getUTCDate()) + \"T\" +\n        zeropad(d.getUTCHours()) + \":\" +\n        zeropad(d.getUTCMinutes());\n    let secs = Number(d.getUTCSeconds() + \".\" +\n        ((d.getUTCMilliseconds() < 100) ? '0' : '') +\n        zeropad(d.getUTCMilliseconds()));\n    str += \":\" + zeropad(secs) + \"Z\";\n    return str;\n}\n\nlet isoRegexp = /(\\d{4,})(?:-(\\d{1,2})(?:-(\\d{1,2})(?:[T ](\\d{1,2}):(\\d{1,2})(?::(\\d{1,2})(?:\\.(\\d+))?)?(?:(Z)|([+-])(\\d{1,2})(?::(\\d{1,2}))?)?)?)?)?/;\n\n/**\n * Parses a string in the ISO 8601 UTC date/time format.\n * @param s The string to parse.\n */\nexport function parseISODateTime(s: string): Date {\n    if (s == null)\n        return null;\n\n    if (typeof s !== \"string\")\n        s = s + \"\";\n\n    if (!s.length)\n        return null;\n\n    if (!isoRegexp.test(s))\n        return new Date(NaN);\n\n    return new Date(s + (s.length == 10 ? \"T00:00:00\" : \"\"));\n}\n\n/**\n * Parses a time string in the format \"hh:mm\" into a number containing number of minutes.\n * Returns NaN if the hours not in range 0-23 or minutes not in range 0-59.\n * @param s The string to parse.\n */\nexport function parseHourAndMin(value: string): number {\n    let v = trim(value);\n    if (!v.length)\n        return null;\n    if (v.length < 4 || v.length > 5)\n        return NaN;\n    let h: number, m: number;\n    if (v.charAt(1) == ':') {\n        h = parseInteger(v.substr(0, 1));\n        m = parseInteger(v.substr(2, 2));\n    }\n    else {\n        if (v.charAt(2) != ':')\n            return NaN;\n        h = parseInteger(v.substr(0, 2));\n        m = parseInteger(v.substr(3, 2));\n    }\n    if (isNaN(h) || isNaN(m) || h < 0 || h > 23 || m < 0 || m > 59)\n        return NaN;\n    return h * 60 + m;\n}\n\n/**\n * Parses a string in the format \"d.hh:mm\" into a number containing number of minutes.\n * Returns NaN if the hours not in range 0-23 or minutes not in range 0-59.\n * Returns NULL if the string is empty or whitespace.\n */\nexport function parseDayHourAndMin(s: string): number {\n    let days: number;\n    let v = trim(s);\n    if (!v.length)\n        return null;\n    let p = v.split('.');\n    if (p.length == 1) {\n        days = parseInteger(p[0]);\n        if (!isNaN(days))\n            return days * 24 * 60;\n        return parseHourAndMin(p[0]);\n    }\n    else if (p.length == 2) {\n        days = parseInteger(p[0]);\n        let hm = parseHourAndMin(p[1]);\n        if (isNaN(days) || !hm || isNaN(hm))\n            return NaN;\n        return days * 24 * 60 + hm;\n    }\n    else\n        return NaN;\n}\n\n/**\n * Parses a string to a date. If the string is empty or whitespace, returns null.\n * Returns a NaN Date if the string is not a valid date.\n * @param s The string to parse.\n * @param dateOrder The order of the date parts in the string. Defaults to culture's default date order.\n  */\nexport function parseDate(s: string, dateOrder?: string): Date {\n    if (!s || !s.length)\n        return null;\n\n    s = trim(s);\n    if (!s.length)\n        return null;\n\n    if (s.length >= 10 && s.charAt(4) === '-' && s.charAt(7) === '-' &&\n        (s.length === 10 || (s.length > 10 && s.charAt(10) === 'T'))) {\n        return parseISODateTime(s);\n    }\n\n    if (s.indexOf(' ') > 0 && s.indexOf(':') > s.indexOf(' ') + 1) {\n        var datePart = parseDate(s.substring(0, s.indexOf(' ')));\n        if (!datePart || isNaN(datePart.valueOf()))\n            return new Date(NaN);\n        return parseISODateTime(formatDate(datePart, 'yyyy-MM-dd') + 'T' + trim(s.substring(s.indexOf(' ') + 1)));\n    }\n\n    let d: number, m: number, y: number;\n    let dArray = splitDateString(s);\n    if (dArray.length == 3) {\n        if (dArray.some(x => !/^[0-9]+$/.test(x)))\n            return new Date(NaN);\n\n        dateOrder = dateOrder || Culture.dateOrder;\n        switch (dateOrder) {\n            case \"dmy\":\n                d = parseInt(dArray[0], 10);\n                m = parseInt(dArray[1], 10) - 1;\n                y = parseInt(dArray[2], 10);\n                break;\n            case \"ymd\":\n                d = parseInt(dArray[2], 10);\n                m = parseInt(dArray[1], 10) - 1;\n                y = parseInt(dArray[0], 10);\n                break;\n            case \"mdy\":\n            default:\n                d = parseInt(dArray[1], 10);\n                m = parseInt(dArray[0], 10) - 1;\n                y = parseInt(dArray[2], 10);\n                break;\n        }\n\n        if (isNaN(d) || isNaN(m) || isNaN(y) || d < 1 || d > 31 || m < 0 || m > 11 || y > 9999 || y < 0)\n            return new Date(NaN);\n\n        if (y < 100) {\n            let fullYear = new Date().getFullYear();\n            let shortYearCutoff = (fullYear % 100) + 10;\n            y += fullYear - fullYear % 100 + (y <= shortYearCutoff ? 0 : -100);\n        }\n\n        return new Date(y, m, d);\n    }\n    else if (dArray.length == 1) {\n        try {\n            return new Date(dArray[0]);\n        }\n        catch (e) {\n            return new Date(NaN);\n        }\n    }\n\n    return new Date(NaN);\n}\n\n/**\n * Splits a date string into an array of strings, each containing a single date part.\n * It can handle separators \"/\", \".\", \"-\" and \"\\\".\n * @param s The string to split.\n */\nexport function splitDateString(s: string): string[] {\n    s = trim(s);\n    if (!s.length)\n        return null;\n    if (s.indexOf(\"/\") >= 0)\n        return s.split(\"/\");\n    else if (s.indexOf(\".\") >= 0)\n        return s.split(\".\");\n    else if (s.indexOf(\"-\") >= 0)\n        return s.split(\"-\");\n    else if (s.indexOf(\"\\\\\") >= 0)\n        return s.split(\"\\\\\");\n    else\n        return [s];\n}","import { resolveUrl } from \"./services\";\nimport { startsWith, trimToNull } from \"./strings\";\nimport { blockUI, blockUndo } from \"./blockui\";\nimport { alertDialog, iframeDialog } from \"./dialogs\";\nimport { notifyError } from \"./notify\";\nimport { format } from \"./formatting\";\nimport { PropertyItem, PropertyItemsData } from \"./propertyitem\";\nimport { getStateStore } from \"./system\";\nimport { Lookup } from \"./lookup\";\n\nfunction getHash(key: string, reload?: boolean): string {\n    let k: string;\n\n    const stateStore = getStateStore();\n    if (stateStore.__scriptHash == null &&\n        typeof document !== \"undefined\" && \n        (k = trimToNull((document.querySelector('script#RegisteredScripts') || {}).innerHTML)) != null &&\n        k.charAt(0) == '{') {\n        var regs = JSON.parse(k);\n        ScriptData.setRegisteredScripts(regs);\n    }\n\n    if (stateStore.__scriptHash == null) {\n        if (reload)\n            stateStore.__scriptHash = {};\n        else\n            return null;\n    }\n\n    if (reload)\n        return (stateStore.__scriptHash[key] = new Date().getTime().toString());\n\n    return stateStore.__scriptHash[key];\n}\n\nfunction setHash(key: string, value: string): void {\n    getStateStore(\"__scriptHash\")[key] = value;\n}\n\nfunction getLoadedData(name: string): any {\n    return getStateStore(\"__scriptData\")[name];\n}\n\nfunction setLoadedData(name: string, value: any): void {\n    getStateStore(\"__scriptData\")[name] = value;\n}\n\nexport namespace ScriptData {\n    \n    export function bindToChange(name: string, regClass: string, onChange: () => void) {\n        typeof $ !== \"undefined\" && typeof document !== \"undefined\" && ($(document.body) as any).bind('scriptdatachange.' + regClass, function (e: any, s: string) {\n            if (s == name) {\n                onChange();\n            }\n        });\n    }\n\n    export function triggerChange(name: string) {\n        typeof $ !== \"undefined\" && typeof document !== \"undefined\" && $(document.body).triggerHandler('scriptdatachange', [name]);\n    }\n\n    export function unbindFromChange(regClass: string) {\n        typeof $ !== \"undefined\" && typeof document !== \"undefined\" && $(document.body).unbind('scriptdatachange.' + regClass);\n    }\n\n    function loadOptions(name: string, async: boolean): JQueryAjaxSettings {\n        return {\n            async: async,\n            cache: true,\n            type: 'GET',\n            url: resolveUrl('~/DynJS.axd/') + name + '.js?v=' + (getHash(name) ?? new Date().getTime()),\n            data: null,\n            dataType: 'text',\n            converters: {\n                \"text script\": function (text: string) {\n                    return text;\n                }\n            },\n            success: function (data, textStatus, jqXHR) {\n                $.globalEval(data);\n            },\n            error: function (xhr, textStatus, errorThrown) {\n                var isLookup = startsWith(name, \"Lookup.\");\n                if (xhr.status == 403 && isLookup) {\n                    notifyError('<p>Access denied while trying to load the lookup: \"<b>' +\n                        name.substr(7) + '</b>\". Please check if current user has required permissions for this lookup.</p> ' +\n                        '<p><em>Lookups use the ReadPermission of their row by default. You may override that for the lookup ' +\n                        'like [LookupScript(\"Some.Lookup\", Permission = \"?\")] to grant all ' +\n                        'authenticated users to read it (or use \"*\" for public).</em></p>' + \n                        '<p><em>Note that this might be a security risk if the lookup contains sensitive data, ' +\n                        'so it could be better to set a separate permission for lookups, like \"MyModule:Lookups\".</em></p>', null, {\n                            timeOut: 10000,\n                            escapeHtml: false\n                        });\n                    return;\n                }\n\n                notifyError(\"An error occurred while trying to load \" +\n                    (isLookup ? ' the lookup: \"' + name.substr(7) :\n                        ' dynamic script: \"' + name) +\n                    '\"!. Please check the error message displayed in the dialog below for more info.');\n\n                var html = xhr.responseText;\n                if (!html) {\n                    if (!xhr.status)\n                        alertDialog(\"An unknown connection error occurred! Check browser console for details.\");\n                    else if (xhr.status == 500)\n                        alertDialog(\"HTTP 500: Connection refused! Check browser console for details.\");\n                    else\n                        alertDialog(\"HTTP \" + xhr.status + ' error! Check browser console for details.');\n                }\n                else\n                    iframeDialog({ html: html });\n            }\n        }\n    }\n\n    let loadScriptPromises: { [key: string]: Promise<any> }  = {}\n\n    function loadScriptAsync(name: string): Promise<any> {\n        let key = name + '?' + (getHash(name) ?? '');\n\n        var promise = loadScriptPromises[key];\n        if (promise)\n            return promise;\n\n        let options = loadOptions(name, true);\n        blockUI(null);\n        loadScriptPromises[key] = promise = Promise.resolve(\n            $.ajax(options).always(function () {\n                delete loadScriptPromises[key];\n                blockUndo();\n            }));\n\n        return promise;\n    }\n\n    function loadScriptData(name: string) {\n        $.ajax(loadOptions(name, false));\n    }\n\n    async function loadScriptDataAsync(name: string): Promise<any> {\n        return await loadScriptAsync(name);\n    }\n\n    function loadError(name: string) {\n        var message;\n\n        if (name != null &&\n            name.startsWith('Lookup.')) {\n            message = 'No lookup with key \"' + name.substring(7) + '\" is registered. Please make sure you have a' +\n                ' [LookupScript(\"' + name.substring(7) + '\")] attribute in server side code on top of a row / custom lookup and ' +\n                ' its key is exactly the same.';\n        } else {\n            message = format(\"Can't load script data: {0}!\", name);\n        }\n\n        notifyError(message);\n        throw new Error(message);\n    }\n\n    export function ensure<TData = any>(name: string): TData {\n        var data = getLoadedData(name);\n        if (data == null) {\n            loadScriptData(name);\n        }\n\n        data = getLoadedData(name);\n\n        if (data == null) \n            loadError(name);\n\n        return data;\n    }\n\n    export async function ensureAsync<TData = any>(name: string): Promise<TData> {\n        var data = getLoadedData(name);\n        if (data != null)\n            return data;\n        await loadScriptDataAsync(name);\n        data = getLoadedData(name);\n        if (data == null)\n            loadError(name);\n        return data;\n    }\n\n    export function reload<TData = any>(name: string): TData {\n        getHash(name, true);\n        loadScriptData(name);\n        var data = getLoadedData(name);\n        return data;\n    }\n\n    export async function reloadAsync<TData = any>(name: string): Promise<TData> {\n        getHash(name, true);\n        await loadScriptDataAsync(name);\n        return getLoadedData(name);\n    }\n\n    export function canLoad(name: string) {\n        return getLoadedData(name) != null || getHash(name) != null;\n    }\n\n    export function setRegisteredScripts(scripts: any[]) {\n        var t = new Date().getTime().toString();\n        for (var k in scripts) {\n            setHash(k, scripts[k] || t);\n        }\n    }\n\n    export function set(name: string, value: any) {\n        setLoadedData(name, value);\n        triggerChange(name);\n    }\n}\n\nexport function getRemoteData<TData = any>(key: string): TData {\n    return ScriptData.ensure('RemoteData.' + key);\n}\n\nexport async function getRemoteDataAsync<TData = any>(key: string): Promise<TData> {\n    return await ScriptData.ensureAsync('RemoteData.' + key);\n}\n\nexport function getLookup<TItem>(key: string): Lookup<TItem> {\n    return ScriptData.ensure('Lookup.' + key);\n}\n\nexport async function getLookupAsync<TItem>(key: string): Promise<Lookup<TItem>> {\n    return await ScriptData.ensureAsync('Lookup.' + key);\n}\n\nexport function reloadLookup<TItem = any>(key: string): Lookup<TItem> {\n    return ScriptData.reload('Lookup.' + key);\n}\n\nexport async function reloadLookupAsync<TItem = any>(key: string): Promise<Lookup<TItem>> {\n    return await ScriptData.reloadAsync('Lookup.' + key);\n}\n\nexport function getColumns(key: string): PropertyItem[] {\n    return getColumnsData(key).items;\n}\n\nexport function getColumnsData(key: string): PropertyItemsData {\n    return ScriptData.ensure('Columns.' + key);\n}\n\nexport async function getColumnsAsync(key: string): Promise<PropertyItem[]> {\n    return (await getColumnsDataAsync(key)).items;\n}\n\nexport async function getColumnsDataAsync(key: string): Promise<PropertyItemsData> {\n    return ScriptData.ensureAsync('Columns.' + key);\n}\n\nexport function getForm(key: string): PropertyItem[] {\n    return getFormData(key).items;\n}\n\nexport function getFormData(key: string): PropertyItemsData {\n    return ScriptData.ensure('Form.' + key);\n}\n\nexport async function getFormAsync(key: string): Promise<PropertyItem[]> {\n    return (await getFormDataAsync(key)).items;\n}\n\nexport async function getFormDataAsync(key: string): Promise<PropertyItemsData> {\n    return await ScriptData.ensureAsync('Form.' + key);\n}\n\nexport function getTemplate(key: string): string {\n    return ScriptData.ensure('Template.' + key);\n}\n\nexport async function getTemplateAsync(key: string): Promise<string> {\n    return await ScriptData.ensureAsync('Template.' + key);\n}\n\nexport function canLoadScriptData(name: string): boolean {\n    return ScriptData.canLoad(name);\n}\n\nvar exported = {\n    canLoadScriptData,\n    getColumns,\n    getColumnsAsync,\n    getForm,\n    getFormAsync,\n    getLookup,\n    getLookupAsync,\n    getRemoteData, \n    getRemoteDataAsync,\n    getTemplate,\n    getTemplateAsync,\n    reloadLookup,\n    reloadLookupAsync,\n    ScriptData\n}\n\nif (typeof globalThis !== \"undefined\") {\n    const Q = (globalThis as any).Q || ((globalThis as any).Q = {});\n    for (var i in exported)\n        if (Q[i] == null)\n            Q[i] = (exported as any)[i];\n}","import { localText } from \"./localtext\";\nimport { notifyError } from \"./notify\";\nimport { getRemoteData, getRemoteDataAsync } from \"./scriptdata\";\nimport { UserDefinition } from \"./userdefinition\";\n\nconst andOrRegex = /[|&]/;\n\n/**\n * Contains permission related functions.\n * \n * ## Note\n * We use a namespace here both for compatibility and for allowing users to override\n * these functions easily in ES modules environment, which is normally hard to do.\n */\nexport namespace Authorization {\n\n    /** \n     * Checks if the current user has the permission specified.\n     * This should only be used for UI purposes and it is strongly recommended to check permissions server side.\n     * \n     * > Please prefer the `hasPermissionAsync` variant as this may block the UI thread if the `UserData` script is not already loaded.\n     * @param permission Permission key. It may contain logical operators like A&B|C.\n     * @returns `false` for \"null or undefined\", true for \"*\", `IsLoggedIn` for \"?\". For other permissions, \n     * if the user has the permission or if the user has the `IsAdmin` flag (super admin) `true`, otherwise `false`.\n     */\n    export function hasPermission(permission: string) {\n        if (permission == null)\n            return false;\n\n        if (permission == \"*\")\n            return true;\n\n        // normally in server side empty permission would return false\n        // here we are more tolerant for compatibility reasons and\n        // as it is less risky\n        if (permission == \"\" || permission == \"?\")\n            return !!Authorization.isLoggedIn;\n\n        var ud = Authorization.userDefinition;\n        if (!ud)\n            return false;\n\n        if (ud.IsAdmin)\n            return true;\n\n        return isPermissionInSet(ud.Permissions, permission);\n    }\n\n    /** \n     * Checks if the current user has the permission specified.\n     * This should only be used for UI purposes and it is strongly recommended to check permissions server side.\n     * \n     * @param permission Permission key. It may contain logical operators like A&B|C.\n     * @returns `false` for \"null or undefined\", true for \"*\", `IsLoggedIn` for \"?\". For other permissions, \n     * if the user has the permission or if the user has the `IsAdmin` flag (super admin) `true`, otherwise `false`.\n     */\n    export async function hasPermissionAsync(permission: string): Promise<boolean> {\n        if (permission == null)\n            return false;\n\n        if (permission == \"*\")\n            return true;\n\n        if (permission == \"\" || permission == \"?\")\n            return await Authorization.isLoggedInAsync;\n\n        var ud = await Authorization.userDefinitionAsync;\n        if (!ud)\n            return false;\n\n        if (ud.IsAdmin)\n            return true;\n\n        return isPermissionInSet(ud.Permissions, permission);\n    }\n\n    /**\n     * Checks if the hashset contains the specified permission, also handling logical \"|\" and \"&\" operators\n     * @param permissionSet Set of permissions\n     * @param permission Permission key or a permission expression containing & | operators\n     * @returns true if set contains permission\n     */\n    export function isPermissionInSet(permissionSet: { [key: string]: boolean }, permission: string) {\n        if (!permissionSet || permission == null)\n            return false;\n\n        if (permissionSet[permission])\n            return true;\n\n        if (!andOrRegex.test(permission))\n            return false;\n\n        var orParts = permission.split('|');\n        for (var r of orParts) {\n            if (!r.length)\n                continue;\n\n            var andParts = r.split('&');\n\n            let anyFalse = false;\n            for (var n of andParts) {\n                if (!n || !permissionSet[n]) {\n                    anyFalse = true;\n                    break;\n                }\n            }\n\n            if (!anyFalse)\n                return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Throws an error if the current user does not have the specified permission. \n     * Prefer `await validatePermissionAsync()` as this one might block the UI if the `UserData`\n     * is not already loaded.\n     * @param permission Permission key. It may contain logical operators like A&B|C.\n     */\n    export function validatePermission(permission: string) {\n        if (!hasPermission(permission)) {\n            notifyError(localText(\"Authorization.AccessDenied\"));\n            throw new Error(localText(\"Authorization.AccessDenied\"));\n        }\n    }\n\n    /**\n    * Throws an error if the current user does not have the specified permission.\n    * @param permission Permission key. It may contain logical operators like A&B|C.\n    * @example \n    * await Authorization.validatePermissionAsync(\"A&B|C\");\n    */\n    export async function validatePermissionAsync(permission: string): Promise<void> {\n        if (!(await hasPermissionAsync(permission))) {\n            notifyError(localText(\"Authorization.AccessDenied\"));\n            throw new Error(localText(\"Authorization.AccessDenied\"));\n        }\n    }\n}\n\nexport declare namespace Authorization {\n    /** \n     * Checks if the current user is logged in. Prefer `isLoggedInAsync` as this one might block the UI if the `UserData`\n     * is not already loaded.\n     * @returns `true` if the user is logged in, `false` otherwise. \n     * @example \n     * if (Authorization.isLoggedIn) {\n     *     // do something\n     * }\n     */\n    export let isLoggedIn: boolean;\n\n    /** \n     * Checks if the current user is logged in.\n     * @returns `true` if the user is logged in, `false` otherwise. \n     * @example \n     * if (await Authorization.isLoggedInAsync) {\n     *     // do something\n     * }\n     */\n    export let isLoggedInAsync: Promise<boolean>;\n\n    /** Returns the username for currently logged user. Prefer `usernameAsync` as this one might block the UI if the `UserData`\n     * is not already loaded.\n     * @returns Username for currently logged user.\n     * @example \n     * if (Authorization.username) {\n     *     // do something\n     * } \n     */\n    export let username: string;\n\n    /** Returns the username for currently logged user.\n     * @returns Username for currently logged user.\n     * @example \n     * if (await Authorization.usernameAsync) {\n     *     // do something\n     * }\n     */\n    export let usernameAsync: Promise<string>;\n\n    /** Returns the user data for currently logged user. Prefer `userDefinitionAsync` as this one might block the UI if the `UserData`\n     * is not already loaded.\n     * @returns User data for currently logged user.\n     * @example \n     * if (Authorization.userDefinition.IsAdmin) {\n     *     // do something\n     * }\n     */\n    export let userDefinition: UserDefinition;\n\n    /** Returns the user data for currently logged user.\n     * @returns User data for currently logged user.\n     * @example \n     * if ((await Authorization.userDefinitionAsync).IsAdmin) {\n     *     // do something\n     * }\n     */\n    export let userDefinitionAsync: Promise<UserDefinition>;\n}\n\nObject.defineProperty(Authorization, \"isLoggedIn\", {\n    get: function () {\n        return !!(Authorization.userDefinition?.Username?.length);\n    },\n    configurable: true\n});\n\nObject.defineProperty(Authorization, \"isLoggedInAsync\", {\n    get: async function () {\n        return !!((await Authorization.userDefinitionAsync)?.Username?.length);\n    },\n    configurable: true\n});\n\nObject.defineProperty(Authorization, \"userDefinition\", {\n    get: function () {\n        return getRemoteData<UserDefinition>(\"UserData\");\n    },\n    configurable: true\n});\n\nObject.defineProperty(Authorization, \"userDefinitionAsync\", {\n    get: async function () {\n        return await getRemoteDataAsync<UserDefinition>(\"UserData\");\n    },\n    configurable: true\n});\n\nObject.defineProperty(Authorization, \"username\", {\n    get: function () {\n        return Authorization.userDefinition?.Username;\n    },\n    configurable: true\n});\n\nObject.defineProperty(Authorization, \"usernameAsync\", {\n    get: async function () {\n        return (await Authorization.userDefinitionAsync)?.Username;\n    },\n    configurable: true\n});","export interface DebouncedFunction<T extends (...args: any[]) => any> {\n    /**\n     * Call the original function, but applying the debounce rules.\n     *\n     * If the debounced function can be run immediately, this calls it and returns its return\n     * value.\n     *\n     * Otherwise, it returns the return value of the last invocation, or undefined if the debounced\n     * function was not invoked yet.\n     */\n    (...args: Parameters<T>): ReturnType<T> | undefined;\n\n    /**\n     * Throw away any pending invocation of the debounced function.\n     */\n    clear(): void;\n\n    /**\n     * If there is a pending invocation of the debounced function, invoke it immediately and return\n     * its return value.\n     *\n     * Otherwise, return the value from the last invocation, or undefined if the debounced function\n     * was never invoked.\n     */\n    flush(): ReturnType<T> | undefined;\n}\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function also has a property 'clear' that can be used \n * to clear the timer to prevent previously scheduled executions, and flush method\n * to invoke scheduled executions now if any.\n * @param wait The function will be called after it stops being called for\n * N milliseconds. \n * @param immediate If passed, trigger the function on the leading edge, instead of the trailing. \n *\n * @source underscore.js\n */\nexport function debounce<T extends (...args: any) => any>(func: T, wait?: number, immediate?: boolean): DebouncedFunction<T> {\n    var timeout: any, args: any, context: any, timestamp: number, result: any;\n    if (null == wait) wait = 100;\n\n    var later = function () {\n        var last = Date.now() - timestamp;\n\n        if (last < wait && last >= 0) {\n            timeout = setTimeout(later, wait - last);\n        } else {\n            timeout = null;\n            if (!immediate)\n                result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n    };\n\n    var debounced = function () {\n        context = this;\n        args = arguments;\n        timestamp = Date.now();\n        if (!timeout) {\n            timeout = setTimeout(later, wait);\n            if (immediate)\n                result = func.apply(context, args);\n        }\n        return result;\n    };\n\n    (debounced as any).clear = function () {\n        if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n        }\n    };\n\n    (debounced as any).flush = function () {\n        if (timeout) {\n            result = func.apply(context, args);\n            context = args = null;\n\n            clearTimeout(timeout);\n            timeout = null;\n        }\n    };\n\n    return debounced as DebouncedFunction<T>;\n};","export {}\n\ninterface LayoutTimerReg {\n    handler: () => void;\n    element: () => HTMLElement;\n    width: boolean;\n    height: boolean;\n    storedWidth?: number;\n    storedHeight?: number;\n}\n\nexport namespace LayoutTimer {\n\n    var timeout: number;\n    var nextKey: number = 0;\n    var regCount: number = 0;\n    var regs: { [key: number]: LayoutTimerReg; } = {};\n\n    function startTimer() {\n        if (timeout == null && regCount > 0) {\n            timeout = window.setTimeout(onTimeout, 100);\n        }\n    }\n\n    function clearTimer() {\n        if (timeout != null) {\n            window.clearTimeout(timeout);\n            timeout = null;\n        }\n    }\n\n    function onTimeout() {\n        for (var key in regs) {\n            var reg = regs[key];\n            try {\n                var el = reg.element();\n                if (!el)\n                    continue;\n\n                var w = el.offsetWidth;\n                var h = el.offsetHeight;\n                try {\n\n                    if ((reg.width && reg.storedWidth !== w) ||\n                        (reg.height && reg.storedHeight !== h) ||\n                        (!reg.width && !reg.height && (!w !== !reg.storedWidth || !h !== !reg.storedHeight))) {\n                            if (w > 0 && h > 0) {\n                                try {\n                                    reg.handler();\n                                }\n                                finally {\n                                    w = el.offsetWidth;\n                                    h = el.offsetHeight;\n                                }\n                            }\n                    }\n                }\n                finally {\n                    reg.storedWidth = w;\n                    reg.storedHeight = h;\n                }\n            }\n            catch (e) {\n                console.log(e);\n            }\n        }\n        clearTimer();\n        startTimer();\n    }\n\n    export function store(key: number) {\n        var reg = regs[key];\n        if (!reg)\n            return;\n\n        var el = reg.element();\n        if (!el)\n            return;\n\n        reg.storedWidth = el.offsetWidth;\n        reg.storedHeight = el.offsetHeight;\n    }\n\n    export function trigger(key: number) {\n        var reg = regs[key];\n        if (!reg)\n            return;\n        store(key);\n        if (reg.storedWidth >= 0 &&\n            reg.storedHeight >= 0) {\n            reg.handler();\n        }\n        store(key);\n    }\n\n    export function onSizeChange(element: () => HTMLElement, handler: () => void, width?: boolean, height?: boolean): number {\n        if (handler == null)\n            throw \"Layout handler can't be null!\";\n\n        regs[++nextKey] = {\n            element: element,\n            handler: handler,\n            width: width !== false,\n            height: height !== false\n        }\n        regCount++;\n        store(nextKey)\n        startTimer();\n        return nextKey;\n    }\n\n    export function onWidthChange(element: () => HTMLElement, handler: () => void) {\n        return onSizeChange(element, handler, true, false);\n    }\n\n    export function onHeightChange(element: () => HTMLElement, handler: () => void) {\n        return onSizeChange(element, handler, false, true);\n    }\n\n    export function onShown(element: () => HTMLElement, handler: () => void) {\n        return onSizeChange(element, handler, false, false);\n    }\n\n    export function off(key: number): number {\n        var reg = regs[key];\n        if (!reg) \n            return 0;\n            \n        delete regs[key];\n        regCount--;\n        if (regCount <= 0)\n            clearTimer();\n\n        return 0;\n    }\n}\n\nexport function executeOnceWhenVisible(element: JQuery, callback: Function): void {\n    var el = element && element[0];\n    if (!el)\n        return;\n    \n    if (el.offsetWidth > 0 && el.offsetHeight > 0) {\n        callback();\n        return;\n    }\n\n    var timer = LayoutTimer.onShown(() => el, () => {\n        LayoutTimer.off(timer);\n        callback();\n    });\n}\n\nexport function executeEverytimeWhenVisible(element: JQuery, callback: Function, callNowIfVisible: boolean): void {\n    var el = element && element[0];\n    if (!el)\n        return;\n    \n    if (callNowIfVisible && el.offsetWidth > 0 && el.offsetHeight > 0) {\n        callback();\n    }\n\n    LayoutTimer.onShown(() => el, () => {\n        callback();\n    });\n}\n","import { startsWith } from \"./strings\";\nimport { closePanel } from \"./dialogs\";\nimport $ from \"@optionaldeps/jquery\";\n\nexport interface HandleRouteEventArgs {\n    handled: boolean,\n    route: string,\n    parts: string[],\n    index: number\n}\n\nexport namespace Router {\n    let oldURL: string;\n    let resolving: number = 0;\n    let autoinc: number = 0;\n    let ignoreHash: number = 0;\n    let ignoreTime: number = 0;\n\n    export let enabled: boolean = true;\n\n    function isEqual(url1: string, url2: string) {\n        return url1 == url2 || url1 == url2 + '#' || url2 == url1 + '#';\n    }\n\n    export function navigate(hash: string, tryBack?: boolean, silent?: boolean) {\n        if (!enabled || resolving > 0)\n            return;\n\n        hash = hash || '';\n        hash = hash.replace(/^#/, '');\n        hash = (!hash ? \"\" : '#' + hash);\n        var newURL = window.location.href.replace(/#$/, '')\n            .replace(/#.*$/, '') + hash;\n        if (newURL != window.location.href) {\n            if (tryBack && oldURL != null && isEqual(oldURL, newURL)) {\n                if (silent)\n                    ignoreChange();\n\n                var prior = window.location.href;\n                oldURL = null;\n                window.history.back();\n                return;\n            }\n\n            if (silent)\n                ignoreChange();\n\n            oldURL = window.location.href;\n            window.location.hash = hash;\n        }\n    }\n\n    export function replace(hash: string, tryBack?: boolean) {\n        navigate(hash, tryBack, true);\n    }\n\n    export function replaceLast(hash: string, tryBack?: boolean) {\n        if (!enabled)\n            return;\n\n        var current = window.location.hash || '';\n        if (current.charAt(0) == '#')\n            current = current.substr(1, current.length - 1);\n\n        var parts = current.split('/+/');\n\n        if (parts.length > 1) {\n            if (hash && hash.length) {\n                parts[parts.length - 1] = hash;\n                hash = parts.join(\"/+/\");\n            }\n            else {\n                parts.splice(parts.length - 1, 1);\n                hash = parts.join(\"/+/\");\n            }\n        }\n        replace(hash, tryBack);\n    }\n\n    function visibleDialogs() {\n        return $('.ui-dialog-content:visible, .ui-dialog.panel-hidden>.ui-dialog-content, .s-Panel').toArray().sort((a, b) => {\n            return ($(a).data('qrouterorder') || 0) - ($(b).data('qrouterorder') || 0);\n        });\n    }\n\n    function dialogOpen(owner: JQuery, element: JQuery, hash: () => string) {\n        var route = [];\n        var isDialog = owner.hasClass(\".ui-dialog-content\") || owner.hasClass('.s-Panel');\n        var dialog = isDialog ? owner :\n            owner.closest('.ui-dialog-content, .s-Panel');\n        var value = hash();\n\n        var idPrefix: string;\n        if (dialog.length) {\n            var dialogs = visibleDialogs();\n            var index = dialogs.indexOf(dialog[0]);\n\n            for (var i = 0; i <= index; i++) {\n                var q = $(dialogs[i]).data(\"qroute\") as string;\n                if (q && q.length)\n                    route.push(q);\n            }\n\n            if (!isDialog) {\n                idPrefix = dialog.attr(\"id\");\n                if (idPrefix) {\n                    idPrefix += \"_\";\n                    var id = owner.attr(\"id\");\n                    if (id && startsWith(id, idPrefix))\n                        value = id.substr(idPrefix.length) + '@' + value;\n                }\n            }\n        }\n        else {\n            var id = owner.attr(\"id\");\n            if (id && (!owner.hasClass(\"route-handler\") ||\n                $('.route-handler').first().attr(\"id\") != id))\n                value = id + \"@\" + value;\n        }\n\n        route.push(value);\n        element.data(\"qroute\", value);\n        replace(route.join(\"/+/\"));\n\n        element.bind(\"dialogclose.qrouter panelclose.qrouter\", e => {\n            element.data(\"qroute\", null);\n            element.unbind(\".qrouter\");\n            var prhash = element.data(\"qprhash\");\n            var tryBack = $(e.target).closest('.s-MessageDialog').length > 0 || (e && e.originalEvent &&\n                ((e.originalEvent.type == \"keydown\" && (e.originalEvent as any).keyCode == 27) ||\n                $(e.originalEvent.target).hasClass(\"ui-dialog-titlebar-close\") ||\n                $(e.originalEvent.target).hasClass(\"panel-titlebar-close\")));\n            if (prhash != null)\n                replace(prhash, tryBack);\n            else\n                replaceLast('', tryBack);\n        });\n    }\n\n    export function dialog(owner: JQuery, element: JQuery, hash: () => string) {\n        if (!enabled)\n            return;\n        \n        element.on(\"dialogopen.qrouter panelopen.qrouter\", e => {\n            dialogOpen(owner, element, hash);\n        });\n    }\n\n    export function resolve(hash?: string) {\n        if (!enabled)\n            return;\n\n        resolving++;\n        try {\n            hash = hash ?? window.location.hash ?? '';\n            if (hash.charAt(0) == '#')\n                hash = hash.substr(1, hash.length - 1);\n\n            var dialogs = visibleDialogs();\n            var newParts = hash.split(\"/+/\");\n            var oldParts = dialogs.map(el => $(el).data('qroute') as string);\n\n            var same = 0;\n            while (same < dialogs.length &&\n                same < newParts.length &&\n                oldParts[same] == newParts[same]) {\n                same++;\n            }\n\n            for (var i = same; i < dialogs.length; i++) {\n                var d = $(dialogs[i]);\n                if (d.hasClass('ui-dialog-content'))\n                    (d as any).dialog?.('close');\n                else if (d.hasClass('s-Panel'))\n                    closePanel(d);\n            }\n\n            for (var i = same; i < newParts.length; i++) {\n                var route = newParts[i];\n                var routeParts = route.split('@');\n                var handler: JQuery;\n                if (routeParts.length == 2) {\n                    var dialog = i > 0 ? $(dialogs[i - 1]) : $([]);\n                    if (dialog.length) {\n                        var idPrefix = dialog.attr(\"id\");\n                        if (idPrefix) {\n                            handler = $('#' + idPrefix + \"_\" + routeParts[0]);\n                            if (handler.length) {\n                                route = routeParts[1];\n                            }\n                        }\n                    }\n\n                    if (!handler || !handler.length) {\n                        handler = $('#' + routeParts[0]);\n                        if (handler.length) {\n                            route = routeParts[1];\n                        }\n                    }\n                }\n\n                if (!handler || !handler.length) {\n                    handler = i > 0 ? $(dialogs[i - 1]) :\n                        $('.route-handler').first();\n                }\n\n                handler.triggerHandler(\"handleroute\", <HandleRouteEventArgs>{\n                    handled: false,\n                    route: route,\n                    parts: newParts,\n                    index: i\n                });\n            }\n        }\n        finally {\n            resolving--;\n        }\n    }\n\n    function hashChange(e: any, o: string) {\n        if (ignoreHash > 0) {\n            if (new Date().getTime() - ignoreTime > 1000) {\n                ignoreHash = 0;\n            }\n            else {\n                ignoreHash--;\n                return;\n            }\n        }\n        resolve();\n    }\n\n    function ignoreChange() {\n        ignoreHash++;\n        ignoreTime = new Date().getTime();\n    }\n\n    window.addEventListener(\"hashchange\", hashChange as any, false);\n\n    let routerOrder = 1;\n\n    typeof document !== \"undefined\" && typeof $ !== \"undefined\" &&\n        $.fn && $(document).on(\"dialogopen panelopen\", \".ui-dialog-content, .s-Panel\", function (event, ui) {\n        if (!enabled)\n            return;\n\n        var dlg = $(event.target);\n        dlg.data(\"qrouterorder\", routerOrder++);\n\n        if (dlg.data(\"qroute\"))\n            return;\n\n        dlg.data(\"qprhash\", window.location.hash);\n        var owner = $(visibleDialogs).not(dlg).last();\n        if (!owner.length)\n            owner = $('html');\n\n        dialogOpen(owner, dlg, () => {\n            return \"!\" + (++autoinc).toString(36);\n        });\n    });\n}","import { Config } from \"./config\";\nimport { executeEverytimeWhenVisible } from \"./layouttimer\";\nimport { Router } from \"./router\";\nimport { getNested, getGlobalThis, initializeTypes } from \"./system\";\nimport $ from \"@optionaldeps/jquery\";\n   \nexport function initFullHeightGridPage(gridDiv: JQuery | HTMLElement, opt?: { noRoute?: boolean, setHeight?: boolean }) {\n    var el = ($ && gridDiv instanceof $) ? (gridDiv as JQuery).get(0) : gridDiv as HTMLElement\n    document.documentElement.classList.add('full-height-page');\n    el.classList.add('responsive-height');\n\n    let setHeight = opt?.setHeight ?? ($ && (!el.classList.contains('s-DataGrid') &&\n        !el.classList.contains('s-Panel')));\n\n    let layout = function () {\n        setHeight && layoutFillHeight($(el));\n        $ ? $(el).triggerHandler('layout') : el.dispatchEvent(new Event('layout'));\n    };\n\n    if (document.body.classList.contains('has-layout-event')) {\n        $ ? $(document.body).on('layout', layout) : el.addEventListener('layout', layout);\n    }\n    else if ((window as any).Metronic?.addResizeHandler) {\n        (window as any).Metronic.addResizeHandler(layout);\n    }\n    else {\n        $ ? $(window).resize(layout) : window.addEventListener('resize', layout);\n    }\n\n    layout();\n\n    $ && $(el).one('remove', () => {\n        $(window).off('resize', layout);\n        $('body').off('layout', layout);\n    });\n\n    if (!opt?.noRoute && \n        typeof document !== \"undefined\" &&\n        !$(document.body).attr('data-fhrouteinit')) {\n            $(document.body).attr('data-fhrouteinit', 'true');\n            // ugly, but to it is to make old pages work without having to add this\n            typeof Router !== \"undefined\" && Router.resolve?.();\n    }\n}\n\nexport function layoutFillHeightValue(element: JQuery) {\n    let h = 0;\n    element.parent().children().not(element).each(function (i, e) {\n        let q = $(e);\n        if (q.is(':visible')) {\n            h += q.outerHeight(true);\n        }\n    });\n    h = element.parent().height() - h;\n    if (element.css('box-sizing') !== 'border-box') {\n        h = h - (element.outerHeight(true) - element.height());\n    }\n    return h;\n}\n\nexport function layoutFillHeight(element: JQuery) {\n    let h = layoutFillHeightValue(element);\n    let n = Math.round(h) + 'px';\n    if (element.css('height') != n) {\n        element.css('height', n);\n    }\n}\n\nexport function isMobileView() {\n    return typeof window !== 'undefined' &&\n        (window.matchMedia?.('(max-width: 767px)')?.matches ??\n         window.innerWidth < 768);\n}\n\nfunction initOnLoad() {\n    var globalObj = getGlobalThis();\n    if (globalObj && Config.rootNamespaces) {\n        for (var ns of Config.rootNamespaces) {\n            var obj = getNested(globalObj, ns);\n            if (obj != null)\n                initializeTypes(obj, ns + \".\", 3);\n        }\n    }\n}\n\nif (typeof $ !== \"undefined\")\n    $(initOnLoad);\nelse if (typeof document !== \"undefined\" && document.readyState === 'loading')\n    document.addEventListener('DOMContentLoaded', initOnLoad);\nelse\n    initOnLoad();\n\nexport function triggerLayoutOnShow(element: JQuery) {\n    executeEverytimeWhenVisible(element, function () {\n        element.triggerHandler('layout');\n    }, true);\n}\n\nexport function centerDialog(el: JQuery) {\n    el = el.closest(\".ui-dialog\");\n    (el as any).position?.({ at: 'center center', of: window });\n    let pos = el.position();\n    if (pos.left < 0)\n        el.css(\"left\", \"0px\");\n    if (pos.top < 0)\n        el.css(\"top\", \"0px\");\n}","export interface LookupOptions<TItem> {\n    idField?: string;\n    parentIdField?: string;\n    textField?: string;\n    textFormatter?(item: TItem): string;\n}\n\nexport interface Lookup<TItem> {\n    items: TItem[];\n    itemById: { [key: string]: TItem };\n    idField: string;\n    parentIdField: string;\n    textField: string;\n    textFormatter: (item: TItem) => string;\n}\n\nexport class Lookup<TItem> {\n    public items: TItem[] = [];\n    public itemById: { [key: string]: TItem } = {};\n    public idField: string;\n    public parentIdField: string;\n    public textField: string;\n    public textFormatter: (item: TItem) => string;\n\n    constructor(options: LookupOptions<TItem>, items?: TItem[]) {\n        options = options || {};\n        this.textFormatter = options.textFormatter;\n        this.idField = options.idField;\n        this.parentIdField = options.parentIdField;\n        this.textField = options.textField;\n        this.textFormatter = options.textFormatter;\n\n        if (items != null)\n            this.update(items);\n    }\n\n    update?(value: TItem[]) {\n        this.items = [];\n        this.itemById = {};\n        if (value) {\n            for (var k of value)\n                this.items.push(k);\n        }\n        var idField = this.idField;\n        if (idField) {\n            for (var r of this.items) {\n                var v = (r as any)[idField];\n                if (v != null) {\n                    this.itemById[v] = r;\n                }\n            }\n        }\n    }\n}","import { registerEnum } from \"./system\";\n\nexport interface PropertyItem {\n    name?: string;\n    title?: string;\n    hint?: string;\n    placeholder?: string;\n    editorType?: string;\n    editorParams?: any;\n    category?: string;\n    collapsible?: boolean;\n    collapsed?: boolean;\n    tab?: string;\n    cssClass?: string;\n    headerCssClass?: string;\n    formCssClass?: string;\n    maxLength?: number;\n    required?: boolean;\n    insertable?: boolean;\n    insertPermission?: string;\n    hideOnInsert?: boolean;\n    updatable?: boolean;\n    updatePermission?: string;\n    hideOnUpdate?: boolean;\n    readOnly?: boolean;\n    readPermission?: string;\n    oneWay?: boolean;\n    defaultValue?: any;\n    localizable?: boolean;\n    visible?: boolean;\n    allowHide?: boolean;\n    formatterType?: string;\n    formatterParams?: any;\n    displayFormat?: string;\n    alignment?: string;\n    width?: number;\n    widthSet?: boolean;\n    minWidth?: number;\n    maxWidth?: number;\n    labelWidth?: string;\n    resizable?: boolean;\n    sortable?: boolean;\n    sortOrder?: number;\n    groupOrder?: number;\n    summaryType?: SummaryType;\n    editLink?: boolean;\n    editLinkItemType?: string;\n    editLinkIdField?: string;\n    editLinkCssClass?: string;\n    filteringType?: string;\n    filteringParams?: any;\n    filteringIdField?: string;\n    notFilterable?: boolean;\n    filterOnly?: boolean;\n    quickFilter?: boolean;\n    quickFilterParams?: any;\n    quickFilterSeparator?: boolean;\n    quickFilterCssClass?: string;\n}\n\nexport interface PropertyItemsData {\n    items: PropertyItem[];\n    additionalItems: PropertyItem[];\n}\n   \nexport enum SummaryType {\n    Disabled = -1,\n    None = 0,\n    Sum = 1,\n    Avg = 2,\n    Min = 3,\n    Max = 4\n}\n\nregisterEnum(SummaryType, 'Serenity.SummaryType');","export interface ServiceError {\n    Code?: string;\n    Arguments?: string;\n    Message?: string;\n    Details?: string;\n    ErrorId?: string;\n}               \n      \nexport interface ServiceResponse {\n    Error?: ServiceError;\n}\n    \nexport interface ServiceRequest {\n}\n    \nexport interface ServiceOptions<TResponse extends ServiceResponse> extends JQueryAjaxSettings {\n    request?: any;\n    service?: string;\n    blockUI?: boolean;\n    onError?(response: TResponse): void;\n    onSuccess?(response: TResponse): void;\n    onCleanup?(): void;\n}\n\nexport interface SaveRequest<TEntity> extends ServiceRequest {\n    EntityId?: any;\n    Entity?: TEntity;\n    Localizations?: any;\n}\n    \nexport interface SaveRequestWithAttachment<TEntity> extends SaveRequest<TEntity> {\n    Attachments?: any[];\n}\n    \nexport interface SaveResponse extends ServiceResponse {\n    EntityId?: any;\n}\n    \nexport interface SaveWithLocalizationRequest<TEntity> extends SaveRequest<TEntity> {\n    Localizations?: { [key: string]: TEntity };\n}\n    \nexport interface DeleteRequest extends ServiceRequest {\n    EntityId?: any;\n}\n    \nexport interface DeleteResponse extends ServiceResponse {\n}\n    \nexport interface UndeleteRequest extends ServiceRequest {\n    EntityId?: any;\n}\n    \nexport interface UndeleteResponse extends ServiceResponse {\n}\n    \nexport enum ColumnSelection {\n    List = 0,\n    KeyOnly = 1,\n    Details = 2,\n    None = 3,\n    IdOnly = 4,\n    Lookup = 5\n}\n    \nexport enum RetrieveColumnSelection {\n    details = 0,\n    keyOnly = 1,\n    list = 2,\n    none = 3,\n    idOnly = 4,\n    lookup = 5\n}\n    \nexport interface ListRequest extends ServiceRequest {\n    Skip?: number;\n    Take?: number;\n    Sort?: string[];\n    ContainsText?: string;\n    ContainsField?: string;\n    Criteria?: any[];\n    EqualityFilter?: any;\n    IncludeDeleted?: boolean;\n    ExcludeTotalCount?: boolean;\n    ColumnSelection?: ColumnSelection;\n    IncludeColumns?: string[];\n    ExcludeColumns?: string[];\n    ExportColumns?: string[];\n    DistinctFields?: string[];\n}\n    \nexport interface ListResponse<TEntity> extends ServiceResponse {\n    Entities?: TEntity[];\n    Values?: any[];\n    TotalCount?: number;\n    Skip?: number;\n    Take?: number;\n}\n    \nexport interface RetrieveRequest extends ServiceRequest {\n    EntityId?: any;\n    ColumnSelection?: RetrieveColumnSelection;\n    IncludeColumns?: string[];\n    ExcludeColumns?: string[];\n}\n    \nexport interface RetrieveResponse<TEntity> extends ServiceResponse {\n    Entity?: TEntity;\n}\n    \nexport interface RetrieveLocalizationRequest extends RetrieveRequest {\n}\n    \nexport interface RetrieveLocalizationResponse<TEntity> extends ServiceResponse {\n    Entities?: { [key: string]: TEntity };\n}\n","/// <reference types=\"jquery.validation\" />\nimport $ from \"@optionaldeps/jquery\"\n\nexport default $?.validator;","import { extend } from \"./system\";\nimport { Config } from \"./config\";\nimport { Exception } from \"./system\";\nimport { tryGetText } from \"./localtext\";\nimport { parseDate, parseHourAndMin, parseDayHourAndMin, parseDecimal, parseInteger } from \"./formatting\";\nimport { isBS3 } from \"./dialogs\";\nimport { htmlEncode } from \"./html\";\nimport validator from \"@optionaldeps/jquery.validation\";\n\nif (validator && validator.methods && validator.addMethod) {\n\n    if ((validator as any).prototype.showLabel) {\n        var orgShowLabel = (validator as any).prototype.showLabel;\n        (validator as any).prototype.showLabel = function(element: any, message: any) {\n            if (message != null)\n                message = htmlEncode(message);\n            orgShowLabel.call(this, element, message);\n        }\n    }\n\n    validator.addMethod('customValidate', function (value: any, element: any) {\n        var result = this.optional(element) as any;\n        if (element == null || !!result) {\n            return result;\n        }\n        var events = ($ as any)._data(element, 'events');\n        if (!events) {\n            return true;\n        }\n        var handlers = events.customValidate;\n        if (handlers == null || handlers.length === 0) {\n            return true;\n        }\n\n        var el = $(element);\n        for (var i = 0; !!(i < handlers.length); i++) {\n            if ($.isFunction(handlers[i].handler)) {\n                var message = handlers[i].handler(el);\n                if (message != null) {\n                    el.data('customValidationMessage', message);\n                    return false;\n                }\n            }\n        }\n        return true;\n    }, function (o: any, e: any) {\n        return $(e).data('customValidationMessage');\n    });\n\n    validator.addMethod(\"dateQ\", function (value, element) {\n        var o = this.optional(element);\n        if (o)\n            return o;\n\n        var d = parseDate(value);\n        if (!d || isNaN(d.valueOf()))\n            return false;\n\n        var z = new Date(d);\n        z.setHours(0, 0, 0, 0);\n        return z.getTime() === d.getTime();\n    });\n\n    validator.addMethod(\"dateTimeQ\", function (value, element) {\n        var o = this.optional(element);\n        if (o)\n            return o;\n\n        var d = parseDate(value);\n        if (!d || isNaN(d.valueOf()))\n            return false;\n\n        return true;\n    });        \n\n    validator.addMethod(\"hourAndMin\", function (value, element) {\n        return this.optional(element) || !isNaN(parseHourAndMin(value));\n    });\n\n    validator.addMethod(\"dayHourAndMin\", function (value, element) {\n        return this.optional(element) || !isNaN(parseDayHourAndMin(value));\n    });\n\n    validator.addMethod(\"decimalQ\", function (value, element) {\n        return this.optional(element) || !isNaN(parseDecimal(value));\n    });\n\n    validator.addMethod(\"integerQ\", function (value, element) {\n        return this.optional(element) || !isNaN(parseInteger(value));\n    });\n\n    let oldEmail = validator.methods['email'];\n    let emailRegex: RegExp = null;\n    validator.addMethod(\"email\", function (value, element) {\n        if (Config.emailAllowOnlyAscii)\n            return oldEmail.call(this, value, element);\n\n        if (emailRegex == null) \n            emailRegex = new RegExp(\"^((([a-z]|\\\\d|[!#\\\\$%&'\\\\*\\\\+\\\\-\\\\/=\\\\?\\\\^_`{\\\\|}~]|\" +\n                \"[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])+(\\\\.([a-z]|\\\\d|\" +\n                \"[!#\\\\$%&'\\\\*\\\\+\\\\-\\\\/=\\\\?\\\\^_`{\\\\|}~]|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])+)*)|\" +\n                \"((\\\\x22)((((\\\\x20|\\\\x09)*(\\\\x0d\\\\x0a))?(\\\\x20|\\\\x09)+)?(([\\\\x01-\\\\x08\\\\x0b\\\\x0c\\\\x0e-\\\\x1f\\\\x7f]|\" +\n                \"\\\\x21|[\\\\x23-\\\\x5b]|[\\\\x5d-\\\\x7e]|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])|(\\\\\\\\([\\\\x01-\\\\x09\\\\x0b\\\\x0c\\\\x0d-\\\\x7f]|\" +\n                \"[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]))))*(((\\\\x20|\\\\x09)*(\\\\x0d\\\\x0a))?(\\\\x20|\\\\x09)+)?(\\\\x22)))@((([a-z]|\\\\d|\" +\n                \"[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])|(([a-z]|\\\\d|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])\" +\n                \"([a-z]|\\\\d|-|\\\\.|_|~|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])*([a-z]|\\\\d|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])))\\\\.)\" +\n                \"+(([a-z]|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])|(([a-z]|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])([a-z]|\\\\d|-|\\\\.|_|~|\" +\n                \"[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])*([a-z]|[\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF])))$\", \"i\");\n                \n        return emailRegex.test(value);\n    });\n\n    $(loadValidationErrorMessages);\n}\n\nexport function loadValidationErrorMessages() {\n\n    const addMsg = (m: string, k: string) => {\n        var txt = tryGetText(\"Validation.\" + k);\n        if (txt)\n            validator.messages[m] = txt;\n        else if (!validator.messages[m])\n            validator.messages[m] = k + \"?\";\n    }\n\n    addMsg(\"required\", \"Required\");\n    addMsg(\"email\", \"Email\");\n    addMsg(\"minlength\", \"MinLength\");\n    addMsg(\"maxlength\", \"MaxLength\");\n    addMsg(\"digits\", \"Digits\");\n    addMsg(\"range\", \"Range\");\n    addMsg(\"xss\", \"Xss\");\n    addMsg(\"dateQ\", \"DateInvalid\");\n    addMsg(\"decimalQ\", \"Decimal\");\n    addMsg(\"integerQ\", \"Integer\");\n    addMsg(\"url\", \"Url\");\n}\n\nfunction setTooltip(el: JQuery, val: string, show: boolean): JQuery {\n    if (isBS3())\n        (el.attr('data-original-title', val || '') as any)?.tooltip?.('fixTitle');\n    else\n        (el.attr('title', val || '') as any)?.tooltip?.('_fixTitle');\n    if (show != null)\n        (el as any).tooltip?.(show ? 'show' : 'hide');\n    return el;\n}\n\nexport function getHighlightTarget(el: HTMLElement) {\n    var hl = el.dataset.vxHighlight;\n    if (hl)\n        return document.getElementById(hl);\n    else if (el.classList.contains(\"select2-offscreen\") && el.id)\n        return document.getElementById('s2id_' + el.id);\n}\n\nexport function baseValidateOptions(): JQueryValidation.ValidationOptions {\n    return <any>{\n        errorClass: 'error',\n        ignore: '[style*=\"display:none\"], [style*=\"display: none\"] *, .hidden *, input[type=hidden], .no-validate',\n        ignoreTitle: true,\n        normalizer: function (value: any) {\n            return $.trim(value);\n        },\n        highlight: function (element: HTMLElement, errorClass: string, validClass: string) {\n            if ((element as any).type === \"radio\") {\n                this.findByName((element as any).name).addClass(errorClass).removeClass(validClass);\n            } else {\n                if (errorClass != null && errorClass.length)\n                    element.classList.add(errorClass);\n                if (validClass != null && validClass.length)\n                    element.classList.remove(validClass);\n                var hl = getHighlightTarget(element);\n                if (hl && hl.classList) {\n                    if (errorClass != null && errorClass.length)\n                        hl.classList.add(errorClass);\n                    if (validClass != null && validClass.length)\n                        hl.classList.remove(validClass);\n                }\n            }\n        },\n        unhighlight: function (element: HTMLElement, errorClass: string, validClass: string) {\n            if ((element as any).type === \"radio\") {\n                this.findByName((element as any).name).removeClass(errorClass).addClass(validClass);\n            } else {\n                if (errorClass != null && errorClass.length)\n                    element.classList.remove(errorClass);\n                if (validClass != null && validClass.length)\n                    element.classList.add(validClass);\n                var hl = getHighlightTarget(element);\n                if (hl && hl.classList) {\n                    if (errorClass != null && errorClass.length)\n                        hl.classList.remove(errorClass);\n                    if (validClass != null && validClass.length)\n                        hl.classList.add(validClass);\n                }\n            }\n        },\n        showErrors: function () {\n            if (($?.fn as any)?.tooltip) {\n                var i: number, elements: any, error: any, $el: any, hl: any;\n                for (i = 0; this.errorList[i]; i++) {\n                    error = this.errorList[i];\n                    hl = getHighlightTarget(error.element);\n                    if (hl != null)\n                        $el = $(hl);\n                    else\n                        $el = $(error.element);\n                    if (i != 0)\n                        setTooltip($el, '', false);\n                    else\n                        setTooltip($el, error.message, true);\n                }\n\n                for (i = 0, elements = this.validElements(); elements[i]; i++) {\n                    hl = getHighlightTarget(error.element);\n                    if (hl != null)\n                        $el = $(hl);\n                    else\n                        $el = $(error.element);\n                    setTooltip($el, '', false);\n                }\n            }\n\n            (validator as any)[\"prototype\"].defaultShowErrors.call(this);\n        }\n    }\n}\n\nexport function validateForm(form: JQuery, opt: JQueryValidation.ValidationOptions): JQueryValidation.Validator {\n    return form.validate(extend(baseValidateOptions(), opt));\n}\n\nexport function addValidationRule(element: JQuery, eventClass: string, rule: (p1: JQuery) => string): JQuery {\n    if (!element.length)\n        return element;\n    if (rule == null)\n        throw new Exception('rule is null!');\n    element.addClass('customValidate').bind('customValidate.' + eventClass, rule as any);\n    return element;\n}\n\nexport function removeValidationRule(element: JQuery, eventClass: string): JQuery {\n    element.unbind('customValidate.' + eventClass);\n    return element;\n}","import { extend } from \"./system\";\nimport { notifyError } from \"./notify\";\nimport { localText } from \"./localtext\";\nimport { baseValidateOptions, getHighlightTarget } from \"./validation\";\nimport { isBS3 } from \"./dialogs\";\n\nlet oldShowLabel: (e: HTMLElement, message: string) => void;\n\nfunction validateShowLabel(element: HTMLElement, message: string) {\n    oldShowLabel.call(this, element, message);\n    this.errorsFor(element).each(function (i: number, e: any) {\n        var $e = $(e);\n        if ($e.parent('.vx').length) {\n            $e.attr('title', $e.text());\n            if (message && $e.hasClass('error'))\n                $e.removeClass('checked');\n        }\n    });\n};\n\nfunction jQueryValidationInitialization() {\n\n    if (typeof $ === \"undefined\" ||\n        !$.validator)\n        return;\n\n    let p: any = $.validator;\n    p = p.prototype;\n    oldShowLabel = p.showLabel;\n    p.showLabel = validateShowLabel;\n\n    p.oldfocusInvalid = p.focusInvalid;\n    p.focusInvalid = function () {\n        if (this.settings.abortHandler)\n            this.settings.abortHandler(this);\n        this.oldfocusInvalid.call(this);\n    };\n    p.oldstopRequest = p.focusInvalid;\n    p.stopRequest = function (element: any, valid: boolean) {\n        let formSubmitted = this.formSubmitted;\n        this.oldfocusInvalid.call(this, [element, valid]);\n        if (!valid && this.pendingRequest == 0 && formSubmitted && this.settings.abortHandler) {\n            this.settings.abortHandler(this);\n        }\n    };\n    p.resetAll = function () {\n        this.submitted = {};\n        this.prepareForm();\n        this.hideErrors();\n        this.elements().removeClass(this.settings.errorClass);\n    };\n};\n\nexport function validatorAbortHandler(validator: any) {\n    validator.settings.abortHandler = null;\n    validator.settings.submitHandler = function () {\n        return false;\n    };\n};\n\nexport function validateOptions(options?: JQueryValidation.ValidationOptions) {\n    var opt = baseValidateOptions();\n    delete opt.showErrors;\n    return extend(extend(opt, {\n        meta: 'v',\n        errorPlacement: function (error: any, element: any) {\n            let field: any = null;\n            let vx = element.attr('data-vx-id');\n            if (vx) {\n                field = $('#' + vx);\n                if (!field.length)\n                    field = null;\n                else\n                    field = field[0];\n            }\n            if (field == null) {\n                field = element.parents('div.field');\n                if (field.length) {\n                    let inner = $('div.vx', field[0]);\n                    if (inner.length)\n                        field = inner[0];\n                }\n                else\n                    field = element.parent();\n            }\n            error.appendTo(field);\n        },\n        submitHandler: function () {\n            return false;\n        },\n        invalidHandler: function (event: any, validator: JQueryValidation.Validator) {\n            notifyError(localText(\"Validation.InvalidFormMessage\"));\n\n            $(validator.errorList.map(x => x.element))\n                .closest('.category.collapsed')\n                .children('.category-title')\n                .each((i, x) => {\n                    $(x).click();\n                    return true;\n                });\n\n            if (validator.errorList.length)\n            {\n                var el = validator.errorList[0].element;\n                if (el) {\n                    var bsPaneId = $(el).closest('.tab-content>.tab-pane[id]:not(.active)').attr('id');\n                    if (bsPaneId) {\n                        let selector = 'a[href=\"#' + bsPaneId + '\"]';\n                        $(selector).click(); // bs3/bs4\n                        (document.querySelector(selector) as HTMLAnchorElement)?.click(); // bs5+\n                    }\n\n                    var uiPaneId = $(el).closest('.ui-tabs-panel[id]:not(.ui-tabs-panel-active)').attr('id');\n                    if (uiPaneId)\n                        $('a[href=\"#' + uiPaneId + '\"]').click();\n\n                    if (($.fn as any).tooltip) {\n                        var $el: any;\n                        var hl = getHighlightTarget(el);\n                        if (hl)\n                            $el = $(hl);\n                        else\n                            $el = $(el);\n\n                        ($.fn as any).tooltip && $el.tooltip({\n                            title: validator.errorList[0].message,\n                            trigger: 'manual'\n                        }).tooltip('show');\n\n                        window.setTimeout(function () {\n                            $el.tooltip(isBS3() ? 'destroy' : 'dispose');\n                        }, 1500);\n                    }\n                }\n            }\n        },\n        success: function (label: JQuery) {\n            label.addClass('checked');\n        }\n    }), options);\n};\n\nif (typeof $ !== \"undefined\") {\n    if ($.validator)\n        jQueryValidationInitialization();\n    else\n        $(jQueryValidationInitialization);\n}\nelse if (typeof document !== \"undefined\") {\n    if (document.readyState === 'loading')\n        document.addEventListener('DOMContentLoaded', jQueryValidationInitialization);\n    else\n        setTimeout(jQueryValidationInitialization, 100);\n}","/**\n * CriteriaBuilder is a class that allows to build unary or binary criteria with completion support.\n */\nexport class CriteriaBuilder extends Array {\n    /**\n     * Creates a between criteria.\n     * @param fromInclusive from value\n     * @param toInclusive to value\n     */\n    bw(fromInclusive: any, toInclusive: any): Array<any> {\n        return [[this, '>=', fromInclusive], 'and', [this, '<=', toInclusive]];\n    }\n\n    /**\n     * Creates a contains criteria\n     * @param value contains value\n     */\n    contains(value: string): Array<any> {\n        return [this, 'like', '%' + value + '%'];\n    }\n\n    /**\n     * Creates a endsWith criteria\n     * @param value endsWith value\n     */\n    endsWith(value: string): Array<any> {\n        return [this, 'like', '%' + value];\n    }\n\n    /**\n     * Creates an equal (=) criteria\n     * @param value equal value\n     */\n    eq(value: any): Array<any> {\n        return [this, '=', value];\n    }\n\n    /**\n     * Creates a greater than criteria\n     * @param value greater than value\n     */\n    gt(value: any): Array<any> {\n        return [this, '>', value];\n    }\n\n    /**\n     * Creates a greater than or equal criteria\n     * @param value greater than or equal value\n     */\n    ge(value: any): Array<any> {\n        return [this, '>=', value];\n    }\n\n    /**\n     * Creates a in criteria\n     * @param values in values\n     */\n    in(values: any[]): Array<any> {\n        return [this, 'in', [values]];\n    }\n\n    /**\n     * Creates a IS NULL criteria\n     */\n    isNull(): Array<any> {\n        return ['is null', this];\n    }\n\n    /**\n     * Creates a IS NOT NULL criteria\n     */\n    isNotNull(): Array<any> {\n        return ['is not null', this];\n    }\n\n    /**\n     * Creates a less than or equal to criteria\n     * @param value less than or equal to value\n     */\n    le(value: any): Array<any> {\n        return [this, '<=', value];\n    }\n\n    /**\n     * Creates a less than criteria\n     * @param value less than value\n     */\n    lt(value: any): Array<any> {\n        return [this, '<', value];\n    }\n\n    /**\n     * Creates a not equal criteria\n     * @param value not equal value\n     */\n    ne(value: any): Array<any> {\n        return [this, '!=', value];\n    }\n\n    /**\n     * Creates a LIKE criteria\n     * @param value like value\n     */\n    like(value: any): Array<any> {\n        return [this, 'like', value];\n    }\n\n    /**\n     * Creates a STARTS WITH criteria\n     * @param value startsWith value\n     */\n    startsWith(value: string): Array<any> {\n        return [this, 'like', value + '%'];\n    }\n\n    /**\n     * Creates a NOT IN criteria\n     * @param values array of NOT IN values\n     */\n    notIn(values: any[]): Array<any> {\n        return [this, 'not in', [values]];\n    }\n\n    /**\n     * Creates a NOT LIKE criteria\n     * @param value not like value\n     */\n    notLike(value: any): Array<any> {\n        return [this, 'not like', value];\n    }\n}\n\nconst TOKEN_IDENTIFIER = 1;\nconst TOKEN_OPERATOR = 2;\nconst TOKEN_VALUE = 3;\nconst TOKEN_PARAM = 4;\n\ninterface Token {\n    t: number;\n    v: any;\n}\n\ninterface ParseError {\n    error: string;\n    pos: number;\n}\n\nconst ParseError: any = function (expression: string, error: string, position: number) {\n    this.expression = expression;\n    this.error = error;\n    this.position = position;\n    this.toString = function () {\n        return 'Error parsing expression: \"' + expression + '\", \"' +\n            error + ', position: ' + position;\n    };\n}\n\nfunction tokenize(expression: string): Token[] {\n    var end: number, v: any;\n    var tokens: Token[] = [];\n    var l = expression.length;\n    var l1 = expression.length - 1;\n    var openParens = 0;\n    var index: number;\n    var ch: string;\n\n    function skipWhiteSpace() {\n        while (index < l) {\n            ch = expression.charAt(index);\n\n            if (ch === ' ' || ch === '\\t') {\n                index++;\n                continue;\n            }\n\n            break;\n        }\n    }\n\n    function readString() {\n        end = index;\n        var foundDoubles = false;\n        while (end++ < l1) {\n            ch = expression.charAt(end);\n            if (ch === \"'\") {\n                if (end < l1 && expression.charAt(end + 1) === \"'\") {\n                    end++;\n                    foundDoubles = true;\n                    continue;\n                }\n                else\n                    break;\n            }\n        }\n\n        if (end === index ||\n            expression.charAt(end) !== \"'\")\n            throw new ParseError(expression, 'unterminated string', index);\n\n        v = expression.substr(index + 1, end - index - 1);\n        if (foundDoubles)\n            v = v.replace(/''/g, \"'\");\n    }\n\n    function readNumber() {\n        end = index;\n        var foundDot = false;\n        while (end < l1) {\n            ch = expression.charAt(end + 1);\n            if ((ch >= '0' && ch <= '9') ||\n                (!foundDot && (ch === '.'))) {\n                if (ch === '.')\n                    foundDot = true;\n                end++;\n            }\n            else\n                break;\n        }\n\n        v = parseFloat(expression.substring(index, end + 1));\n    }\n\n    function readIdentifier() {\n        end = index;\n        while (end < l1) {\n            ch = expression.charAt(end + 1);\n            if (ch == '_' ||\n                (ch >= 'A' && ch <= 'Z') ||\n                (ch >= 'a' && ch <= 'z') ||\n                (ch >= '0' && ch <= '9')) {\n                end++;\n            }\n            else\n                break;\n        }\n\n        v = expression.substr(index, end - index + 1);\n    }\n\n    function readParam() {\n        index++;\n        readIdentifier();\n        if (!v.length)\n            throw new ParseError(expression, 'expected parameter name', index);\n    }\n\n    function readArrayList() {\n        skipWhiteSpace();\n\n        if (index >= l || expression.charAt(index) != '(') {\n            if (index < l && expression.charAt(index) == '@') {\n                readParam();\n                index = end;\n                return;\n            }\n            throw new ParseError(expression, 'expected parenthesis', index);\n        }\n\n        index++;\n\n        let values = [];\n\n        while (true) {\n            skipWhiteSpace();\n\n            if (index >= l)\n                throw new ParseError(expression, 'expected parenthesis', index);\n\n            ch = expression.charAt(index);\n\n            if (ch == ',') {\n                if (values.length == 0)\n                    throw new ParseError(expression, 'unexpected comma', index);\n                index++;\n                skipWhiteSpace();\n                ch = expression.charAt(index);\n            }\n            else if (ch == ')') {\n                break;\n            }\n            else if (values.length > 0)\n                throw new ParseError(expression, 'expected comma', index);\n\n\n            if (ch === \"'\") {\n                readString();\n\n                values.push(v);\n                index = end + 1;\n                continue;\n            }\n\n            if (ch >= '0' && ch <= '9') {\n                readNumber();\n\n                values.push(v);\n                index = end + 1;\n                continue;\n            }\n\n            if (ch == 'n') {\n                readIdentifier();\n\n                if (v === 'null') {\n                    values.push(null)\n                    index = end + 1;\n                    continue;\n                }\n            }\n\n            throw new ParseError(expression, 'unexpected token', index);\n        }\n\n        v = values;\n    }\n\n    for (index = 0; index < l; index++) {\n        ch = expression.charAt(index);\n        if (ch === ' ' || ch === '\\t')\n            continue;\n\n        if (ch == '_' ||\n            (ch >= 'A' && ch <= 'Z') ||\n            (ch >= 'a' && ch <= 'z')) {\n            readIdentifier();\n            var w = v.toLowerCase();\n            if (w == 'is') {\n                index = end + 1;\n                skipWhiteSpace();\n\n                readIdentifier();\n                w = v.toLowerCase();\n                if (w === 'not') {\n                    index = end + 1;\n                    skipWhiteSpace();\n                    readIdentifier();\n                    if (v.toLowerCase() === 'null') {\n                        tokens.push({\n                            t: TOKEN_OPERATOR,\n                            v: 'is not null'\n                        });\n                    }\n                    else\n                        throw new ParseError(expression, 'expected \"null\"', index);\n                }\n                else if (w === 'null') {\n                    tokens.push({\n                        t: TOKEN_OPERATOR,\n                        v: 'is null'\n                    });\n                }\n                else\n                    throw new ParseError(expression, 'expected \"null\" or \"not\" keyword', index);\n            }\n            else if (w === 'and' || w === 'or' || w === 'xor') {\n                tokens.push({\n                    t: TOKEN_OPERATOR,\n                    v: w\n                });\n            }\n            else if (w === 'not') {\n                const currentEnd = end;\n\n                index = end + 1;\n                skipWhiteSpace();\n\n                readIdentifier();\n                w = v.toLowerCase();\n\n                if (w === 'in') {\n                    index = end + 1;\n\n                    tokens.push({\n                        t: TOKEN_OPERATOR,\n                        v: 'not in'\n                    });\n\n                    readArrayList();\n\n                    if (typeof v === \"string\") {\n                        tokens.push({\n                            t: TOKEN_PARAM,\n                            v: v\n                        })\n                    }\n                    else {\n                        tokens.push({\n                            t: TOKEN_VALUE,\n                            v: v\n                        });\n                    }\n                }\n                else if (w === \"like\") {\n                    tokens.push({\n                        t: TOKEN_OPERATOR,\n                        v: 'not like'\n                    });\n\n                    index = end;\n                } else {\n                    tokens.push({\n                        t: TOKEN_OPERATOR,\n                        v: 'not'\n                    });\n\n                    index = currentEnd;\n                }\n\n                continue;\n            }\n            else if (w === 'in') {\n                tokens.push({\n                    t: TOKEN_OPERATOR,\n                    v: 'in'\n                });\n\n                index = end + 1;\n\n                readArrayList();\n\n                if (typeof v === \"string\") {\n                    tokens.push({\n                        t: TOKEN_PARAM,\n                        v: v\n                    })\n                }\n                else {\n                    tokens.push({\n                        t: TOKEN_VALUE,\n                        v: v\n                    });\n                }\n\n                continue;\n            }\n            else if (w === \"like\") {\n                tokens.push({\n                    t: TOKEN_OPERATOR,\n                    v: 'like'\n                });\n            }\n            else {\n                tokens.push({\n                    t: TOKEN_IDENTIFIER,\n                    v: v\n                });\n            }\n\n            index = end;\n            continue;\n        }\n\n        if (ch === '@') {\n            readParam();\n            tokens.push({\n                t: TOKEN_PARAM,\n                v: v\n            });\n            index = end;\n            continue;\n        }\n\n        if ((((ch === '-') || (ch === '+')) &&\n            index < l1 &&\n            expression.charAt(index + 1) >= '0' &&\n            expression.charAt(index + 1) <= '9') ||\n            (ch >= '0' && ch <= '9')) {\n            end = index;\n            readNumber();\n\n            tokens.push({\n                t: TOKEN_VALUE,\n                v: v\n            });\n\n            index = end;\n            continue;\n        }\n\n        if (ch === \"'\") {\n            end = index;\n            readString();\n\n            tokens.push({\n                t: TOKEN_VALUE,\n                v: v\n            });\n            index = end;\n            continue;\n        }\n\n        if (ch === '=') {\n            tokens.push({\n                t: TOKEN_OPERATOR,\n                v: ch\n            });\n            continue;\n        }\n\n        if (ch === '(') {\n            openParens++;\n            tokens.push({\n                t: TOKEN_OPERATOR,\n                v: ch\n            });\n            continue;\n        }\n\n        if (ch == ')') {\n            if (openParens <= 0)\n                throw new ParseError(expression, 'unexpected parenthesis', index);\n\n            openParens--;\n            tokens.push({\n                t: TOKEN_OPERATOR,\n                v: ch\n            });\n            continue;\n        }\n\n        if (ch === '>' || ch === '<') {\n            if (index < l1 &&\n                expression.charAt(index + 1) === '=') {\n                tokens.push({\n                    t: TOKEN_OPERATOR,\n                    v: ch + '='\n                });\n                index++;\n            }\n            else {\n                tokens.push({\n                    t: TOKEN_OPERATOR,\n                    v: ch\n                });\n            }\n            continue;\n        }\n\n        throw new ParseError(expression, 'unknown token', index);\n    }\n\n    if (openParens > 0)\n        throw new ParseError(expression, 'missing parenthesis', index);\n\n    return tokens;\n}\n\nconst operatorPrecedence: Record<string, number> = {\n    '=': 4,\n    '>': 4,\n    '<': 4,\n    '>=': 4,\n    '<=': 4,\n    '<>': 4,\n    '!=': 4,\n    'like': 5,\n    'not like': 5,\n    'in': 5,\n    'not in': 5,\n    'is null': 5,\n    'is not null': 5,\n    'not': 6,\n    'and': 7,\n    'xor': 8,\n    'or': 9\n}\n\nfunction shuntingYard(tokens: Token[]): Token[] {\n    var result: Token[] = [];\n    var stack: Token[] = [];\n    for (var token of tokens) {\n        if (token.t === TOKEN_OPERATOR) {\n            var precedence = operatorPrecedence[token.v];\n\n            if (precedence != null) {\n                while (stack.length) {\n                    var prev = stack[stack.length - 1];\n                    if (prev.t !== TOKEN_OPERATOR || prev.v == '(')\n                        break;\n                    var prevPrecedence = operatorPrecedence[prev.v];\n                    if (prevPrecedence == null || prevPrecedence > precedence)\n                        break;\n\n                    result.push(stack.pop());\n                }\n\n                stack.push(token);\n            }\n            else if (token.v === '(') {\n                stack.push(token);\n            }\n            else if (token.v === ')') {\n                while (stack.length &&\n                    (stack[stack.length - 1].t !== TOKEN_OPERATOR ||\n                        stack[stack.length - 1].v !== '(')) {\n                    result.push(stack.pop());\n                }\n\n                stack.pop();\n            }\n            else\n                result.push(token);\n        }\n        else\n            result.push(token);\n    }\n\n    while (stack.length) {\n        var tok = stack.pop();\n\n        if (tok.t == TOKEN_OPERATOR &&\n            (tok.v === '(' || tok.v === ')'))\n            throw \"Mismatched parentheses in criteria expression!\";\n\n        result.push(tok);\n    }\n\n    return result;\n}\n\nfunction rpnTokensToCriteria(rpnTokens: Token[], getParam?: (name: string) => any): any[] {\n    var stack: any[] = [];\n\n    for (var token of rpnTokens) {\n        switch (token.t) {\n            case TOKEN_IDENTIFIER:\n                {\n                    stack.push([token.v]);\n                    break;\n                }\n\n            case TOKEN_VALUE:\n                {\n                    stack.push(Array.isArray(token.v) ? [token.v] : token.v);\n                    break;\n                }\n\n            case TOKEN_PARAM:\n                {\n                    if (!getParam)\n                        throw new Error(\"getParam must be passed for parameterized expressions!\");\n                    var prm = getParam(token.v)\n                    stack.push(Array.isArray(prm) ? [prm] : prm);\n                    break;\n                }\n\n            case TOKEN_OPERATOR:\n                {\n                    switch (token.v as string) {\n                        case 'not':\n                        case 'is null':\n                        case 'is not null':\n                            if (!stack.length)\n                                throw new Error(\"Unary operator \" + token.v + \" requires a value!\");\n\n                            stack.push([token.v, stack.pop()]);\n                            break;\n                        default:\n                            if (stack.length < 2)\n                                throw new Error(\"Binary operator \" + token.v + \" requires two values!\");\n\n                            var r = stack.pop();\n                            var l = stack.pop();\n                            stack.push([l, token.v, r]);\n                            break;\n                    }\n                    break;\n                }\n            default:\n                throw new Error(\"Invalid operator type: \" + token.t + \"!\");\n        }\n    }\n\n    if (stack.length != 1)\n        throw new Error(\"Error evaluating expression!\");\n\n    return stack.pop();\n}\n\nfunction internalParse(expression: string, getParam?: (name: string) => any) {\n    var tokens = tokenize(expression);\n    var rpnTokens = shuntingYard(tokens);\n    return rpnTokensToCriteria(rpnTokens, getParam);\n}\n\n/** \n * Parses a criteria expression to Serenity Criteria array format.\n * The string may optionally contain parameters like `A >= @p1 and B < @p2`.\n * @param expression The criteria expression.\n * @param params The dictionary containing parameter values like { p1: 10, p2: 20 }.\n * @example\n * parseCriteria('A >= @p1 and B < @p2', { p1: 5, p2: 4 }) // [[[a], '>=' 5], 'and', [[b], '<', 4]]\n */\nexport function parseCriteria(expression: string, params?: any): any[];\n/** \n * Parses a criteria expression to Serenity Criteria array format.\n * The expression may contain parameter placeholders like `A >= ${p1}`\n * where p1 is a variable in the scope.\n * @param strings The string fragments.\n * @param values The tagged template arguments.\n * @example \n * var a = 5, b = 4;\n * parseCriteria`A >= ${a} and B < ${b}` // [[[a], '>=' 5], 'and', [[b], '<', 4]]\n */\nexport function parseCriteria(strings: TemplateStringsArray, ...values: any[]): any[];\nexport function parseCriteria(exprOrStrings: TemplateStringsArray | string, ...values: any[]): any[] {\n    if (!exprOrStrings?.length)\n        return [];\n\n    if (typeof exprOrStrings === \"string\") {\n        return internalParse(exprOrStrings,\n            values == null || values[0] == null ? null : name => values[0][name]);\n    }\n    else if (!values.length)\n        return internalParse(exprOrStrings.join(''));\n\n    var expression = String.raw({ raw: exprOrStrings }, ...values.map((x, i) => '@__' + i));\n    return internalParse(expression, name => name.startsWith('__') ?\n        values[parseInt(name.substring(2), 10)] : void 0);\n}\n\n/**\n * Enumeration of Criteria operator keys.\n */\nexport enum CriteriaOperator {\n    paren = \"()\",\n    not = \"not\",\n    isNull = \"is null\",\n    isNotNull = \"is not null\",\n    exists = \"exists\",\n    and = \"and\",\n    or = \"or\",\n    xor = \"xor\",\n    eq = \"=\",\n    ne = \"!=\",\n    gt = \">\",\n    ge = \">=\",\n    lt = \"<\",\n    le = \"<=\",\n    in = \"in\",\n    notIn = \"not in\",\n    like = \"like\",\n    notLike = \"not like\"\n}\n\n/**\n * Creates a new criteria builder containg the passed field name.\n * @param field The field name.\n */\nexport function Criteria(field: string) {\n    var builder = CriteriaBuilder.of(field);\n    // workaround for subclassing array until corelib switched to ES6\n    !(builder as any).eq && ((builder as any).__proto__ = CriteriaBuilder.prototype);\n    return builder as CriteriaBuilder\n}\n\n/**\n * Ands two or more criteria together.\n * @param c1 First criteria.\n * @param c2 Second criteria.\n * @param rest Other criteria.\n */\nCriteria.and = function and(c1: any[], c2: any[], ...rest: any[][]) {\n    var result = Criteria.join(c1, 'and', c2);\n    if (rest) {\n        for (let k of rest)\n            result = Criteria.join(result, 'and', k);\n    }\n\n    return result;\n};\n\n/** Provides access to the `CriteriaOperator` enum, e.g list of operator keys */\nCriteria.Operator = CriteriaOperator;\n\n/** \n * Determines if a criteria is empty.\n */\nCriteria.isEmpty = function isEmpty(c: any[]): boolean {\n    return c == null ||\n        c.length === 0 ||\n        (c.length === 1 && typeof c[0] === \"string\" && c[0].length === 0);\n};\n\n/**\n * Joins two criteria together.\n * @param c1 First criteria.\n * @param op Operator to insert between, e.g. 'or', 'and'.\n * @param c2 Second criteria\n */\nCriteria.join = function join(c1: any[], op: string, c2: any[]): any[] {\n    if (Criteria.isEmpty(c1))\n        return c2;\n\n    if (Criteria.isEmpty(c2))\n        return c1;\n\n    return [c1, op, c2];\n};\n\n/**\n * Negates a criteria.\n * @param c Criteria to negate.\n */\nCriteria.not = function not(c: any[]) {\n    return ['not', c]\n}\n\n/**\n * Ors two or more criteria together.\n * @param c1 First criteria.\n * @param c2 Second criteria.\n * @param rest Other criteria.\n */\nCriteria.or = function or(c1: any[], c2: any[], ...rest: any[][]) {\n    var result = Criteria.join(c1, 'or', c2);\n\n    if (rest) {\n        for (let k of rest)\n            result = Criteria.join(result, 'or', k);\n    }\n\n    return result;\n}\n\n/**\n * Puts a criteria in parens. Exists only for compatibility reasons.\n */\nCriteria.paren = function parent(c: any[]): any[] {\n    return Criteria.isEmpty(c) ? c : ['()', c];\n}\n\n/** \n * Parses a criteria expression to Serenity Criteria array format.\n * The expression string may be a string literal, optionally containining \n * parameters like `A >= @p1 and B < @p2`.\n * \n * Or, the expression might be a tagged string literal that \n * contain parameter placeholders like `A >= ${p1}`\n * where p1 is a variable in the scope.\n *\n * @example\n * Criteria.parse(\"A >= @p1 and B < @p2\", { p1: 5, p2: 4 }) // [[[a], '>=' 5], 'and', [[b], '<', 4]]\n * \n * @example\n * var a = 5; b = 4;\n * Criteria.parse`A >= ${a} and B < ${b}` // [[[a], '>=' 5], 'and', [[b], '<', 4]]\n*/\nCriteria.parse = parseCriteria;","import { escape, Column, GroupTotals, NonDataRow, convertCompatFormatter } from \"@serenity-is/sleekgrid\";\nimport { formatNumber, htmlEncode, tryGetText } from \"../q\";\n\nexport {}\n\nexport namespace Aggregators\n{\n    export function Avg(field: string): void {\n        this.field_ = field;\n        this.type_ = \"Avg\";\n\n        this.init = function () {\n            this.count_ = 0;\n            this.nonNullCount_ = 0;\n            this.sum_ = 0;\n        };\n\n        this.accumulate = function (item: any) {\n            var val = item[this.field_];\n            this.count_++;\n            if (val != null && val !== \"\" && !isNaN(val)) {\n                this.nonNullCount_++;\n                this.sum_ += parseFloat(val);\n            }\n        };\n\n        this.storeResult = function (groupTotals: any) {\n            if (!groupTotals.avg) {\n                groupTotals.avg = {};\n            }\n            if (this.nonNullCount_ != 0) {\n                groupTotals.avg[this.field_] = this.sum_ / this.nonNullCount_;\n            }\n        };\n    }\n\n    export function WeightedAvg(field: string, weightedField: string) {\n        this.field_ = field;\n        this.type_ = \"WeightedAvg\";\n        this.weightedField_ = weightedField;\n\n        this.init = function () {\n            this.sum_ = 0;\n            this.weightedSum_ = 0;\n        };\n\n        this.accumulate = function (item: any) {\n            var val = item[this.field_];\n            var valWeighted = item[this.weightedField_];\n            if (this.isValid(val) && this.isValid(valWeighted)) {\n                this.weightedSum_ += parseFloat(valWeighted);\n                this.sum_ += parseFloat(val) * parseFloat(valWeighted);\n            }\n        };\n\n        this.storeResult = function (groupTotals: any) {\n            if (!groupTotals.avg) {\n                groupTotals.avg = {};\n            }\n\n            if (this.sum_ && this.weightedSum_) {\n                groupTotals.avg[this.field_] = this.sum_ / this.weightedSum_;\n            }\n        };\n\n        this.isValid = function (val: any) {\n            return val !== null && val !== \"\" && !isNaN(val);\n        };\n    }\n\n    export function Min(field: string): void {\n        this.field_ = field;\n        this.type_ = \"Min\";\n\n        this.init = function () {\n            this.min_ = null;\n        };\n\n        this.accumulate = function (item: any) {\n            var val = item[this.field_];\n            if (val != null && val !== \"\" && !isNaN(val)) {\n                if (this.min_ == null || val < this.min_) {\n                    this.min_ = val;\n                }\n            }\n        };\n\n        this.storeResult = function (groupTotals: any) {\n            if (!groupTotals.min) {\n                groupTotals.min = {};\n            }\n            groupTotals.min[this.field_] = this.min_;\n        }\n    }\n\n    export function Max(field: string): void {\n        this.field_ = field;\n        this.type_ = \"Max\";\n\n        this.init = function () {\n            this.max_ = null;\n        };\n\n        this.accumulate = function (item: any) {\n            var val = item[this.field_];\n            if (val != null && val !== \"\" && !isNaN(val)) {\n                if (this.max_ == null || val > this.max_) {\n                    this.max_ = val;\n                }\n            }\n        };\n\n        this.storeResult = function (groupTotals: any) {\n            if (!groupTotals.max) {\n                groupTotals.max = {};\n            }\n            groupTotals.max[this.field_] = this.max_;\n        }\n    }\n\n    export function Sum(field: string): void {\n        this.field_ = field;\n        this.type_ = \"Sum\";\n\n        this.init = function () {\n            this.sum_ = null;\n        };\n\n        this.accumulate = function (item: any) {\n            var val = item[this.field_];\n            if (val != null && val !== \"\" && !isNaN(val)) {\n                this.sum_ += parseFloat(val);\n            }\n        };\n\n        this.storeResult = function (groupTotals: any) {\n            if (!groupTotals.sum) {\n                groupTotals.sum = {};\n            }\n            groupTotals.sum[this.field_] = this.sum_;\n        }\n    }\n}\n\nexport namespace AggregateFormatting {\n    export function formatMarkup<TItem = any>(totals: GroupTotals, column: Column<TItem>, aggType: string): string {\n        var textKey = (aggType.substring(0, 1).toUpperCase() + aggType.substring(1));\n        var text = tryGetText(\"Enums.Serenity.SummaryType.\" + textKey) ?? textKey;\n    \n        var value = (totals as any)[aggType][column.field];\n        var formattedValue = formatValue(column, value);\n    \n        return \"<span class='aggregate agg-\" + aggType + \"'  title='\" + htmlEncode(text) + \"'>\" +\n            formattedValue +\n            \"</span>\";\n    }\n\n    export function formatValue(column: Column, value: number): string {\n\n        var formatter = column.format ?? (column.formatter ? convertCompatFormatter(column.formatter) : null);\n\n        if (formatter != null) {\n            var item = new NonDataRow();\n            (item as any)[column.field] = value;\n            try {\n                return formatter({ column, escape, item, value });\n            }\n            catch (e) {\n            }\n        }\n\n        if (typeof value === \"number\") {\n            var displayFormat = column.sourceItem?.displayFormat ?? \"#,##0.##\";\n            return htmlEncode(formatNumber(value, displayFormat));\n        }\n        else\n            return htmlEncode(value);\n    }\n\n    export function groupTotalsFormatter<TItem = any>(totals: GroupTotals, column: Column<TItem>): string {\n        if (!totals || !column)\n            return \"\";\n    \n        var text: string = null;\n    \n        [\"sum\", \"avg\", \"min\", \"max\", \"cnt\"].forEach(function (aggType) {\n            if (text == null && (totals as any)[aggType] && (totals as any)[aggType][column.field] != null) {\n                text = formatMarkup(totals, column, aggType);\n                return false;\n            }\n        });\n    \n        return text || \"\";\n    }       \n}","import { deepClone, extend, htmlEncode, ListRequest, ListResponse, notifyError, ServiceResponse, localText } from \"../q\";\nimport { EventEmitter, EventData, Grid, gridDefaults, Group, GroupItemMetadataProvider, GroupTotals } from \"@serenity-is/sleekgrid\";\nimport { AggregateFormatting } from \"./aggregators\";\nimport { GroupInfo, PagingOptions, SummaryOptions } from \"./slicktypes\";\n\nexport interface RemoteViewOptions {\n    autoLoad?: boolean;\n    idField?: string;\n    contentType?: string;\n    dataType?: string;\n    filter?: any;\n    params?: any;\n    onSubmit?: CancellableViewCallback<any>;\n    url?: string;\n    localSort?: boolean;\n    sortBy?: any;\n    rowsPerPage?: number;\n    seekToPage?: number;\n    onProcessData?: RemoteViewProcessCallback<any>;\n    method?: string;\n    inlineFilters?: boolean;\n    groupItemMetadataProvider?: GroupItemMetadataProvider;\n    onAjaxCall?: RemoteViewAjaxCallback<any>;\n    getItemMetadata?: (p1?: any, p2?: number) => any;\n    errorMsg?: string;\n}\n    \nexport interface PagingInfo {\n    rowsPerPage: number;\n    page: number,\n    totalCount: number;\n    loading: boolean,\n    error: string;\n    dataView: RemoteView<any>\n}\n\nexport type CancellableViewCallback<TEntity> = (view: RemoteView<TEntity>) => boolean | void;\nexport type RemoteViewAjaxCallback<TEntity> = (view: RemoteView<TEntity>, options: JQueryAjaxSettings) => boolean | void;\nexport type RemoteViewFilter<TEntity> = (item: TEntity, view: RemoteView<TEntity>) => boolean;\nexport type RemoteViewProcessCallback<TEntity> = (data: ListResponse<TEntity>, view: RemoteView<TEntity>) => ListResponse<TEntity>;\n\nexport interface RemoteView<TEntity> {\n    onSubmit: CancellableViewCallback<TEntity>;\n    onDataChanged: EventEmitter;\n    onDataLoading: EventEmitter;\n    onDataLoaded: EventEmitter;\n    onPagingInfoChanged: EventEmitter;\n    onRowCountChanged: EventEmitter;\n    onRowsChanged: EventEmitter;\n    onRowsOrCountChanged: EventEmitter;\n    getPagingInfo(): PagingInfo;\n    onGroupExpanded: EventEmitter,\n    onGroupCollapsed: EventEmitter,\n    onAjaxCall: RemoteViewAjaxCallback<TEntity>;\n    onProcessData: RemoteViewProcessCallback<TEntity>;\n    addData(data: ListResponse<TEntity>): void;\n    beginUpdate(): void;\n    endUpdate(): void;\n    deleteItem(id: any): void;\n    getItems(): TEntity[];\n    setFilter(filter: RemoteViewFilter<TEntity>): void;\n    getFilter(): RemoteViewFilter<TEntity>;\n    getFilteredItems(): any;\n    getGroupItemMetadataProvider(): GroupItemMetadataProvider;\n    setGroupItemMetadataProvider(value: GroupItemMetadataProvider): void;\n    fastSort: any;\n    setItems(items: any[], newIdProperty?: boolean | string): void;\n    getIdPropertyName(): string;\n    getItemById(id: any): TEntity;\n    getGrandTotals(): any;\n    getGrouping(): GroupInfo<TEntity>[];\n    getGroups(): any[];\n    getRowById(id: any): number;\n    getRowByItem(item: any): number;\n    getRows(): any[];\n    mapItemsToRows(itemArray: any[]): any[];\n    mapRowsToIds(rowArray: number[]): any[];\n    mapIdsToRows(idAray: any[]): number[];\n    setFilterArgs(args: any): void;\n    setRefreshHints(hints: any[]): void;\n    insertItem(insertBefore: number, item: any): void;\n    sortedAddItem(item: any): void;\n    sortedUpdateItem(id: any, item: any): void;\n    syncGridSelection(grid: any, preserveHidden?: boolean, preserveHiddenOnSelectionChange?: boolean): void;\n    syncGridCellCssStyles(grid: any, key: string): void;\n    getItemMetadata(i: number): any;\n    updateItem(id: any, item: TEntity): void;\n    addItem(item: TEntity): void;\n    getIdxById(id: any): any;\n    getItemByIdx(index: number): any;\n    setGrouping(groupInfo: GroupInfo<TEntity>[]): void;\n    collapseAllGroups(level: number): void;\n    expandAllGroups(level: number): void;\n    expandGroup(keys: any[]): void;\n    collapseGroup(keys: any[]): void;\n    setSummaryOptions(options: SummaryOptions): void;\n    setPagingOptions(options: PagingOptions): void;\n    refresh(): void;\n    populate(): void;\n    populateLock(): void;\n    populateUnlock(): void;\n    getItem(row: number): any;\n    getLength(): number;\n    rowsPerPage: number;\n    errormsg: string;\n    params: any;\n    getLocalSort(): boolean;\n    setLocalSort(value: boolean): void;\n    sort(comparer?: (a: any, b: any) => number, ascending?: boolean): void;\n    reSort(): void;\n    sortBy: string[];\n    url: string;\n    method: string;\n    idField: string;\n    seekToPage?: number;\n}\n\nexport class RemoteView<TEntity> {\n    constructor(options: RemoteViewOptions) {\n        var self = this;\n\n        if (gridDefaults != null && gridDefaults.groupTotalsFormatter === void 0)\n            gridDefaults.groupTotalsFormatter = AggregateFormatting.groupTotalsFormatter;\n        \n        var idProperty: string;\n        var items: any[] = [];\n        var rows: any[] = [];\n        var idxById: Record<any, number> = {};\n        var rowsById: any = null;\n        var filter: any = null;\n        var updated: any = null;\n        var suspend = 0;\n\n        var sortAsc = true;\n        var fastSortField: string;\n        var sortComparer: any;\n        var refreshHints: any = {};\n        var prevRefreshHints: any = {};\n        var filterArgs: any;\n        var filteredItems: any = [];\n        var compiledFilter: any;\n        var compiledFilterWithCaching: any;\n        var filterCache: any[] = [];\n\n        var groupingInfoDefaults = {\n            getter: <any>null,\n            formatter: <any>null,\n            comparer: function (a: any, b: any) {\n                return (a.value === b.value ? 0 :\n                    (a.value > b.value ? 1 : -1)\n                );\n            },\n            predefinedValues: <any[]>[],\n            aggregateEmpty: false,\n            aggregateCollapsed: false,\n            aggregateChildGroups: false,\n            collapsed: false,\n            displayTotalsRow: true,\n            lazyTotalsCalculation: false\n        };\n        var summaryOptions: any = {};\n        var groupingInfos: any[] = [];\n        var groups: any[] = [];\n        var toggledGroupsByLevel: any[] = [];\n        var groupingDelimiter = ':|:';\n\n        var page = 1;\n        var totalRows = 0;\n\n        var onDataChanged: EventEmitter = new EventEmitter();\n        var onDataLoading: EventEmitter = new EventEmitter();\n        var onDataLoaded: EventEmitter = new EventEmitter();\n        var onGroupExpanded: EventEmitter = new EventEmitter();\n        var onGroupCollapsed: EventEmitter = new EventEmitter();\n        var onPagingInfoChanged: EventEmitter = new EventEmitter();\n        var onRowCountChanged: EventEmitter = new EventEmitter();\n        var onRowsChanged: EventEmitter = new EventEmitter();\n        var onRowsOrCountChanged: EventEmitter = new EventEmitter();\n\n        var loading: any = false;\n        var errorMessage: string = null;\n        var populateLocks = 0;\n        var populateCalls = 0;\n        var contentType: string;\n        var dataType: string;\n        var totalCount: number = null;\n        var groupItemMetadataProvider = options.groupItemMetadataProvider;\n        var localSort: boolean = options.localSort ?? false;\n\n        var intf: RemoteView<TEntity>;\n\n        function beginUpdate() {\n            suspend++;\n        }\n\n        function endUpdate() {\n            suspend--;\n            if (suspend <= 0)\n                refresh();\n        }\n\n        function setRefreshHints(hints: any) {\n            refreshHints = hints;\n        }\n\n        function setFilterArgs(args: any) {\n            filterArgs = args;\n        }\n\n        function updateIdxById(startingIndex?: number) {\n            startingIndex = startingIndex || 0;\n            var id: any;\n            for (var i = startingIndex, l = items.length; i < l; i++) {\n                id = items[i][idProperty];\n                if (id === undefined) {\n                    var msg = \"Each data element must implement a unique '\" +\n                        idProperty + \"' property. Object at index '\" + i + \"' \" +\n                        \"has no identity value: \";\n\n                    msg += (<any>$).toJSON(items[i]);\n                    throw msg;\n                }\n                idxById[id] = i;\n            }\n        }\n\n        function ensureIdUniqueness() {\n            var id: any;\n            for (var i = 0, l = items.length; i < l; i++) {\n                id = items[i][idProperty];\n                if (id === undefined || idxById[id] !== i) {\n                    var msg = \"Each data element must implement a unique '\" +\n                        idProperty + \"' property. Object at index '\" + i + \"' \";\n\n                    if (id == undefined)\n                        msg += \"has no identity value: \";\n                    else\n                        msg += \"has repeated identity value '\" + id + \"': \";\n\n                    msg += (<any>$).toJSON(items[i]);\n                    throw msg;\n                }\n            }\n        }\n\n        function getItems() {\n            return items;\n        }\n\n        function getIdPropertyName() {\n            return idProperty;\n        }\n\n        function setItems(data: any[], newIdProperty?: string | boolean) {\n            if (newIdProperty != null && typeof newIdProperty == \"string\")\n                idProperty = newIdProperty;\n\n            items = filteredItems = data;\n            if (localSort) {\n                items.sort(getSortComparer());\n            }\n\n            idxById = {};\n            rowsById = null;\n            summaryOptions.totals = {};\n            updateIdxById();\n            ensureIdUniqueness();\n\n            if (suspend) {\n                recalc(items);\n            }\n            else {\n                refresh();\n            }\n\n            onDataChanged.notify({ dataView: self }, null, self);\n        }\n\n        function setPagingOptions(args: any) {\n            var anyChange = false;\n\n            if (args.rowsPerPage != undefined &&\n                intf.rowsPerPage != args.rowsPerPage) {\n                intf.rowsPerPage = args.rowsPerPage;\n                anyChange = true;\n            }\n\n            if (args.page != undefined) {\n                var newPage: number;\n                if (!intf.rowsPerPage)\n                    newPage = 1;\n                else if (totalCount == null)\n                    newPage = args.page;\n                else\n                    newPage = Math.min(args.page, Math.ceil(totalCount / intf.rowsPerPage) + 1);\n\n                if (newPage < 1)\n                    newPage = 1;\n\n                if (newPage != page) {\n                    intf.seekToPage = newPage;\n                    anyChange = true;\n                }\n            }\n\n            if (anyChange)\n                populate();\n        }\n\n        function getPagingInfo(): PagingInfo {\n            return {\n                rowsPerPage: intf.rowsPerPage,\n                page: page,\n                totalCount: totalCount,\n                loading: loading,\n                error: errorMessage,\n                dataView: intf\n            };\n        }\n\n        function getSortComparer() {\n            if (sortComparer != null)\n                return sortComparer;\n\n            var cols: string[] = [];\n            var asc: boolean[] = [];\n            var sorts = intf.sortBy || [];\n            for (var s of sorts) {\n                if (s == null)\n                    continue;\n                if (s.length > 5 && s.toLowerCase().substr(s.length - 5).toLowerCase() == ' desc') {\n                    asc.push(false);\n                    cols.push(s.substr(0, s.length - 5));\n                }\n                else {\n                    asc.push(true);\n                    cols.push(s);\n                }\n            }\n            return function (a: any, b: any) {\n                for (var i = 0, l = cols.length; i < l; i++) {\n                    var field = cols[i];\n                    var sign = asc[i] ? 1 : -1;\n                    var value1 = a[field], value2 = b[field];\n                    var result = (value1 == value2 ? 0 : (value1 > value2 ? 1 : -1)) * sign;\n                    if (result != 0) {\n                        return result;\n                    }\n                }\n                return 0;\n            }\n        }\n\n        function sort(comparer?: (a: any, b: any) => number, ascending?: boolean) {\n            sortAsc = ascending;\n            fastSortField = null;\n            if (ascending === false) {\n                items.reverse();\n            }\n\n            sortComparer = comparer;\n            items.sort(getSortComparer());\n\n            if (ascending === false) {\n                items.reverse();\n            }\n            idxById = {};\n            updateIdxById();\n            refresh();\n        }\n\n        function getLocalSort(): boolean {\n            return localSort;\n        }\n\n        function setLocalSort(value: boolean) {\n            if (localSort != value) {\n                localSort = value;\n                sort();\n            }\n        }\n\n        /***\n         * Provides a workaround for the extremely slow sorting in IE.\n         * Does a [lexicographic] sort on a give column by temporarily overriding Object.prototype.toString\n         * to return the value of that field and then doing a native Array.sort().\n         */\n        function fastSort(field: any, ascending: boolean) {\n            sortAsc = ascending;\n            fastSortField = field;\n            sortComparer = null;\n            var oldToString = Object.prototype.toString;\n            Object.prototype.toString = (typeof field === \"function\") ? field : function () {\n                return this[field]\n            };\n            // an extra reversal for descending sort keeps the sort stable\n            // (assuming a stable native sort implementation, which isn't true in some cases)\n            if (ascending === false) {\n                items.reverse();\n            }\n            items.sort();\n            Object.prototype.toString = oldToString;\n            if (ascending === false) {\n                items.reverse();\n            }\n            idxById = {};\n            updateIdxById();\n            refresh();\n        }\n\n        function reSort() {\n            if (fastSortField)\n                fastSort(fastSortField, sortAsc);\n            else\n                sort(sortComparer, sortAsc);\n        }\n\n        function getFilteredItems() {\n            return filteredItems;\n        }\n\n        function getFilter() {\n            return filter;\n        }\n\n        function setFilter(filterFn: any) {\n            filter = filterFn;\n            if (options.inlineFilters) {\n                compiledFilter = compileFilter();\n                compiledFilterWithCaching = compileFilterWithCaching();\n            }\n            refresh();\n        }\n\n        function getGrouping() {\n            return groupingInfos;\n        }\n\n        function setSummaryOptions(summary: any) {\n            summary = summary || {};\n            summaryOptions.aggregators = summary.aggregators || [];\n            summaryOptions.compiledAccumulators = [];\n            summaryOptions.totals = {};\n            var idx = summaryOptions.aggregators.length;\n            while (idx--) {\n                summaryOptions.compiledAccumulators[idx] = compileAccumulatorLoop(summaryOptions.aggregators[idx]);\n            }\n            setGrouping(groupingInfos || []);\n        }\n\n        function getGrandTotals() {\n            summaryOptions.totals = summaryOptions.totals || {};\n\n            if (!summaryOptions.totals.initialized) {\n                summaryOptions.aggregators = summaryOptions.aggregators || [];\n                summaryOptions.compiledAccumulators = summaryOptions.compiledAccumulators || [];\n                var agg: any, idx = summaryOptions.aggregators.length;\n\n                while (idx--) {\n                    agg = summaryOptions.aggregators[idx];\n                    agg.init();\n                    summaryOptions.compiledAccumulators[idx].call(agg, items);\n                    agg.storeResult(summaryOptions.totals);\n                }\n                summaryOptions.totals.initialized = true;\n            }\n\n            return summaryOptions.totals;\n        }\n\n        function setGrouping(groupingInfo: any) {\n            if (!groupItemMetadataProvider) {\n                groupItemMetadataProvider = new GroupItemMetadataProvider();\n            }\n\n            groups = [];\n            toggledGroupsByLevel = [];\n            groupingInfo = groupingInfo || [];\n            groupingInfos = (groupingInfo instanceof Array) ? groupingInfo : [groupingInfo];\n\n            for (var i = 0; i < groupingInfos.length; i++) {\n                var gi = groupingInfos[i] = extend(extend<any>({}, groupingInfoDefaults), deepClone(groupingInfos[i]));\n                gi.aggregators = gi.aggregators || summaryOptions.aggregators || [];\n                gi.getterIsAFn = typeof gi.getter === \"function\";\n\n                // pre-compile accumulator loops\n                gi.compiledAccumulators = [];\n                var idx = gi.aggregators.length;\n                while (idx--) {\n                    gi.compiledAccumulators[idx] = compileAccumulatorLoop(gi.aggregators[idx]);\n                }\n\n                toggledGroupsByLevel[i] = {};\n            }\n\n            refresh();\n        }\n\n        function getItemByIdx(i: number) {\n            return items[i];\n        }\n\n        function getIdxById(id: any) {\n            return idxById[id];\n        }\n\n        function ensureRowsByIdCache() {\n            if (!rowsById) {\n                rowsById = {};\n                for (var i = 0, l = rows.length; i < l; i++) {\n                    rowsById[rows[i][idProperty]] = i;\n                }\n            }\n        }\n\n        function getRowByItem(item: any) {\n            ensureRowsByIdCache();\n            return rowsById[item[idProperty]];\n        }\n\n        function getRowById(id: any) {\n            ensureRowsByIdCache();\n            return rowsById[id];\n        }\n\n        function getItemById(id: any) {\n            return items[idxById[id]];\n        }\n\n        function mapItemsToRows(itemArray: any[]) {\n            var rows = [];\n            ensureRowsByIdCache();\n            for (var i = 0, l = itemArray.length; i < l; i++) {\n                var row = rowsById[itemArray[i][idProperty]];\n                if (row != null) {\n                    rows[rows.length] = row;\n                }\n            }\n            return rows;\n        }\n\n        function mapIdsToRows(idArray: any[]) {\n            var rows: any[] = [];\n            ensureRowsByIdCache();\n            for (var i = 0, l = idArray.length; i < l; i++) {\n                var row = rowsById[idArray[i]];\n                if (row != null) {\n                    rows[rows.length] = row;\n                }\n            }\n            return rows;\n        }\n\n        function mapRowsToIds(rowArray: any[]) {\n            var ids: any[] = [];\n            for (var i = 0, l = rowArray.length; i < l; i++) {\n                if (rowArray[i] < rows.length) {\n                    ids[ids.length] = rows[rowArray[i]][idProperty];\n                }\n            }\n            return ids;\n        }\n\n        function updateItem(id: any, item: any) {\n            if (idxById[id] === undefined) {\n                throw new Error(\"Invalid id\");\n            }\n\n            if (id !== item[idProperty]) {\n                // make sure the new id is unique:\n                var newId = item[idProperty];\n                if (newId == null) {\n                    throw new Error(\"Cannot update item to associate with a null id\");\n                }\n                if (idxById[newId] !== undefined) {\n                    throw new Error(\"Cannot update item to associate with a non-unique id\");\n                }\n                idxById[newId] = idxById[id];\n                delete idxById[id];\n\n                if (updated && updated[id]) {\n                    delete updated[id];\n                }\n\n                id = newId;\n            }\n            items[idxById[id]] = item;\n\n            if (!updated) {\n                updated = {};\n            }\n            updated[id] = true;\n            refresh();\n        }\n\n        function insertItem(insertBefore: number, item: any) {\n            items.splice(insertBefore, 0, item);\n            updateIdxById(insertBefore);\n            refresh();\n        }\n\n        function addItem(item: any) {\n            items.push(item);\n            updateIdxById(items.length - 1);\n            refresh();\n        }\n\n        function deleteItem(id: any) {\n            var idx = idxById[id];\n            if (idx === undefined) {\n                throw \"Invalid id\";\n            }\n            delete idxById[id];\n            items.splice(idx, 1);\n            updateIdxById(idx);\n            refresh();\n        }\n\n        function sortedAddItem(item: any) {\n            insertItem(sortedIndex(item), item);\n        }\n\n        function sortedUpdateItem(id: any, item: any) {\n            if (idxById[id] === undefined || id !== item[idProperty]) {\n                throw new Error(\"Invalid or non-matching id \" + idxById[id]);\n            }\n            var comparer = getSortComparer();\n            var oldItem = getItemById(id);\n            if (comparer(oldItem, item) !== 0) {\n                // item affects sorting -> must use sorted add\n                deleteItem(id);\n                sortedAddItem(item);\n            }\n            else { // update does not affect sorting -> regular update works fine\n                updateItem(id, item);\n            }\n        }\n\n        function sortedIndex(searchItem: any) {\n            var low = 0, high = items.length;\n            var comparer = getSortComparer();\n            while (low < high) {\n                var mid = low + high >>> 1;\n                if (comparer(items[mid], searchItem) === -1) {\n                    low = mid + 1;\n                }\n                else {\n                    high = mid;\n                }\n            }\n            return low;\n        }\n\n        function getRows() {\n            return rows;\n        }\n\n        function getLength() {\n            return rows.length;\n        }\n\n        function getItem(i: number) {\n            var item = rows[i];\n\n            // if this is a group row, make sure totals are calculated and update the title\n            if (item && item.__group && item.totals && !item.totals.initialized) {\n                var gi = groupingInfos[item.level];\n                if (!gi.displayTotalsRow) {\n                    calculateTotals(item.totals);\n                    item.title = gi.formatter ? gi.formatter(item) : htmlEncode(item.value);\n                }\n            }\n            // if this is a totals row, make sure it's calculated\n            else if (item && item.__groupTotals && !item.initialized) {\n                calculateTotals(item);\n            }\n\n            return item;\n        }\n\n        function getItemMetadata(i: number) {\n            var item = rows[i];\n            if (item === undefined) {\n                return null;\n            }\n\n            // overrides for grouping rows\n            if (item.__group) {\n                return groupItemMetadataProvider.getGroupRowMetadata(item);\n            }\n\n            // overrides for totals rows\n            if (item.__groupTotals) {\n                return groupItemMetadataProvider.getTotalsRowMetadata(item);\n            }\n\n            return (options.getItemMetadata && options.getItemMetadata(item, i)) || null;\n        }\n\n        function expandCollapseAllGroups(level: number, collapse: boolean) {\n            if (level == null) {\n                for (var i = 0; i < groupingInfos.length; i++) {\n                    toggledGroupsByLevel[i] = {};\n                    groupingInfos[i].collapsed = collapse;\n\n                    if (collapse === true) {\n                        onGroupCollapsed.notify({ level: i, groupingKey: null });\n                    } else {\n                        onGroupExpanded.notify({ level: i, groupingKey: null });\n                    }\n                }\n            } else {\n                toggledGroupsByLevel[level] = {};\n                groupingInfos[level].collapsed = collapse;\n\n                if (collapse === true) {\n                    onGroupCollapsed.notify({ level: level, groupingKey: null });\n                } else {\n                    onGroupExpanded.notify({ level: level, groupingKey: null });\n                }\n            }\n            refresh();\n        }\n\n        /**\n         * @param level {Number} Optional level to collapse.  If not specified, applies to all levels.\n         */\n        function collapseAllGroups(level: number) {\n            expandCollapseAllGroups(level, true);\n        }\n\n        /**\n         * @param level {Number} Optional level to expand.  If not specified, applies to all levels.\n         */\n        function expandAllGroups(level: number) {\n            expandCollapseAllGroups(level, false);\n        }\n\n        function resolveLevelAndGroupingKey(args: any) {\n            var arg0 = args[0];\n            if (args.length === 1 && arg0.indexOf(groupingDelimiter) !== -1) {\n                return { level: arg0.split(groupingDelimiter).length - 1, groupingKey: arg0 };\n            } else {\n                return { level: args.length - 1, groupingKey: args.join(groupingDelimiter) };\n            }\n        }\n\n        function expandCollapseGroup(args: any, collapse: any) {\n            var opts = resolveLevelAndGroupingKey(args);\n            toggledGroupsByLevel[opts.level][opts.groupingKey] = groupingInfos[opts.level].collapsed ^ collapse;\n            if (collapse)\n                onGroupCollapsed.notify({ level: opts.level, groupingKey: opts.groupingKey });\n            else\n                onGroupExpanded.notify({ level: opts.level, groupingKey: opts.groupingKey });\n\n            refresh();\n        }\n\n        /**\n         * @param varArgs Either a Slick.Group's \"groupingKey\" property, or a\n         *     variable argument list of grouping values denoting a unique path to the row.  For\n         *     example, calling collapseGroup('high', '10%') will collapse the '10%' subgroup of\n         *     the 'high' group.\n         */\n        function collapseGroup(varArgs: any[]) {\n            var args = Array.prototype.slice.call(arguments);\n            expandCollapseGroup(args, true);\n        }\n\n        /**\n         * @param varArgs Either a Slick.Group's \"groupingKey\" property, or a\n         *     variable argument list of grouping values denoting a unique path to the row.  For\n         *     example, calling expandGroup('high', '10%') will expand the '10%' subgroup of\n         *     the 'high' group.\n         */\n        function expandGroup(varArgs: any[]) {\n            var args = Array.prototype.slice.call(arguments);\n            expandCollapseGroup(args, false);\n        }\n\n        function getGroups() {\n            return groups;\n        }\n\n        function getOrCreateGroup(groupsByVal: any, val: any, level: number, parentGroup: any, groups: any[]) {\n            var group = groupsByVal[val];\n\n            if (!group) {\n                group = new Group<any>();\n                group.value = val;\n                group.level = level;\n                group.groupingKey = (parentGroup ? parentGroup.groupingKey + groupingDelimiter : '') + val;\n                groups[groups.length] = group;\n                groupsByVal[val] = group;\n            }\n\n            return group;\n        }\n\n        function extractGroups(rows: any[], parentGroup?: any) {\n            var group: any;\n            var val: any;\n            var groups: any[] = [];\n            var groupsByVal = {};\n            var r: any;\n            var level = parentGroup ? parentGroup.level + 1 : 0;\n            var gi = groupingInfos[level];\n\n            for (var i = 0, l: number = gi.predefinedValues.length; i < l; i++) {\n                val = gi.predefinedValues[i];\n                group = getOrCreateGroup(groupsByVal, val, level, parentGroup, groups);\n            }\n\n            for (var i = 0, l = rows.length; i < l; i++) {\n                r = rows[i];\n                val = gi.getterIsAFn ? gi.getter(r) : r[gi.getter];\n                group = getOrCreateGroup(groupsByVal, val, level, parentGroup, groups);\n\n                group.rows[group.count++] = r;\n            }\n\n            if (level < groupingInfos.length - 1) {\n                for (var i = 0; i < groups.length; i++) {\n                    group = groups[i];\n                    group.groups = extractGroups(group.rows, group);\n                }\n            }\n\n            if (groups.length) {\n                addTotals(groups, level);\n            }\n\n            groups.sort(groupingInfos[level].comparer);\n\n            return groups;\n        }\n\n        function calculateTotals(totals: any) {\n            var group = totals.group;\n            var gi = groupingInfos[group.level];\n            var isLeafLevel = (group.level == groupingInfos.length);\n            var agg: any, idx = gi.aggregators.length;\n\n            if (!isLeafLevel && gi.aggregateChildGroups) {\n                // make sure all the subgroups are calculated\n                var i = group.groups.length;\n                while (i--) {\n                    if (!group.groups[i].totals.initialized) {\n                        calculateTotals(group.groups[i].totals);\n                    }\n                }\n            }\n\n            while (idx--) {\n                agg = gi.aggregators[idx];\n                agg.init();\n                if (!isLeafLevel && gi.aggregateChildGroups) {\n                    gi.compiledAccumulators[idx].call(agg, group.groups);\n                } else {\n                    gi.compiledAccumulators[idx].call(agg, group.rows);\n                }\n                agg.storeResult(totals);\n            }\n            totals.initialized = true;\n        }\n\n        function addGroupTotals(group: any) {\n            var gi = groupingInfos[group.level];\n            var totals = new GroupTotals<TEntity>();\n            totals.group = group;\n            group.totals = totals;\n            if (!gi.lazyTotalsCalculation) {\n                calculateTotals(totals);\n            }\n        }\n\n        function addTotals(groups: any[], level?: number) {\n            level = level || 0;\n            var gi = groupingInfos[level];\n            var groupCollapsed = gi.collapsed;\n            var toggledGroups = toggledGroupsByLevel[level];\n            var idx = groups.length, g: any;\n            while (idx--) {\n                g = groups[idx];\n\n                if (g.collapsed && !gi.aggregateCollapsed) {\n                    continue;\n                }\n\n                // Do a depth-first aggregation so that parent group aggregators can access subgroup totals.\n                if (g.groups) {\n                    addTotals(g.groups, level + 1);\n                }\n\n                if (gi.aggregators.length && (\n                    gi.aggregateEmpty || g.rows.length || (g.groups && g.groups.length))) {\n                    addGroupTotals(g);\n                }\n\n                g.collapsed = groupCollapsed ^ toggledGroups[g.groupingKey];\n                g.title = gi.formatter ? gi.formatter(g) : htmlEncode(g.value);\n            }\n        }\n\n        function flattenGroupedRows(groups: any[], level?: number) {\n            level = level || 0;\n            var gi = groupingInfos[level];\n            var groupedRows: any[] = [], rows: any[], gl = 0, g: any;\n            for (var i = 0, l = groups.length; i < l; i++) {\n                g = groups[i];\n                groupedRows[gl++] = g;\n\n                if (!g.collapsed) {\n                    rows = g.groups ? flattenGroupedRows(g.groups, level + 1) : g.rows;\n                    for (var j = 0, jj = rows.length; j < jj; j++) {\n                        groupedRows[gl++] = rows[j];\n                    }\n                }\n\n                if (g.totals && gi.displayTotalsRow && (!g.collapsed || gi.aggregateCollapsed)) {\n                    groupedRows[gl++] = g.totals;\n                }\n            }\n            return groupedRows;\n        }\n\n        function getFunctionInfo(fn: any) {\n            var fnRegex = /^function[^(]*\\(([^)]*)\\)\\s*{([\\s\\S]*)}$/;\n            var matches = fn.toString().match(fnRegex);\n            return {\n                params: matches[1].split(\",\"),\n                body: matches[2]\n            };\n        }\n\n        function compileAccumulatorLoop(aggregator: any) {\n            var accumulatorInfo = getFunctionInfo(aggregator.accumulate);\n            var fn: any = new Function(\n                \"_items\",\n                \"for (var \" + accumulatorInfo.params[0] + \", _i=0, _il=_items.length; _i<_il; _i++) {\" +\n                accumulatorInfo.params[0] + \" = _items[_i]; \" +\n                accumulatorInfo.body +\n                \"}\"\n            );\n            return fn;\n        }\n\n        function compileFilter() {\n            var filterInfo = getFunctionInfo(filter);\n\n            var filterBody = filterInfo.body\n                .replace(/return false\\s*([;}]|$)/gi, \"{ continue _coreloop; }$1\")\n                .replace(/return true\\s*([;}]|$)/gi, \"{ _retval[_idx++] = $item$; continue _coreloop; }$1\")\n                .replace(/return ([^;}]+?)\\s*([;}]|$)/gi,\n                \"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2\");\n\n            // This preserves the function template code after JS compression,\n            // so that replace() commands still work as expected.\n            var tpl = [\n                //\"function(_items, _args) { \",\n                \"var _retval = [], _idx = 0; \",\n                \"var $item$, $args$ = _args; \",\n                \"_coreloop: \",\n                \"for (var _i = 0, _il = _items.length; _i < _il; _i++) { \",\n                \"$item$ = _items[_i]; \",\n                \"$filter$; \",\n                \"} \",\n                \"return _retval; \"\n                //\"}\"\n            ].join(\"\");\n            tpl = tpl.replace(/\\$filter\\$/gi, filterBody);\n            tpl = tpl.replace(/\\$item\\$/gi, filterInfo.params[0]);\n            tpl = tpl.replace(/\\$args\\$/gi, filterInfo.params[1]);\n\n            var fn: any = new Function(\"_items,_args\", tpl);\n            fn.displayName = fn.name = \"compiledFilter\";\n            return fn;\n        }\n\n        function compileFilterWithCaching() {\n            var filterInfo = getFunctionInfo(filter);\n\n            var filterBody = filterInfo.body\n                .replace(/return false\\s*([;}]|$)/gi, \"{ continue _coreloop; }$1\")\n                .replace(/return true\\s*([;}]|$)/gi, \"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1\")\n                .replace(/return ([^;}]+?)\\s*([;}]|$)/gi,\n                \"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2\");\n\n            // This preserves the function template code after JS compression,\n            // so that replace() commands still work as expected.\n            var tpl = [\n                //\"function(_items, _args, _cache) { \",\n                \"var _retval = [], _idx = 0; \",\n                \"var $item$, $args$ = _args; \",\n                \"_coreloop: \",\n                \"for (var _i = 0, _il = _items.length; _i < _il; _i++) { \",\n                \"$item$ = _items[_i]; \",\n                \"if (_cache[_i]) { \",\n                \"_retval[_idx++] = $item$; \",\n                \"continue _coreloop; \",\n                \"} \",\n                \"$filter$; \",\n                \"} \",\n                \"return _retval; \"\n                //\"}\"\n            ].join(\"\");\n            tpl = tpl.replace(/\\$filter\\$/gi, filterBody);\n            tpl = tpl.replace(/\\$item\\$/gi, filterInfo.params[0]);\n            tpl = tpl.replace(/\\$args\\$/gi, filterInfo.params[1]);\n\n            var fn: any = new Function(\"_items,_args,_cache\", tpl);\n            var fnName = \"compiledFilterWithCaching\";\n            fn.displayName = fnName;\n            fn.name = setFunctionName(fn, fnName);\n            return fn;\n        }\n\n        /**\n         * In ES5 we could set the function name on the fly but in ES6 this is forbidden and we need to set it through differently\n         * We can use Object.defineProperty and set it the property to writable, see MDN for reference\n         * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n         * @param {string} fn\n         * @param {string} fnName\n         */\n        function setFunctionName(fn: Function, fnName: string) {\n            try {\n                Object.defineProperty(fn, 'name', {\n                    writable: true,\n                    value: fnName\n                });\n            } catch (err) {\n                (fn as any).name = fnName;\n            }\n        }\n\n        function uncompiledFilter(items: any[], args: any) {\n            var retval: any[] = [], idx = 0;\n\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (filter(items[i], args)) {\n                    retval[idx++] = items[i];\n                }\n            }\n\n            return retval;\n        }\n\n        function uncompiledFilterWithCaching(items: any[], args: any, cache: any) {\n            var retval: any[] = [], idx = 0, item: any;\n\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                item = items[i];\n                if (cache[i]) {\n                    retval[idx++] = item;\n                } else if (filter(item, args)) {\n                    retval[idx++] = item;\n                    cache[i] = true;\n                }\n            }\n\n            return retval;\n        }\n\n        function getFilteredAndPagedItems(items: any[]) {\n            if (filter) {\n                var batchFilter = options.inlineFilters ? compiledFilter : uncompiledFilter;\n                var batchFilterWithCaching = options.inlineFilters ? compiledFilterWithCaching : uncompiledFilterWithCaching;\n\n                if (refreshHints.isFilterNarrowing) {\n                    filteredItems = batchFilter(filteredItems, filterArgs);\n                } else if (refreshHints.isFilterExpanding) {\n                    filteredItems = batchFilterWithCaching(items, filterArgs, filterCache);\n                } else if (!refreshHints.isFilterUnchanged) {\n                    filteredItems = batchFilter(items, filterArgs);\n                }\n            } else {\n                // special case:  if not filtering and not paging, the resulting\n                // rows collection needs to be a copy so that changes due to sort\n                // can be caught\n                filteredItems = items.concat();\n            }\n\n            // get the current page\n            return { totalRows: filteredItems.length, rows: filteredItems };\n        }\n\n        function getRowDiffs(rows: any[], newRows: any[]) {\n            var item: any, r: any, eitherIsNonData: boolean, diff: any[] = [];\n            var from = 0, to = newRows.length;\n\n            if (refreshHints && refreshHints.ignoreDiffsBefore) {\n                from = Math.max(0,\n                    Math.min(newRows.length, refreshHints.ignoreDiffsBefore));\n            }\n\n            if (refreshHints && refreshHints.ignoreDiffsAfter) {\n                to = Math.min(newRows.length,\n                    Math.max(0, refreshHints.ignoreDiffsAfter));\n            }\n\n            for (var i = from, rl = rows.length; i < to; i++) {\n                if (i >= rl) {\n                    diff[diff.length] = i;\n                } else {\n                    item = newRows[i];\n                    r = rows[i];\n\n                    if ((groupingInfos.length && (eitherIsNonData = (item.__nonDataRow) || (r.__nonDataRow)) &&\n                        item.__group !== r.__group ||\n                        item.__group && !item.equals(r))\n                        || (eitherIsNonData &&\n                            // no good way to compare totals since they are arbitrary DTOs\n                            // deep object comparison is pretty expensive\n                            // always considering them 'dirty' seems easier for the time being\n                            (item.__groupTotals || r.__groupTotals))\n                        || item[idProperty] != r[idProperty]\n                        || (updated && updated[item[idProperty]])\n                    ) {\n                        diff[diff.length] = i;\n                    }\n                }\n            }\n            return diff;\n        }\n\n        function recalc(_items: any[]) {\n            rowsById = null;\n\n            if (refreshHints.isFilterNarrowing != prevRefreshHints.isFilterNarrowing ||\n                refreshHints.isFilterExpanding != prevRefreshHints.isFilterExpanding) {\n                filterCache = [];\n            }\n\n            var filteredItems = getFilteredAndPagedItems(_items);\n            totalRows = filteredItems.totalRows;\n            var newRows = filteredItems.rows;\n\n            summaryOptions.totals = {};\n\n            groups = [];\n            if (groupingInfos.length) {\n                groups = extractGroups(newRows);\n                if (groups.length) {\n                    newRows = flattenGroupedRows(groups);\n                }\n            }\n\n            var diff = getRowDiffs(rows, newRows);\n\n            rows = newRows;\n\n            return diff;\n        }\n\n        function refresh() {\n            if (suspend) {\n                return;\n            }\n\n            var countBefore = rows.length;\n            var totalRowsBefore = totalRows;\n\n            var diff = recalc(items); // pass as direct refs to avoid closure perf hit\n\n            updated = null;\n            prevRefreshHints = refreshHints;\n            refreshHints = {};\n\n            if (totalRowsBefore !== totalRows) {\n                onPagingInfoChanged.notify(getPagingInfo(), null, self);\n            }\n            if (countBefore !== rows.length) {\n                onRowCountChanged.notify({ previous: countBefore, current: rows.length, dataView: self }, null, self);\n            }\n            if (diff.length > 0) {\n                onRowsChanged.notify({ rows: diff, dataView: self }, null, self);\n            }\n            if (countBefore !== rows.length || diff.length > 0) {\n                onRowsOrCountChanged.notify({\n                    rowsDiff: diff, previousRowCount: countBefore, currentRowCount: rows.length,\n                    rowCountChanged: countBefore !== rows.length, rowsChanged: diff.length > 0, dataView: self\n                }, null, self);\n            }\n        }\n\n        /***\n         * Wires the grid and the DataView together to keep row selection tied to item ids.\n         * This is useful since, without it, the grid only knows about rows, so if the items\n         * move around, the same rows stay selected instead of the selection moving along\n         * with the items.\n         *\n         * NOTE:  This doesn't work with cell selection model.\n         *\n         * @param grid {Slick.Grid} The grid to sync selection with.\n         * @param preserveHidden {Boolean} Whether to keep selected items that go out of the\n         *     view due to them getting filtered out.\n         * @param preserveHiddenOnSelectionChange {Boolean} Whether to keep selected items\n         *     that are currently out of the view (see preserveHidden) as selected when selection\n         *     changes.\n         * @return {EventEmitter} An event that notifies when an internal list of selected row ids\n         *     changes.  This is useful since, in combination with the above two options, it allows\n         *     access to the full list selected row ids, and not just the ones visible to the grid.\n         * @method syncGridSelection\n         */\n        function syncGridSelection(grid: any, preserveHidden: boolean, preserveHiddenOnSelectionChange: boolean) {\n            var self = this;\n            var inHandler: any;\n            var selectedRowIds = self.mapRowsToIds(grid.getSelectedRows());\n            var onSelectedRowIdsChanged = new EventEmitter();\n\n            function setSelectedRowIds(rowIds: any[]) {\n                if (selectedRowIds.join(\",\") == rowIds.join(\",\")) {\n                    return;\n                }\n\n                selectedRowIds = rowIds;\n\n                onSelectedRowIdsChanged.notify({\n                    \"grid\": grid,\n                    \"ids\": selectedRowIds,\n                    \"dataView\": self\n                }, new EventData(), self);\n            }\n\n            function update() {\n                if (selectedRowIds.length > 0) {\n                    inHandler = true;\n                    var selectedRows = self.mapIdsToRows(selectedRowIds);\n                    if (!preserveHidden) {\n                        setSelectedRowIds(self.mapRowsToIds(selectedRows));\n                    }\n                    grid.setSelectedRows(selectedRows);\n                    inHandler = false;\n                }\n            }\n\n            grid.onSelectedRowsChanged.subscribe(function (e: any, args: any) {\n                if (inHandler) { return; }\n                var newSelectedRowIds = self.mapRowsToIds(grid.getSelectedRows());\n                if (!preserveHiddenOnSelectionChange || !grid.getOptions().multiSelect) {\n                    setSelectedRowIds(newSelectedRowIds);\n                } else {\n                    // keep the ones that are hidden\n                    var existing = $.grep(selectedRowIds, function (id) { return self.getRowById(id) === undefined; });\n                    // add the newly selected ones\n                    setSelectedRowIds(existing.concat(newSelectedRowIds));\n                }\n            });\n\n            this.onRowsChanged.subscribe(update);\n            this.onRowCountChanged.subscribe(update);\n\n            return onSelectedRowIdsChanged;\n        }\n\n        function syncGridCellCssStyles(grid: Grid, key: string) {\n            var hashById: any;\n            var inHandler: any;\n\n            // since this method can be called after the cell styles have been set,\n            // get the existing ones right away\n            storeCellCssStyles(grid.getCellCssStyles(key));\n\n            function storeCellCssStyles(hash: any) {\n                hashById = {};\n                for (var row in hash) {\n                    var id: any = (rows as any)[row][idProperty];\n                    hashById[id] = hash[row];\n                }   \n            }\n\n            function update() {\n                if (hashById) {\n                    inHandler = true;\n                    ensureRowsByIdCache();\n                    var newHash: Record<number, any> = {};\n                    for (var id in hashById) {\n                        var row = rowsById[id];\n                        if (row != undefined) {\n                            newHash[row] = hashById[id];\n                        }\n                    }\n                    grid.setCellCssStyles(key, newHash);\n                    inHandler = false;\n                }\n            }\n\n            var subFunc = function (e: any, args: any) {\n                if (inHandler) { return; }\n                if (key != args.key) { return; }\n                if (args.hash) {\n                    storeCellCssStyles(args.hash);\n                }\n                else {\n                    grid.onCellCssStylesChanged.unsubscribe(subFunc);\n                    onRowsOrCountChanged.unsubscribe(update);\n                }\n            };\n\n            grid.onCellCssStylesChanged.subscribe(subFunc);\n            onRowsOrCountChanged.subscribe(update);\n        }\n\n        function addData(data: any) {\n\n            if (intf.onProcessData && data)\n                data = intf.onProcessData(data, intf) || data;\n\n            errorMessage = null;\n            loading && loading.abort();\n            loading = false;\n\n            if (!data) {\n                errorMessage = intf.errormsg;\n                onPagingInfoChanged.notify(getPagingInfo());\n                return false;\n            }\n\n            data.TotalCount = data.TotalCount || 0;\n            data.Entities = data.Entities || [];\n\n            if (!data.Skip || (!intf.rowsPerPage && !data.Take))\n                data.Page = 1;\n            else\n                data.Page = Math.ceil(data.Skip / (data.Take || intf.rowsPerPage)) + 1;\n\n            page = data.Page;\n            totalCount = data.TotalCount;\n\n            setItems(data.Entities);\n\n            onPagingInfoChanged.notify(getPagingInfo());\n        }\n\n        function populate() {\n            if (populateLocks > 0) {\n                populateCalls++;\n                return;\n            }\n\n            populateCalls = 0;\n\n            loading && loading.abort();\n\n            if (intf.onSubmit) {\n                var gh = intf.onSubmit(intf);\n                if (gh === false)\n                    return false;\n            }\n\n            onDataLoading.notify(this);\n\n            if (!intf.url)\n                return false;\n\n            // set loading event\n        \n            if (!intf.seekToPage)\n                intf.seekToPage = 1;\n\n            var request: ListRequest = {};\n\n            var skip = (intf.seekToPage - 1) * intf.rowsPerPage;\n            if (skip)\n                request.Skip = skip;\n            if (intf.rowsPerPage)\n                request.Take = intf.rowsPerPage;\n\n            if (intf.sortBy && intf.sortBy.length) {\n                if (typeof intf.sortBy !== \"string\")\n                    request.Sort = intf.sortBy;\n                else {\n                    request.Sort = [intf.sortBy];\n                }\n            }\n\n            if (intf.params) {\n                request = extend(request, intf.params);\n            }\n\n            var dt = dataType;\n\n            var ajaxOptions = {\n                cache: false,\n                type: intf.method,\n                contentType: contentType,\n                url: intf.url,\n                data: request,\n                dataType: dt,\n                success: function (response: ServiceResponse) {\n                    loading = false;\n                    if (response.Error)\n                        notifyError(response.Error.Message || response.Error.Code);\n                    else\n                        addData(response);\n                    onDataLoaded.notify(this);\n                },\n                error: function (xhr: any, status: any, ev: any) {\n                    loading = false;\n\n                    if ((xhr.getResponseHeader(\"content-type\") || '').toLowerCase().indexOf(\"application/json\") >= 0) {\n                        var json = $.parseJSON(xhr.responseText);\n                        if (json != null && json.Error != null) {\n                            notifyError(json.Error.Message || json.Error.Code);\n                            onPagingInfoChanged.notify(getPagingInfo());\n                            onDataLoaded.notify(this);\n                            return;\n                        }\n                    }\n\n                    errorMessage = xhr.errormsg;\n                    onPagingInfoChanged.notify(getPagingInfo());\n                    onDataLoaded.notify(this);\n                },\n                complete: function () {\n                    loading = false;\n                }\n            }\n\n            if (intf.onAjaxCall) {\n                var ah = intf.onAjaxCall(this, ajaxOptions);\n                if (ah === false) {\n                    loading = false;\n                    onPagingInfoChanged.notify(getPagingInfo());\n                    return false;\n                }\n            }\n\n            ajaxOptions.data = (<any>$).toJSON(ajaxOptions.data);\n\n            onPagingInfoChanged.notify(getPagingInfo());\n            loading = $.ajax(ajaxOptions);\n        }\n\n        function populateLock() {\n            if (populateLocks == 0)\n                populateCalls = 0;\n            populateLocks++;\n        }\n\n        function populateUnlock() {\n            if (populateLocks > 0) {\n                populateLocks--;\n                if (populateLocks == 0 && populateCalls > 0)\n                    populate();\n            }\n        }\n\n        function getGroupItemMetadataProvider() {\n            return groupItemMetadataProvider;\n        }\n\n        function setGroupItemMetadataProvider(value: GroupItemMetadataProvider) {\n            groupItemMetadataProvider = value;\n        }\n\n        idProperty = options.idField || 'id';\n        contentType = options.contentType || \"application/json\";\n        dataType = options.dataType || 'json';\n        filter = options.filter || null;\n\n        intf = {\n            // methods\n            beginUpdate: beginUpdate,\n            endUpdate: endUpdate,\n            setPagingOptions: setPagingOptions,\n            getPagingInfo: getPagingInfo,\n            getIdPropertyName: getIdPropertyName,\n            getRows: getRows,\n            getItems: getItems,\n            setItems: setItems,\n            getFilter: getFilter,\n            getFilteredItems: getFilteredItems,\n            setFilter: setFilter,\n            sort: sort,\n            fastSort: fastSort,\n            reSort: reSort,\n            getLocalSort: getLocalSort,\n            setLocalSort: setLocalSort,\n            setSummaryOptions: setSummaryOptions,\n            getGrandTotals: getGrandTotals,\n            setGrouping: setGrouping,\n            getGrouping: getGrouping,\n            collapseAllGroups: collapseAllGroups,\n            expandAllGroups: expandAllGroups,\n            collapseGroup: collapseGroup,\n            expandGroup: expandGroup,\n            getGroups: getGroups,\n            getIdxById: getIdxById,\n            getRowByItem: getRowByItem,\n            getRowById: getRowById,\n            getItemById: getItemById,\n            getItemByIdx: getItemByIdx,\n            mapItemsToRows: mapItemsToRows,\n            mapRowsToIds: mapRowsToIds,\n            mapIdsToRows: mapIdsToRows,\n            setRefreshHints: setRefreshHints,\n            setFilterArgs: setFilterArgs,\n            refresh: refresh,\n            updateItem: updateItem,\n            insertItem: insertItem,\n            addItem: addItem,\n            deleteItem: deleteItem,\n            sortedAddItem: sortedAddItem,\n            sortedUpdateItem: sortedUpdateItem,\n            syncGridSelection: syncGridSelection,\n            syncGridCellCssStyles: syncGridCellCssStyles,\n\n            getLength: getLength,\n            getItem: getItem,\n            getItemMetadata: getItemMetadata,\n            getGroupItemMetadataProvider: getGroupItemMetadataProvider,\n            setGroupItemMetadataProvider: setGroupItemMetadataProvider,\n\n            onRowCountChanged: onRowCountChanged,\n            onRowsChanged: onRowsChanged,\n            onRowsOrCountChanged: onRowsOrCountChanged,\n            onPagingInfoChanged: onPagingInfoChanged,\n            onGroupExpanded: onGroupExpanded,\n            onGroupCollapsed: onGroupCollapsed,\n\n            addData: addData,\n            populate: populate,\n            populateLock: populateLock,\n            populateUnlock: populateUnlock,\n            onDataChanged: onDataChanged,\n            onDataLoaded: onDataLoaded,\n            onDataLoading: onDataLoading,\n            params: options.params || {},\n            onSubmit: options.onSubmit || null,\n            url: options.url || null,\n            rowsPerPage: options.rowsPerPage || 0,\n            seekToPage: options.seekToPage || 1,\n            onAjaxCall: options.onAjaxCall || null,\n            onProcessData: options.onProcessData || null,\n            method: options.method || \"POST\",\n            errormsg: localText(\"Controls.Pager.DefaultLoadError\"),\n            sortBy: typeof options.sortBy == \"string\" ? [options.sortBy] : (options.sortBy || []),\n            idField: idProperty\n        };\n\n        if (options.url && options.autoLoad) {\n            populate();\n        }\n\n        return intf;\n    }\n}\n","import {\n    addAttribute, addTypeMember, MemberType, ISlickFormatter,\n    registerClass as regClass, registerEditor as regEditor, registerInterface as regIntf, registerEnum as regEnum,\n    startsWith,\n    EditorAttribute\n} from \"../q\";\n\nfunction Attr(name: string) {\n    return function (target: Function) {\n        return regClass(target, 'Serenity.' + name + 'Attribute');\n    }\n}\n\n@Attr('EnumKey')\nexport class EnumKeyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('DisplayName')\nexport class DisplayNameAttribute {\n    constructor(public displayName: string) {\n    }\n}\n\n@Attr('Category')\nexport class CategoryAttribute {\n    constructor(public category: string) {\n    }\n}\n\n@Attr('ColumnsKey')\nexport class ColumnsKeyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('CssClass')\nexport class CssClassAttribute {\n    constructor(public cssClass: string) {\n    }\n}\n\n@Attr('DefaultValue')\nexport class DefaultValueAttribute {\n    constructor(public value: any) {\n    }\n}\n\n@Attr('DialogType')\nexport class DialogTypeAttribute {\n    constructor(public value: any) {\n    }\n}\n\n@Attr('EditorOption')\nexport class EditorOptionAttribute {\n    constructor(public key: string, public value: any) {\n    }\n}\n\nexport class EditorTypeAttributeBase {\n    constructor(public editorType: string) {\n    }\n\n    public setParams(editorParams: any): void {\n    }\n}\n\nregClass(EditorTypeAttributeBase, 'Serenity.EditorTypeAttributeBase');\n\n@Attr('EditorType')\nexport class EditorTypeAttribute extends EditorTypeAttributeBase {\n    constructor(editorType: string) {\n        super(editorType);\n    }\n}\n\n@Attr('Element')\nexport class ElementAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('EntityType')\nexport class EntityTypeAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('Filterable')\nexport class FilterableAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('Flexify')\nexport class FlexifyAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('FormKey')\nexport class FormKeyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('GeneratedCode')\nexport class GeneratedCodeAttribute {\n    constructor(public origin?: string) {\n    }\n}\n\n@Attr('Hidden')\nexport class HiddenAttribute {\n    constructor() {\n    }\n}\n\n@Attr('Hint')\nexport class HintAttribute {\n    constructor(public hint: string) {\n    }\n}\n\n@Attr('IdProperty')\nexport class IdPropertyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('Insertable')\nexport class InsertableAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('IsActiveProperty')\nexport class IsActivePropertyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('ItemName')\nexport class ItemNameAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('LocalTextPrefix')\nexport class LocalTextPrefixAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('Maximizable')\nexport class MaximizableAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('MaxLength')\nexport class MaxLengthAttribute {\n    constructor(public maxLength: number) {\n    }\n}\n\n@Attr('NameProperty')\nexport class NamePropertyAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('OneWay')\nexport class OneWayAttribute {\n}\n\n@Attr('Option')\nexport class OptionAttribute {\n}\n\n@Attr('OptionsType')\nexport class OptionsTypeAttribute {\n    constructor(public value: Function) {\n    }\n}\n\n@Attr('Panel')\nexport class PanelAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('Placeholder')\nexport class PlaceholderAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('ReadOnly')\nexport class ReadOnlyAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('Required')\nexport class RequiredAttribute {\n    constructor(public isRequired = true) {\n    }\n}\n\n@Attr('Resizable')\nexport class ResizableAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('Responsive')\nexport class ResponsiveAttribute {\n    constructor(public value = true) {\n    }\n}\n\n@Attr('Service')\nexport class ServiceAttribute {\n    constructor(public value: string) {\n    }\n}\n\n@Attr('Updatable')\nexport class UpdatableAttribute {\n    constructor(public value = true) {\n    }\n}\n\nexport namespace Decorators {\n\n    export function registerClass(nameOrIntf?: string | any[], intf2?: any[]) {\n        return function (target: Function) {\n            if (typeof nameOrIntf == \"string\")\n                regClass(target, nameOrIntf, intf2);\n            else\n                regClass(target, null, nameOrIntf);\n        }\n    }\n\n    export function registerInterface(nameOrIntf?: string | any[], intf2?: any[]) {\n        return function (target: Function) {\n\n            if (typeof nameOrIntf == \"string\")\n                regIntf(target, nameOrIntf, intf2);\n            else\n                regIntf(target, null, nameOrIntf);\n        }\n    }\n\n    export function registerEditor(nameOrIntf?: string | any[], intf2?: any[]) {\n        return function (target: Function) {\n            if (typeof nameOrIntf == \"string\")\n                regEditor(target, nameOrIntf, intf2);\n            else\n                regEditor(target, null, nameOrIntf);\n        }\n    }\n\n    export function registerEnum(target: any, enumKey?: string, name?: string) {\n        regEnum(target, name, enumKey);\n        if (enumKey)\n            addAttribute(target, new EnumKeyAttribute(enumKey));\n    }\n\n    export function registerEnumType(target: any, name?: string, enumKey?: string) {\n        registerEnum(target, enumKey ?? name, name);\n    }\n\n    export function registerFormatter(nameOrIntf: string | any[] = [ISlickFormatter],\n        intf2: any[] = [ISlickFormatter]) {\n        return registerClass(nameOrIntf, intf2);\n    }\n\n    export function enumKey(value: string) {\n        return function (target: Function) {\n            addAttribute(target, new EnumKeyAttribute(value));\n        }\n    }\n\n    export function option() {\n        return function (target: Object, propertyKey: string): void {\n\n            var isGetSet = startsWith(propertyKey, 'get_') || startsWith(propertyKey, 'set_');\n            var memberName = isGetSet ? propertyKey.substr(4) : propertyKey;\n\n            addTypeMember(target.constructor, {\n                name: memberName,\n                attr: [new OptionAttribute()],\n                type: isGetSet ? MemberType.property : MemberType.field,\n                getter: isGetSet ? ('get_' + memberName) : null,\n                setter: isGetSet ? ('set_' + memberName) : null\n            });\n        }\n    }\n\n    export function dialogType(value: any) {\n        return function (target: Function) {\n            addAttribute(target, new DialogTypeAttribute(value));\n        }\n    }\n\n    export function editor() {\n        return function (target: Function) {\n            var attr = new EditorAttribute();\n            addAttribute(target, attr);\n        }\n    }\n\n    export function element(value: string) {\n        return function (target: Function) {\n            addAttribute(target, new ElementAttribute(value));\n        }\n    }\n\n    export function filterable(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new FilterableAttribute(value));\n        }\n    }\n\n    export function flexify(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new FlexifyAttribute(value));\n        }\n    }\n\n    export function itemName(value: string) {\n        return function (target: Function) {\n            addAttribute(target, new ItemNameAttribute(value));\n        }\n    }\n\n    export function maximizable(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new MaximizableAttribute(value));\n        }\n    }\n\n    export function optionsType(value: Function) {\n        return function (target: Function) {\n            addAttribute(target, new OptionsTypeAttribute(value));\n        }\n    }\n\n    export function panel(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new PanelAttribute(value));\n        }\n    }\n\n    export function resizable(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new ResizableAttribute(value));\n        }\n    }\n\n    export function responsive(value = true) {\n        return function (target: Function) {\n            addAttribute(target, new ResponsiveAttribute(value));\n        }\n    }\n\n    export function service(value: string) {\n        return function (target: Function) {\n            addAttribute(target, new ServiceAttribute(value));\n        }\n    }\n}","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface(\"Serenity.IBooleanValue\")\nexport class IBooleanValue {\n}\n\nexport interface IBooleanValue {\n    get_value(): boolean;\n    set_value(value: boolean): void;\n}\n","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface(\"Serenity.IDoubleValue\")\nexport class IDoubleValue {\n}\n\nexport interface IDoubleValue {\n    get_value(): any;\n    set_value(value: any): void;\n}","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface('Serenity.IDialog')\nexport class IDialog {\n}\n\nexport interface IDialog {\n    dialogOpen(asPanel?: boolean): void;\n}","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface('Serenity.IEditDialog')\nexport class IEditDialog {\n}\n\nexport interface IEditDialog {\n    load(entityOrId: any, done: () => void, fail?: (p1: any) => void): void;\n}\n","import { Decorators } from \"../decorators\";\nimport { PropertyItem } from \"../q\";\n\n@Decorators.registerInterface(\"Serenity.IGetEditValue\")\nexport class IGetEditValue {\n}\n\nexport interface IGetEditValue {\n    getEditValue(property: PropertyItem, target: any): void;\n}","import { Decorators } from \"../decorators\";\n\nexport interface IReadOnly {\n    get_readOnly(): boolean;\n    set_readOnly(value: boolean): void;\n}\n\n@Decorators.registerInterface('Serenity.IReadOnly')\nexport class IReadOnly {\n}\n","import { Decorators } from \"../decorators\";\nimport { PropertyItem } from \"../q\";\n\n@Decorators.registerInterface(\"Serenity.ISetEditValue\")\nexport class ISetEditValue {\n}\n\nexport interface ISetEditValue {\n    setEditValue(source: any, property: PropertyItem): void;\n}","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface(\"Serenity.IStringValue\")\nexport class IStringValue {\n}\n\nexport interface IStringValue {\n    get_value(): string;\n    set_value(value: string): void;\n}","import { Decorators } from \"../decorators\";\n\nexport interface IValidateRequired {\n    get_required(): boolean;\n    set_required(value: boolean): void;\n}\n\n@Decorators.registerInterface('Serenity.IValidateRequired')\nexport class IValidateRequired {\n}","import { registerEnum } from \"../q\";\n\nexport {}\n\nexport enum CaptureOperationType {\n    Before = 0,\n    Delete = 1,\n    Insert = 2,\n    Update = 3\n}\n\nregisterEnum(CaptureOperationType, 'Serenity.CaptureOperationType');","import { isEmptyOrNull } from \"../q\";\n\nexport namespace ReflectionUtils {\n\n    export function getPropertyValue(o: any, property: string): any {\n        var d = o;\n        var getter = d['get_' + property];\n        if (!!!(typeof (getter) === 'undefined')) {\n            return getter.apply(o);\n        }\n        var camelCase = makeCamelCase(property);\n        getter = d['get_' + camelCase];\n        if (!!!(typeof (getter) === 'undefined')) {\n            return getter.apply(o);\n        }\n        return d[camelCase];\n    }\n\n    export function setPropertyValue(o: any, property: string, value: any): void {\n        var d = o;\n        var setter = d['set_' + property];\n        if (!!!(typeof (setter) === 'undefined')) {\n            setter.apply(o, [value]);\n            return;\n        }\n        var camelCase = makeCamelCase(property);\n        setter = d['set_' + camelCase];\n        if (!!!(typeof (setter) === 'undefined')) {\n            setter.apply(o, [value]);\n            return;\n        }\n        d[camelCase] = value;\n    }\n\n    export function makeCamelCase(s: string): string {\n        if (isEmptyOrNull(s)) {\n            return s;\n        }\n\n        if (s === 'ID') {\n            return 'id';\n        }\n\n        var hasNonUppercase = false;\n        var numUppercaseChars = 0;\n        for (var index = 0; index < s.length; index++) {\n            if (s.charCodeAt(index) >= 65 && s.charCodeAt(index) <= 90) {\n                numUppercaseChars++;\n            }\n            else {\n                hasNonUppercase = true;\n                break;\n            }\n        }\n\n        if (!hasNonUppercase && s.length !== 1 || numUppercaseChars === 0) {\n            return s;\n        }\n        else if (numUppercaseChars > 1) {\n            return s.substr(0, numUppercaseChars - 1).toLowerCase() + s.substr(numUppercaseChars - 1);\n        }\n        else if (s.length === 1) {\n            return s.toLowerCase();\n        }\n        else {\n            return s.substr(0, 1).toLowerCase() + s.substr(1);\n        }\n    }\n}","import { Config, endsWith, getType, getTypeNameProp, getTypes } from \"../q\";\n\nexport function commonTypeRegistry(isMatch: (type: any) => boolean, attrKey: (type: any) => string, suffix: string) {\n\n    let knownTypes: { [key: string]: any };\n\n    function reset() {\n        knownTypes = null;\n    }\n    \n    function search(key: string) {\n        var type = getType(key);\n        if (type != null && isMatch(type))\n            return type;\n\n        for (var ns of Config.rootNamespaces) {\n            var k = ns + \".\" + key;\n            type = knownTypes[k];\n            if (type)\n                return type;\n\n            type = getType(ns + '.' + key);\n            if (type != null && isMatch(type))\n                return type;\n        }\n    }\n\n    function init() {\n        knownTypes = {};\n        for (var type of getTypes()) {\n            if (!isMatch(type))\n                continue;\n\n            var fullName = getTypeNameProp(type);\n            knownTypes[fullName] = type;\n\n            var akey = attrKey && attrKey(type);\n            if (akey && akey !== fullName)\n                knownTypes[akey] = type;\n        }\n\n        if (suffix) {\n            for (var key of Object.keys(knownTypes)) {\n                if (key.endsWith(suffix)) {\n                    var p = key.substring(0, key.length - suffix.length);\n                    if (p && !knownTypes[p])\n                        knownTypes[p] = knownTypes[key];\n                }\n            }\n        }\n    }\n    \n    function tryGet(key: string): any {\n        if (!key)\n            return null;\n\n        var type;\n        if (knownTypes == null)\n            init();\n\n        var type = knownTypes[key];\n        if (type)\n            return type;\n\n        type = search(key);\n\n        if (type == null && suffix && !endsWith(key, suffix))\n            type = knownTypes[key + suffix] ?? search(key + suffix);\n\n        if (type) {\n            knownTypes[key] = type;\n\n            var akey = attrKey && attrKey(type);\n            if (akey && key != akey)\n                knownTypes[akey] = type;\n\n            if (suffix && key.endsWith(suffix)) {\n                var p = key.substring(0, key.length - suffix.length);\n                if (p && !knownTypes[p])\n                    knownTypes[p] = knownTypes[key];\n            }\n\n            return type;\n        }\n\n        return type;\n    }\n\n    return {\n        reset,\n        tryGet\n    }\n}","import { ArgumentNullException, Exception, htmlEncode, isAssignableFrom, isEmptyOrNull, notifyError } from \"../q\";\nimport { IDialog } from \"../interfaces\";\nimport { commonTypeRegistry } from \"./commontyperegistry\";\n\nexport namespace DialogTypeRegistry {\n\n    let registry = commonTypeRegistry(\n        type => isAssignableFrom(IDialog, type),\n        null, \"Dialog\");\n\n    export function get(key: string): any {\n\n        if (isEmptyOrNull(key))\n            throw new ArgumentNullException('key');\n\n        var type = registry.tryGet(key);\n\n        if (type)\n            return type;\n\n        var message = `\"${htmlEncode(key)}\" dialog class not found! \nMake sure there is such a dialog type under the project root namespace, \nand its namespace parts start with capital letters like MyProject.MyModule.MyDialog.\n\nIf using ES modules, make sure the dialog type has a decorator like \n@Decorators.registerClass('MyProject.MyModule.MyDialog') with the full name\nand \"side-effect-import\" this dialog class from the current \n\"page.ts/grid.ts/dialog.ts file (import \"./path/to/MyDialog.ts\").\n\nIf you had this error from an editor with the InplaceAdd option, verify that the lookup key\nand dialog type name match case-sensitively, excluding the Dialog suffix.\nSpecify the DialogType property in the LookupEditor attribute if it is not.\n\nAfter applying fixes, build and run \"node ./tsbuild.js\" (or \"tsc\" if using namespaces) \nfrom the project folder.`;\n\n        notifyError(message.replace(/\\r?\\n\\r?\\n/g, '<br/><br/>'), '', { escapeHtml: false, timeOut: 5000 });\n        throw new Exception(message);\n    }\n\n    export function reset() {\n        registry.reset();\n    }\n\n    export function tryGet(key: string) {\n        return registry.tryGet(key);\n    }\n}","import { isMobileView } from \"../q\";\n\nexport function jQueryPatch($: any) {\n    \n    function applyJQueryUIFixes(): boolean {\n        if (typeof $ == \"undefined\" || !$.ui || !$.ui.dialog || !$.ui.dialog.prototype)\n            return false;\n            \n        $.ui.dialog.prototype._allowInteraction = function (event: any) {\n            if ($(event.target).closest(\".ui-dialog\").length) {\n                return true;\n            }\n            return !!$(event.target).closest(\".ui-datepicker, .select2-drop, .cke, .cke_dialog, .modal, #support-modal\").length;\n        };\n\n        (function (orig) {\n            $.ui.dialog.prototype._focusTabbable = function () {\n                if (isMobileView) {\n                    this.uiDialog && this.uiDialog.focus();\n                    return;\n                }\n                orig.call(this);\n            }\n        })($.ui.dialog.prototype._focusTabbable);\n\n        (function (orig) {\n            $.ui.dialog.prototype._createTitlebar = function () {\n                orig.call(this);\n                this.uiDialogTitlebar.find('.ui-dialog-titlebar-close').html('<i class=\"fa fa-times\" />');\n            }\n        })($.ui.dialog.prototype._createTitlebar);\n    }\n\n    !applyJQueryUIFixes() && typeof $ !== \"undefined\" && $.fn && $(applyJQueryUIFixes);\n\n    if (typeof $ !== \"undefined\" && $.fn) {\n\n        // for backward compatibility\n        if (!$.toJSON)\n            $.toJSON = JSON.stringify;\n        if (!$.parseJSON)\n            $.parseJSON = JSON.parse;\n\n        ($ as any).cleanData = (function (orig) {\n            return function (elems: any[]) {\n                var events, elem, i, e;\n                var cloned = elems;\n                for (i = 0; (elem = cloned[i]) != null; i++) {\n                    try {\n                        events = ($ as any)._data(elem, \"events\");\n                        if (events && events.remove) {\n                            // html collection might change during remove event, so clone it!\n                            if (cloned === elems)\n                                cloned = Array.prototype.slice.call(elems);\n                            $(elem).triggerHandler(\"remove\");\n                            delete events.remove;\n                        }\n                    } catch (e) { }\n                }\n                orig(elems);\n            };\n        })(($ as any).cleanData);\n    }\n}","import $ from \"@optionaldeps/jquery\";\nimport { jQueryPatch } from \"../../patch/jquerypatch\";\nimport { Decorators, ElementAttribute } from \"../../decorators\";\nimport { IDialog } from \"../../interfaces\";\nimport { addValidationRule as addValRule, ArgumentNullException, Config, Exception, format, getAttributes, getInstanceType, getTypeFullName, getTypeShortName, isAssignableFrom, notifyError, replaceAll, startsWith } from \"../../q\";\n\nexport interface WidgetClass<TOptions = object> {\n    new(element: JQuery, options?: TOptions): Widget<TOptions>;\n    element: JQuery;\n}\n\nexport interface WidgetDialogClass<TOptions = object> {\n    new(options?: TOptions): Widget<TOptions> & IDialog;\n    element: JQuery;\n}\n\nexport type AnyWidgetClass<TOptions = object> = WidgetClass<TOptions> | WidgetDialogClass<TOptions>;\n\nexport function reactPatch() {\n    // @ts-ignore check for global\n    let globalObj: any = typeof (global) !== \"undefined\" ? global : (typeof (window) !== \"undefined\" ? window : (typeof (self) !== \"undefined\" ? self : null));\n\n    // @ts-ignore\n    if (typeof React === \"undefined\" && typeof globalObj !== \"undefined\") {\n        if (globalObj['preact'] != null) {\n            globalObj['React'] = globalObj['ReactDOM'] = globalObj['preact'];\n            // @ts-ignore\n            (React as any).Fragment = (React as any).Fragment ?? \"x-fragment\";\n        }\n        else if (globalObj['Nerv'] != null) {\n            globalObj['React'] = globalObj['ReactDOM'] = globalObj['Nerv'];\n            // @ts-ignore\n            (React as any).Fragment = (React as any).Fragment ?? \"x-fragment\";\n        }\n        else {\n            globalObj['React'] = {\n                Component: function () { } as any,\n                Fragment: \"x-fragment\" as any,\n                createElement: function () { return { _reactNotLoaded: true }; } as any\n            } as any\n            globalObj['ReactDOM'] = {\n                render: function () { throw Error(\"To use React, it should be included before Serenity.CoreLib.js\"); }\n            }\n        }\n    }\n}\n\nreactPatch();\n\nexport interface CreateWidgetParams<TWidget extends Widget<TOptions>, TOptions> {\n    type?: new (element: JQuery, options?: TOptions) => TWidget;\n    options?: TOptions;\n    container?: JQuery;\n    element?: (e: JQuery) => void;\n    init?: (w: TWidget) => void;\n}\n\n@Decorators.registerClass('Serenity.Widget')\nexport class Widget<TOptions = any> {\n    private static nextWidgetNumber = 0;\n    public element: JQuery;\n    protected options: TOptions;\n    protected widgetName: string;\n    protected uniqueName: string;\n    declare public readonly idPrefix: string;\n\n    constructor(element: JQuery, options?: TOptions) {\n\n        this.element = element;\n        this.options = options || ({} as TOptions);\n\n        this.widgetName = Widget.getWidgetName(getInstanceType(this));\n        this.uniqueName = this.widgetName + (Widget.nextWidgetNumber++).toString();\n\n        if (element.data(this.widgetName)) {\n            throw new Exception(format(\"The element already has widget '{0}'!\", this.widgetName));\n        }\n\n        element.on('remove.' + this.widgetName, e => {\n            if (e.bubbles || e.cancelable) {\n                return;\n            }\n            this.destroy();\n        }).data(this.widgetName, this);\n\n        this.addCssClass();\n\n        this.idPrefix = this.uniqueName + '_';\n        this.renderContents();\n    }\n\n    public destroy(): void {\n        if (this.element) {\n            this.element.removeClass(this.getCssClass());\n            this.element.off('.' + this.widgetName).off('.' + this.uniqueName).removeData(this.widgetName);\n            this.element = null;\n        }\n    }\n\n    protected addCssClass(): void {\n        this.element.addClass(this.getCssClass());\n    }\n\n    protected getCssClass(): string {\n        var type = getInstanceType(this);\n        var classList: string[] = [];\n        var fullClass = replaceAll(getTypeFullName(type), '.', '-');\n        classList.push(fullClass);\n\n        for (let k of Config.rootNamespaces) {\n            if (startsWith(fullClass, k + '-')) {\n                classList.push(fullClass.substr(k.length + 1));\n                break;\n            }\n        }\n\n        classList.push(getTypeShortName(type));\n        return classList\n            .filter((v, i, a) => a.indexOf(v) === i)\n            .map(s => 's-' + s)\n            .join(\" \");\n    }\n\n    public static getWidgetName(type: Function): string {\n        return replaceAll(getTypeFullName(type), '.', '_');\n    }\n\n    public static elementFor<TWidget>(editorType: { new (...args: any[]): TWidget }): JQuery {\n        var elementAttr = getAttributes(editorType, ElementAttribute, true);\n        var elementHtml = ((elementAttr.length > 0) ? elementAttr[0].value : '<input/>');\n        return $(elementHtml);\n    };\n\n    public addValidationRule(eventClass: string, rule: (p1: JQuery) => string): JQuery {\n        return addValRule(this.element, eventClass, rule);\n    }\n\n    public getGridField(): JQuery {\n        return this.element.closest('.field');\n    } \n\n    public change(handler: (e: JQueryEventObject) => void) {\n        this.element.on('change.' + this.uniqueName, handler);\n    };\n\n    public changeSelect2(handler: (e: JQueryEventObject) => void) {\n        this.element.on('change.' + this.uniqueName, function (e, valueSet) {\n            if (valueSet !== true)\n                handler(e);\n        });\n    };\n\n    public static create<TWidget extends Widget<TOpt>, TOpt>(params: CreateWidgetParams<TWidget, TOpt>) {\n        let widget: TWidget;\n\n        if (isAssignableFrom(IDialog, params.type)) {\n            widget = new (params.type as any)(params.options);\n            if (params.container)\n                widget.element.appendTo(params.container);\n            params.element && params.element(widget.element);\n        }\n        else {\n            var e = Widget.elementFor(params.type);\n            if (params.container)\n                e.appendTo(params.container);\n            params.element && params.element(e);\n            widget = new params.type(e, params.options);\n        }\n\n        widget.init(null);\n        params.init && params.init(widget);\n\n        return widget;\n    }\n\n    public initialize(): void {\n    }\n\n    public init(action?: (widget: any) => void): this {\n        action && action(this);\n        return this;\n    }\n\n    protected renderContents(): void {\n    }\n\n    private static __isWidgetType = true;\n}\n\nif (typeof $ !== \"undefined\" && $.fn) {\n    ($.fn as any).tryGetWidget = function (this: JQuery, type: any) {\n        var element = this;\n        var w;\n        if (isAssignableFrom(Widget, type)) {\n            var widgetName = Widget.getWidgetName(type);\n            w = element.data(widgetName);\n            if (w != null && !isAssignableFrom(type, getInstanceType(w))) {\n                w = null;\n            }\n            if (w != null) {\n                return w;\n            }\n        }\n\n        var data = element.data();\n        if (data == null) {\n            return null;\n        }\n\n        for (var key of Object.keys(data)) {\n            w = data[key];\n            if (w != null && isAssignableFrom(type, getInstanceType(w))) {\n                return w;\n            }\n        }\n\n        return null;\n    };\n\n    $.fn.getWidget = function<TWidget>(this: JQuery, type: { new (...args: any[]): TWidget }) {\n        if (this == null) {\n            throw new ArgumentNullException('element');\n        }\n        if (this.length === 0) {\n            throw new Exception(format(\"Searching for widget of type '{0}' on a non-existent element! ({1})\",\n                getTypeFullName(type), this.selector));\n        }\n\n        var w = (this as any).tryGetWidget(type);\n        if (w == null) {\n            var message = format(\"Element has no widget of type '{0}'! If you have recently changed \" +\n                \"editor type of a property in a form class, or changed data type in row (which also changes \" +\n                \"editor type) your script side Form definition might be out of date. Make sure your project \" +\n                \"builds successfully and transform T4 templates\", getTypeFullName(type));\n            notifyError(message, '', null);\n            throw new Exception(message);\n        }\n        return w;\n    };\n}\n\nexport interface WidgetComponentProps<W extends Widget<any>> {\n    id?: string;\n    name?: string;\n    className?: string;\n    maxLength?: number;\n    placeholder?: string;\n    setOptions?: any;\n    required?: boolean;\n    readOnly?: boolean;\n    oneWay?: boolean;\n    onChange?: (e: JQueryEventObject) => void;\n    onChangeSelect2?: (e: JQueryEventObject) => void;\n    value?: any;\n    defaultValue?: any;\n}\n\nexport declare interface Widget<TOptions> {\n    change(handler: (e: JQueryEventObject) => void): void;\n    changeSelect2(handler: (e: JQueryEventObject) => void): void;\n}\n\nif (typeof $ === \"function\") {\n    jQueryPatch($);\n}\n","import { ArgumentNullException, EditorAttribute, Exception, getAttributes, htmlEncode, isAssignableFrom, isEmptyOrNull, notifyError } from \"../q\";\nimport { Widget } from \"../ui/widgets/widget\";\nimport { commonTypeRegistry } from \"./commontyperegistry\";\n\nlet knownTypes: { [key: string] : any };\n\nexport namespace EditorTypeRegistry {\n    \n    let registry = commonTypeRegistry(\n        type => !!getAttributes(type, EditorAttribute).length || isAssignableFrom(Widget, type), \n        null, \"Editor\");\n\n    export function get(key: string): any {\n        if (isEmptyOrNull(key)) \n            throw new ArgumentNullException('key');\n        \n        var type = registry.tryGet(key);\n        if (type)\n            return type;\n\n        var message = `\"${htmlEncode(key)}\" editor class not found! \nMake sure there is such a editor type under the project root namespace,\nand its namespace parts start with capital letters like MyProject.MyModule.MyEditor.\n\nIf using ES modules, make sure the editor type has a decorator like \n@Decorators.registerEditor('MyProject.MyModule.MyFormatter') with the full name \nand \"side-effect-import\" this editor class from the current \n\"page.ts/grid.ts/dialog.ts file (import \"./path/to/MyEditor.ts\").\n\nAfter applying fixes, build and run \"node ./tsbuild.js\" (or \"tsc\" if using namespaces) \nfrom the project folder.`;\n\n        notifyError(message.replace(/\\r?\\n\\r?\\n/g, '<br/><br/>'), '', { escapeHtml: false, timeOut: 5000 });\n        throw new Exception(message);\n    }\n\n    export function reset() {\n        registry.reset();\n    }\n\n    export function tryGet(key: string) {\n        return registry.tryGet(key);\n    }\n}","import { Exception, getAttributes, htmlEncode, isEnum, notifyError } from \"../q\";\nimport { EnumKeyAttribute } from \"../decorators\";\nimport { commonTypeRegistry } from \"./commontyperegistry\";\n\nexport namespace EnumTypeRegistry {\n\n    let registry = commonTypeRegistry(\n        isEnum, \n        type => getAttributes(type, EnumKeyAttribute)[0]?.value,\n        null);\n\n    export function get(key: string): Function {\n        var type = registry.tryGet(key);\n        if (type)\n            return type;\n\n        var message = `Can't find \"${htmlEncode(key)}\" enum type! \nIf you have recently defined this enum type in server side code, make sure \nyour project builds successfully and run \"dotnet sergen t\". \n\nAlso verify there is such an enum type under the project root namespace, \nand its namespace parts start with capital letters like MyProject.MyModule.MyEnum.\n\nIf using ES modules, make sure the enum type is registered with \nQ.registerEnum('MyProject.MyModule.MyDialog') with the full name of \nyour enum type and \"side-effect-import\" this enum from the current \n\"page.ts/grid.ts/dialog.ts file (import \"./path/to/MyEnum.ts\").\n\nAfter applying fixes, build and run \"node ./tsbuild.js\" (or \"tsc\" if using namespaces) \nfrom the project folder.`;\n\n    notifyError(message.replace(/\\r?\\n\\r?\\n/g, '<br/><br/>'), '', { escapeHtml: false, timeOut: 5000 });\n    throw new Exception(message);\n    }\n\n    export function reset() {\n        registry.reset();\n    }\n\n    export function tryGet(key: string) {\n        return registry.tryGet(key);\n    }\n}","import { executeOnceWhenVisible, executeEverytimeWhenVisible } from \"../../q\";\n\nexport namespace LazyLoadHelper {\n    export const executeOnceWhenShown = executeOnceWhenVisible \n    export const executeEverytimeWhenShown = executeEverytimeWhenVisible;\n}","export {}\n\nexport class PrefixedContext {\n    constructor(public readonly idPrefix: string) {\n    }\n\n    byId(id: string): JQuery {\n        return $('#' + this.idPrefix + id);\n    }\n\n    w<TWidget>(id: string, type: { new (...args: any[]): TWidget }): TWidget {\n        return $('#' + this.idPrefix + id).getWidget<TWidget>(type);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { htmlEncode, isEmptyOrNull, startsWith } from \"../../q\";\nimport { Widget } from \"./widget\";\n\nexport interface ToolButton {\n    action?: string;\n    title?: string;\n    hint?: string;\n    cssClass?: string;\n    icon?: string;\n    onClick?: any;\n    htmlEncode?: any;\n    hotkey?: string;\n    hotkeyAllowDefault?: boolean;\n    hotkeyContext?: any;\n    separator?: (false | true | 'left' | 'right' | 'both');\n    visible?: boolean | (() => boolean);\n    disabled?: boolean | (() => boolean);\n}\n\nexport interface PopupMenuButtonOptions {\n    menu?: JQuery;\n    onPopup?: () => void;\n    positionMy?: string;\n    positionAt?: string;\n}\n\n@Decorators.registerEditor('Serenity.PopupMenuButton')\nexport class PopupMenuButton extends Widget<PopupMenuButtonOptions> {\n    constructor(div: JQuery, opt: PopupMenuButtonOptions) {\n        super(div, opt);\n\n        div.addClass('s-PopupMenuButton');\n        div.click(e => {\n            e.preventDefault();\n            e.stopPropagation();\n            if (this.options.onPopup != null) {\n                this.options.onPopup();\n            }\n\n            var menu = this.options.menu;\n            (menu.show() as any).position?.({\n                my: this.options.positionMy ?? 'left top',\n                at: this.options.positionAt ?? 'left bottom',\n                of: this.element\n            });\n\n            var uq = this.uniqueName;\n            $(document).one('click.' + uq, function (x) {\n                menu.hide();\n            });\n        });\n\n        (this.options.menu.hide().appendTo(document.body)\n            .addClass('s-PopupMenu') as any).menu?.();\n    }\n\n    destroy() {\n        if (this.options.menu != null) { \n            this.options.menu.remove();\n            this.options.menu = null;\n        }\n\n        super.destroy();\n    }\n}\n\n\nexport interface PopupToolButtonOptions extends PopupMenuButtonOptions {\n}\n\n@Decorators.registerEditor('Serenity.PopupToolButton')\nexport class PopupToolButton extends PopupMenuButton {\n    constructor(div: JQuery, opt: PopupToolButtonOptions) {\n        super(div, opt);\n\n        div.addClass('s-PopupToolButton');\n        $('<b/>').appendTo(div.children('.button-outer').children('span'));\n    }\n}\n\nexport interface ToolbarOptions {\n    buttons?: ToolButton[];\n    hotkeyContext?: any;\n}\n\n@Decorators.registerClass('Serenity.Toolbar')\nexport class Toolbar extends Widget<ToolbarOptions> {\n    constructor(div: JQuery, options: ToolbarOptions) {\n        super(div, options);\n\n        this.element.addClass('s-Toolbar clearfix')\n            .html('<div class=\"tool-buttons\"><div class=\"buttons-outer\">' +\n                '<div class=\"buttons-inner\"></div></div></div>');\n\n        this.createButtons();\n    }\n\n    destroy() {\n        this.element.find('div.tool-button').unbind('click');\n        if (this.mouseTrap) {\n            if (!!this.mouseTrap.destroy) {\n                this.mouseTrap.destroy();\n            }\n            else {\n                this.mouseTrap.reset();\n            }\n            this.mouseTrap = null;\n        }\n\n        super.destroy();\n    }\n\n    protected mouseTrap: any;\n\n    protected createButtons() {\n        var container: JQuery = $('div.buttons-inner', this.element).last();\n        var buttons = this.options.buttons;\n        var currentCount = 0;\n        for (var i = 0; i < buttons.length; i++) {\n            var button = buttons[i];\n            if (button.separator && currentCount > 0) {\n                container = $('<div class=\"buttons-inner\"></div>').appendTo(container.parent());\n                currentCount = 0;\n            }\n            this.createButton(container, button);\n            currentCount++;\n        }\n    }\n\n    protected createButton(container: JQuery, b: ToolButton) {\n        var cssClass = b.cssClass ?? '';\n\n        var btn = $('<div class=\"tool-button\"><div class=\"button-outer\">' +\n            '<span class=\"button-inner\"></span></div></div>')\n            .appendTo(container);\n\n        if (b.action != null)\n            btn.attr('data-action', b.action);\n\n        if (b.separator === 'right' || b.separator === 'both') {\n            $('<div class=\"separator\"></div>').appendTo(container);\n        }\n\n        if (cssClass.length > 0) {\n            btn.addClass(cssClass);\n        }\n\n        if (!isEmptyOrNull(b.hint)) {\n            btn.attr('title', b.hint);\n        }\n\n        btn.click(function (e) {\n            if (btn.hasClass('disabled')) {\n                return;\n            }\n            b.onClick(e);\n        });\n\n        var text = b.title;\n        if (b.htmlEncode !== false) {\n            text = htmlEncode(b.title);\n        }\n\n        if (!isEmptyOrNull(b.icon)) {\n            btn.addClass('icon-tool-button');\n            var klass = b.icon;\n            if (startsWith(klass, 'fa-')) {\n                klass = 'fa ' + klass;\n            }\n            else if (startsWith(klass, 'glyphicon-')) {\n                klass = 'glyphicon ' + klass;\n            }\n            text = \"<i class='\" + htmlEncode(klass) + \"'></i> \" + text;\n        }\n        if (text == null || text.length === 0) {\n            btn.addClass('no-text');\n        }\n        else {\n            btn.find('span').html(text);\n        }\n\n        if (b.visible === false)\n            btn.hide();\n\n        if (b.disabled != null && typeof b.disabled !== \"function\")\n            btn.toggleClass('disabled', !!b.disabled);\n\n        if (typeof b.visible === \"function\" || typeof b.disabled == \"function\") {\n            btn.on('updateInterface', () => {\n                if (typeof b.visible === \"function\")\n                    btn.toggle(!!b.visible());\n\n                if (typeof b.disabled === \"function\")\n                    btn.toggleClass(\"disabled\", !!b.disabled());\n            });\n        }\n\n        if (!!(!isEmptyOrNull(b.hotkey) && window['Mousetrap' as any] != null)) {\n            this.mouseTrap = this.mouseTrap || (window['Mousetrap' as any] as any)(\n                b.hotkeyContext || this.options.hotkeyContext || window.document.documentElement);\n\n            this.mouseTrap.bind(b.hotkey, function (e1: BaseJQueryEventObject, action: any) {\n                if (btn.is(':visible')) {\n                    btn.triggerHandler('click');\n                }\n                return b.hotkeyAllowDefault;\n            });\n        }\n    }\n\n    findButton(className: string): JQuery {\n        if (className != null && startsWith(className, '.')) {\n            className = className.substr(1);\n        }\n        return $('div.tool-button.' + className, this.element);\n    }\n\n    updateInterface() {\n        this.element.find('.tool-button').each(function (i: number, el: Element) {\n            $(el).triggerHandler('updateInterface')\n        });\n    }\n}\n","import { Decorators } from \"../../decorators\";\nimport { canLoadScriptData, Config, format, getBaseType, getInstanceType, getTemplate, getTypeFullName, getTypeShortName, replaceAll, startsWith, localText } from \"../../q\";\nimport { Widget } from \"./widget\";\n\n@Decorators.registerClass(\"Serenity.TemplatedWidget\")\nexport class TemplatedWidget<TOptions> extends Widget<TOptions> {\n\n    private static templateNames: { [key: string]: string } = {};\n\n    protected byId(id: string): JQuery {\n        return $('#' + this.idPrefix + id, this.element);\n    }\n\n    private byID<TWidget>(id: string, type: { new(...args: any[]): TWidget }) {\n        return this.byId(id).getWidget(type);\n    }\n\n    private static noGeneric(s: string): string {\n        var dollar = s.indexOf('$');\n        if (dollar >= 0) {\n            return s.substr(0, dollar);\n        }\n        return s;\n    }\n\n    private getDefaultTemplateName(): string {\n        return TemplatedWidget.noGeneric(getTypeShortName(\n            getInstanceType(this)));\n    }\n\n    protected getTemplateName(): string {\n\n        var type = getInstanceType(this);\n        var fullName = getTypeFullName(type);\n\n        var templateNames = TemplatedWidget.templateNames;\n\n        var cachedName = TemplatedWidget.templateNames[fullName];\n        if (cachedName != null) {\n            return cachedName;\n        }\n\n        while (type && type !== Widget) {\n            var name = TemplatedWidget.noGeneric(getTypeFullName(type));\n\n            for (let k of Config.rootNamespaces) {\n                if (startsWith(name, k + '.')) {\n                    name = name.substr(k.length + 1);\n                    break;\n                }\n            }\n\n            if (canLoadScriptData('Template.' + name)) {\n                templateNames[fullName] = name;\n                return name;\n            }\n\n            name = replaceAll(name, '.', '_');\n            if (canLoadScriptData('Template.' + name) ||\n                $('script#Template_' + name).length > 0) {\n                templateNames[fullName] = name;\n                return name;\n            }\n\n            name = TemplatedWidget.noGeneric(getTypeShortName(type));\n            if (canLoadScriptData('Template.' + name) ||\n                $('script#Template_' + name).length > 0) {\n                TemplatedWidget.templateNames[fullName] = name;\n                return name;\n            }\n\n            type = getBaseType(type);\n        }\n\n        templateNames[fullName] = cachedName = this.getDefaultTemplateName();\n        return cachedName;\n    }\n\n    protected getFallbackTemplate(): string {\n        return null;\n    }\n\n    protected getTemplate(): string {\n        var templateName = this.getTemplateName();\n\n        var script = $('script#Template_' + templateName);\n        if (script.length > 0) {\n            return script.html();\n        }\n\n        let template: string;\n        if (!canLoadScriptData('Template.' + templateName) &&\n            this.getDefaultTemplateName() == templateName) {\n            template = this.getFallbackTemplate();\n            if (template != null)\n                return template;\n        }\n\n        template = getTemplate(templateName);\n\n        if (template == null) {\n            throw new Error(format(\n                \"Can't locate template for widget '{0}' with name '{1}'!\",\n                getTypeFullName(getInstanceType(this)), templateName));\n        }\n\n        return template;\n    }\n\n    protected renderContents(): void {\n        var widgetMarkup = this.getTemplate().replace(new RegExp('~_', 'g'), this.idPrefix);\n\n        // for compatibility with older templates based on JsRender\n        var end = 0;\n        while (true) {\n            var idx = widgetMarkup.indexOf('{{text:\"', end);\n            if (idx < 0)\n                break;\n            var end = widgetMarkup.indexOf('\"}}', idx);\n            if (end < 0)\n                break;\n            var key = widgetMarkup.substr(idx + 8, end - idx - 8);\n            var txt = localText(key);\n            widgetMarkup = widgetMarkup.substr(0, idx) + txt + widgetMarkup.substr(end + 3);\n            end = idx + txt.length;\n        }\n\n        this.element.html(widgetMarkup);\n    }\n\n    protected useIdPrefix(): IdPrefixType {\n        return useIdPrefix(this.idPrefix);\n    }\n}\n\ntype IdPrefixType = { [key: string]: string, Form: string, Tabs: string, Toolbar: string, PropertyGrid: string };\n\nexport function useIdPrefix(prefix: string): IdPrefixType {\n    return new Proxy({ _: prefix ?? '' }, idPrefixHandler);\n}\n\nconst idPrefixHandler = {\n    get(target: any, p: string) {\n        if (p.startsWith('#'))\n            return '#' + target._ + p.substring(1);\n\n        return target._ + p;\n    }\n};","import { Widget } from \"./widget\";\nimport { LazyLoadHelper } from \"../helpers/lazyloadhelper\";\n\nif (typeof $ !== \"undefined\" && $.fn) {\n    $.fn.flexHeightOnly = function (flexY: number = 1) {\n        return this.flexWidthHeight(0, flexY);\n    }\n\n    $.fn.flexWidthOnly = function (flexX: number = 1) {\n        return this.flexWidthHeight(flexX, 0);\n    }\n\n    $.fn.flexWidthHeight = function (flexX: number = 1, flexY: number = 1) {\n        return this.addClass('flexify').data('flex-x', flexX).data('flex-y', flexY);\n    }\n\n    $.fn.flexX = function (flexX: number): JQuery {\n        return this.data('flex-x', flexX);\n    }\n\n    $.fn.flexY = function (flexY: number): JQuery {\n        return this.data('flex-y', flexY);\n    }\n}\n\nexport class Flexify extends Widget<FlexifyOptions> {\n    private xDifference = 0;\n    private yDifference = 0;\n    constructor(container: JQuery, options: FlexifyOptions) {\n        super(container, options);\n\n        LazyLoadHelper.executeOnceWhenShown(container, () => {\n            this.storeInitialSize();\n        });\n    }\n\n    storeInitialSize() {\n        if (!!this.element.data('flexify-init')) {\n            return;\n        }\n\n        var designWidth = this.options.designWidth;\n        if (designWidth == null)\n            designWidth = this.element.width();\n        this.element.data('flexify-width', designWidth);\n\n        var designHeight = this.options.designHeight;\n        if (designHeight == null)\n            designHeight = this.element.height();\n        this.element.data('flexify-height', designHeight);\n\n        this.element.data('flexify-init', true);\n\n        this.element.on('resize.' + this.uniqueName, () =>\n            this.resizeElements());\n\n        this.element.on('resizestop.' + this.uniqueName, () =>\n            this.resizeElements());\n        \n        var tabs = this.element.find('.ui-tabs');\n        if (tabs.length > 0) {\n            tabs.on('tabsactivate.' + this.uniqueName, () =>\n                this.resizeElements());\n        }\n\n        if (this.options.designWidth != null || this.options.designHeight != null) \n            this.resizeElements();\n    }\n\n    private getXFactor(element: JQuery): number {\n        var xFactor = null;\n        if (this.options.getXFactor != null)\n            xFactor = this.options.getXFactor(element);\n\n        if (xFactor == null)\n            xFactor = element.data('flex-x');\n\n        return xFactor ?? 1;\n    }\n\n    private getYFactor(element: JQuery): number {\n        var yFactor = null;\n\n        if (this.options.getYFactor != null) \n            yFactor = this.options.getYFactor(element);\n\n        if (yFactor == null) \n            yFactor = element.data('flex-y');\n\n        return yFactor ?? 0;\n    }\n\n    private resizeElements(): void {\n        var width = this.element.width();\n        var initialWidth = this.element.data('flexify-width');\n        if (initialWidth == null) {\n            this.element.data('flexify-width', width);\n            initialWidth = width;\n        }\n\n        var height = this.element.height();\n        var initialHeight = this.element.data('flexify-height');\n        if (initialHeight == null) {\n            this.element.data('flexify-height', height);\n            initialHeight = height;\n        }\n\n        this.xDifference = width - initialWidth;\n        this.yDifference = height - initialHeight;\n\n        var containers = this.element;\n        var tabPanels = this.element.find('.ui-tabs-panel');\n\n        if (tabPanels.length > 0) {\n            containers = tabPanels.filter(':visible');\n        }\n\n        containers.find('.flexify')\n            .add(tabPanels.filter('.flexify:visible'))\n            .each((i, e) => {\n                this.resizeElement($(e as any));\n            });\n    }\n\n    private resizeElement(element: JQuery): void {\n        var xFactor = this.getXFactor(element);\n        if(xFactor !== 0) {\n            var initialWidth = element.data('flexify-width');\n            if (initialWidth == null) {\n                var width = element.width();\n                element.data('flexify-width', width);\n                initialWidth = width;\n            }\n\n            element.width(initialWidth + xFactor * this.xDifference | 0);\n        }\n\n        var yFactor = this.getYFactor(element);\n        if (yFactor !== 0) {\n            var initialHeight = element.data('flexify-height');\n            if (initialHeight == null) {\n                var height = element.height();\n                element.data('flexify-height', height);\n                initialHeight = height;\n            }\n            element.height(initialHeight + yFactor * this.yDifference | 0);\n        }\n\n        if (element.hasClass('require-layout')) {\n            element.triggerHandler('layout');\n        }\n    }\n}\n\nexport interface FlexifyOptions {\n    getXFactor?: (p1: JQuery) => any;\n    getYFactor?: (p1: JQuery) => any;\n    designWidth?: any;\n    designHeight?: any;\n}","import { Flexify } from \"../widgets/flexify\";\n\nexport namespace DialogExtensions {\n\n    export function dialogResizable(dialog: JQuery, w?: any, h?: any, mw?: any, mh?: any): JQuery {\n        var dlg = (dialog as any)?.dialog?.();\n        dlg.dialog('option', 'resizable', true);\n        if (mw != null) {\n            dlg.dialog('option', 'minWidth', mw);\n        }\n        if (w != null) {\n            dlg.dialog('option', 'width', w);\n        }\n        if (mh != null) {\n            dlg.dialog('option', 'minHeight', mh);\n        }\n        if (h != null) {\n            dlg.dialog('option', 'height', h);\n        }\n        return dialog;\n    }\n\n    export function dialogMaximizable(dialog: JQuery): JQuery {\n        (dialog as any).dialogExtend({\n            closable: true,\n            maximizable: true,\n            dblclick: 'maximize',\n            icons: { maximize: 'ui-icon-maximize-window' }\n        });\n\n        return dialog;\n    }\n\n    export function dialogFlexify(dialog: JQuery): JQuery {\n        new Flexify(dialog.closest('.ui-dialog'), {});\n        return dialog;\n    }\n}","import { Decorators, FlexifyAttribute, MaximizableAttribute, PanelAttribute, ResizableAttribute, ResponsiveAttribute } from \"../../decorators\";\nimport { IDialog } from \"../../interfaces\";\nimport { bsModalMarkup, closePanel, Config, DialogButton, dialogButtonToBS, dialogButtonToUI, endsWith, getAttributes, getInstanceType, isEmptyOrNull, isMobileView, layoutFillHeight, newBodyDiv, openPanel, parseInteger, positionToastContainer, validateOptions } from \"../../q\";\nimport { TemplatedWidget } from \"../widgets/templatedwidget\";\nimport { Toolbar, ToolButton } from \"../widgets/toolbar\";\nimport { DialogExtensions } from \"./dialogextensions\";\nimport validator from \"@optionaldeps/jquery.validation\";\n\n@Decorators.registerClass('Serenity.TemplatedDialog', [IDialog])\nexport class TemplatedDialog<TOptions> extends TemplatedWidget<TOptions> {\n\n    protected tabs: JQuery;\n    protected toolbar: Toolbar;\n    protected validator: JQueryValidation.Validator;\n\n    constructor(options?: TOptions) {\n        super(newBodyDiv().addClass('s-TemplatedDialog hidden'), options);\n\n        this.element.attr(\"id\", this.uniqueName);\n\n        this.initValidator();\n        this.initTabs();\n        this.initToolbar();\n    }\n\n    private get isMarkedAsPanel() {\n        var panelAttr = getAttributes(getInstanceType(this),\n            PanelAttribute, true) as PanelAttribute[];\n        return panelAttr.length > 0 && panelAttr[panelAttr.length - 1].value !== false;\n    }\n\n    private get isResponsive() {\n        return Config.responsiveDialogs ||\n            getAttributes(getInstanceType(this), ResponsiveAttribute, true).length > 0;\n    }\n\n    private static getCssSize(element: JQuery, name: string): number {\n        var cssSize = element.css(name);\n        if (cssSize == null) {\n            return null;\n        }\n\n        if (!endsWith(cssSize, 'px')) {\n            return null;\n        }\n\n        cssSize = cssSize.substr(0, cssSize.length - 2);\n        let i = parseInteger(cssSize);\n        if (i == null || isNaN(i) || i == 0)\n            return null;\n\n        return i;\n    }\n\n    private static applyCssSizes(opt: any, dialogClass: string) {\n        let size: number;\n        let dialog = $('<div/>').hide().addClass(dialogClass).appendTo(document.body);\n        try {\n            var sizeHelper = $('<div/>').addClass('size').appendTo(dialog);\n            size = TemplatedDialog.getCssSize(sizeHelper, 'minWidth'); \n            if (size != null)\n                opt.minWidth = size;\n\n            size = TemplatedDialog.getCssSize(sizeHelper, 'width');\n            if (size != null)\n                opt.width = size;\n\n            size = TemplatedDialog.getCssSize(sizeHelper, 'height');\n            if (size != null)\n                opt.height = size;\n\n            size = TemplatedDialog.getCssSize(sizeHelper, 'minHeight');\n            if (size != null)\n                opt.minHeight = size;\n        }\n        finally {\n            dialog.remove();\n        }\n    };\n\n    public destroy(): void {\n        (this.tabs as any)?.tabs?.('destroy');\n        this.tabs = null;\n        (this.toolbar as any)?.toolbar?.destroy?.();\n        this.toolbar = null;\n        this.validator && this.byId('Form').remove();\n        this.validator = null;\n        if (this.element != null &&\n            this.element.hasClass('ui-dialog-content')) {\n            (this.element as any)?.dialog?.('destroy');\n            this.element.removeClass('ui-dialog-content');\n        }\n        else if (this.element != null &&\n            this.element.hasClass('modal-body')) {\n            var modal = this.element.closest('.modal').data('bs.modal', null);\n            this.element && this.element.removeClass('modal-body');\n            window.setTimeout(() => modal.remove(), 0);\n        }\n        \n        $(window).unbind('.' + this.uniqueName);\n        super.destroy();\n    }\n\n    protected initDialog(): void {\n        if (this.element.hasClass('ui-dialog-content'))\n            return;\n\n        this.element.removeClass('hidden');\n\n        (this.element as any)?.dialog?.(this.getDialogOptions());\n        this.element.closest('.ui-dialog').on('resize', e => this.arrange());\n\n        let type = getInstanceType(this);\n\n        if (this.isResponsive) {\n            DialogExtensions.dialogResizable(this.element);\n\n            $(window).bind('resize.' + this.uniqueName, e => {\n                if (this.element && this.element.is(':visible')) {\n                    this.handleResponsive();\n                }\n            });\n\n            this.element.closest('.ui-dialog').addClass('flex-layout');\n        }\n        else if (DialogExtensions[\"dialogFlexify\"] &&\n            getAttributes(type, FlexifyAttribute, true).length > 0) {\n            DialogExtensions[\"dialogFlexify\"](this.element);\n            DialogExtensions.dialogResizable(this.element);\n        }\n        \n        if (getAttributes(type, MaximizableAttribute, true).length > 0) {\n            DialogExtensions.dialogMaximizable(this.element);\n        }\n\n        var self = this;\n        this.element.bind('dialogopen.' + this.uniqueName, () => {\n            $(document.body).addClass('modal-dialog-open');\n\n            if (this.isResponsive) {\n                this.handleResponsive();\n            }\n\n            self.onDialogOpen();\n        });\n\n        this.element.bind('dialogclose.' + this.uniqueName, () => {\n            $(document.body).toggleClass('modal-dialog-open', $('.ui-dialog:visible').length > 0);\n            self.onDialogClose();\n        });\n    }\n\n    protected getModalOptions(): ModalOptions {\n        return {\n            backdrop: false,\n            keyboard: false,\n            size: 'lg',\n            modalClass: this.getCssClass()\n        }\n    }\n\n    protected initModal(): void {\n        if (this.element.hasClass('modal-body'))\n            return;\n        \n        var title = this.element.data('dialogtitle') ?? this.getDialogTitle() ?? '';\n        var opt = this.getModalOptions();\n        (opt as any)[\"show\"] = false;\n        var modalClass = \"s-Modal\";\n        \n        if (opt.modalClass)\n            modalClass += ' ' + opt.modalClass;\n\n        var div = bsModalMarkup(title, '', modalClass);\n        var modal = $(div).appendTo(document.body).addClass('flex-layout');\n        modal.one('shown.bs.modal.' + this.uniqueName, () => {\n            this.element.triggerHandler('shown.bs.modal');\n            this.onDialogOpen();\n        });\n\n        modal.one('hidden.bs.modal.' + this.uniqueName, () => {\n            $(document.body).toggleClass('modal-open', $('.modal.show').length + $('.modal.in').length > 0);\n            this.onDialogClose();\n        });\n        if (opt.size)\n            modal.find('.modal-dialog').addClass('modal-' + opt.size);\n\n        var footer = modal.find('.modal-footer');\n        var buttons = this.getDialogButtons();\n        if (buttons != null) {\n            for (var x of buttons) {\n                $(dialogButtonToBS(x)).appendTo(footer).click(x.click);\n            }\n        }\n        else\n            footer.hide();\n\n        (modal as any).modal(opt);\n        modal.find('.modal-body').replaceWith(this.element.removeClass('hidden').addClass('modal-body'));\n        $(window).on('resize.' + this.uniqueName, this.arrange.bind(this));\n    }\n\n    protected initToolbar(): void {\n        var toolbarDiv = this.byId('Toolbar');\n        if (toolbarDiv.length === 0) {\n            return;\n        }\n\n        var hotkeyContext = this.element.closest('.ui-dialog');\n        if (hotkeyContext.length === 0) {\n            hotkeyContext = this.element.closest('.modal');\n            if (hotkeyContext.length == 0)\n                hotkeyContext = this.element;\n        }\n\n        var opt = { buttons: this.getToolbarButtons(), hotkeyContext: hotkeyContext[0] };\n        this.toolbar = new Toolbar(toolbarDiv, opt);\n    }\n\n    protected getToolbarButtons(): ToolButton[] {\n        return [];\n    }\n\n    protected getValidatorOptions(): JQueryValidation.ValidationOptions {\n        return {};\n    }\n\n    protected initValidator(): void {\n        var form = this.byId('Form');\n        if (form.length > 0) {\n            var valOptions = this.getValidatorOptions();\n            this.validator = (validator || form.validate) && form.validate(validateOptions(valOptions));\n        }\n    }\n\n    protected resetValidation() {\n        this.validator && (this.validator as any).resetAll();\n    }\n\n    protected validateForm() {\n        return this.validator == null || !!this.validator.form();\n    }\n\n    public dialogOpen(asPanel?: boolean): void {\n        asPanel = asPanel ?? this.isMarkedAsPanel;\n        if (asPanel) {\n            if (!this.element.hasClass('s-Panel')) {\n                // so that panel title is created if needed\n                this.element.on('panelopen.' + this.uniqueName, () => {\n                    this.onDialogOpen();\n                });\n                this.element.on('panelclose.' + this.uniqueName, () => {\n                    this.onDialogClose();\n                });\n            }\n\n            TemplatedDialog.openPanel(this.element, this.uniqueName);\n            this.setupPanelTitle();\n        }\n        else if (this.useBSModal()) {\n            this.initModal();\n            (this.element.closest('.modal') as any).modal('show');\n        }\n        else {\n            this.initDialog();\n            (this.element as any).dialog?.('open');\n        }\n    }\n\n    private useBSModal() {\n        return !!((!($ as any).ui || !($ as any).ui?.dialog) || TemplatedDialog.bootstrapModal);\n    }\n\n    public static bootstrapModal: boolean;\n\n    public static openPanel(element: JQuery, uniqueName: string) {\n        return openPanel(element, uniqueName);\n    }\n\n    public static closePanel(element: JQuery, e?: JQueryEventObject) {\n        return closePanel(element, e);\n    }\n\n    protected onDialogOpen(): void {\n        if (!isMobileView())\n            $(':input', this.element).not('button').eq(0).focus();\n        this.arrange();\n        this.tabs && (this.tabs as any).tabs?.('option', 'active', 0);\n    }\n\n    public arrange(): void {\n        this.element.find('.require-layout').filter(':visible').each(function (i, e) {\n            $(e).triggerHandler('layout');\n        });\n    }\n\n    protected onDialogClose() {\n        $(document).trigger('click');\n\n        // for tooltips etc.\n        if (($ as any).qtip) {\n            $(document.body).children('.qtip').each(function (index, el) {\n                ($(el) as any).qtip('hide');\n            });\n        }\n\n        window.setTimeout(() => {\n            var element = this.element;\n            this.destroy();\n            element.remove();\n            positionToastContainer(false, null);\n        }, 0);\n    }\n\n    protected addCssClass(): void {\n        if (this.isMarkedAsPanel) {\n            super.addCssClass();\n\n            if (this.isResponsive)\n                this.element.addClass(\"flex-layout\");\n        }\n    }\n\n    protected getDialogButtons(): DialogButton[] {\n        return undefined;\n    }\n\n    protected getDialogOptions(): any {\n        var opt: any = {};\n        var dialogClass = 's-Dialog ' + this.getCssClass();\n        opt.dialogClass = dialogClass;\n        var buttons = this.getDialogButtons();\n        if (buttons != null)\n            opt.buttons = buttons.map(dialogButtonToUI);\n        opt.width = 920;\n        TemplatedDialog.applyCssSizes(opt, dialogClass);\n        opt.autoOpen = false;\n        let type = getInstanceType(this);\n        opt.resizable = getAttributes(type, ResizableAttribute, true).length > 0;\n        opt.modal = true;\n        opt.position = { my: 'center', at: 'center', of: $(window.window) };\n        opt.title = this.element.data('dialogtitle') ?? this.getDialogTitle() ?? '';\n        return opt;\n    }\n\n    protected getDialogTitle() {\n        return \"\";\n    }\n\n    public dialogClose(): void {\n        if (this.element.hasClass('ui-dialog-content'))\n            (this.element as any).dialog?.().dialog?.('close');\n        else if (this.element.hasClass('modal-body'))\n            (this.element.closest('.modal') as any).modal('hide');\n        else if (this.element.hasClass('s-Panel') && !this.element.hasClass('hidden')) {\n            TemplatedDialog.closePanel(this.element);\n        }\n    }\n\n    public get dialogTitle(): string {\n        if (this.element.hasClass('ui-dialog-content'))\n            return (this.element as any).dialog?.('option', 'title');\n        else if (this.element.hasClass('modal-body'))\n            return this.element.closest('.modal').find('.modal-header').children('h5').text();\n\n        return this.element.data('dialogtitle');\n    }\n\n    private setupPanelTitle() {\n        var value = this.dialogTitle ?? this.getDialogTitle();\n        var pt = this.element.children('.panel-titlebar');\n\n        if (isEmptyOrNull(value)) {\n            pt.remove();\n        }\n        else {\n            if (!this.element.children('.panel-titlebar').length) {\n                pt = $(\"<div class='panel-titlebar'><div class='panel-titlebar-text'></div></div>\")\n                    .prependTo(this.element);\n            }\n            pt.children('.panel-titlebar-text').text(value);\n\n            if (this.element.hasClass('s-Panel')) {\n                if (!pt.children('.panel-titlebar-close').length) {\n                    $('<button class=\"panel-titlebar-close\">&nbsp;</button>')\n                        .prependTo(pt)\n                        .click(e => {\n                            TemplatedDialog.closePanel(this.element, e);\n                        });\n                }\n            }\n        }\n    }\n\n    public set dialogTitle(value: string) {\n        var oldTitle = this.dialogTitle;\n        this.element.data('dialogtitle', value);\n\n        if (this.element.hasClass('ui-dialog-content'))\n            (this.element as any).dialog?.('option', 'title', value);\n        else if (this.element.hasClass('modal-body')) {\n            this.element.closest('.modal').find('.modal-header').children('h5').text(value ?? '');\n        }\n        else if (this.element.hasClass('s-Panel')) {\n            if (oldTitle != this.dialogTitle) {\n                this.setupPanelTitle();\n                this.arrange();\n            }\n\n        }\n    }\n\n    public set_dialogTitle(value: string) {\n        this.dialogTitle = value;\n    }\n\n    protected initTabs(): void {\n        var tabsDiv = this.byId('Tabs');\n        if (tabsDiv.length === 0) {\n            return;\n        }\n        this.tabs = (tabsDiv as any).tabs?.({});\n        this.tabs.bind('tabsactivate', () => this.arrange());\n    }\n\n    protected handleResponsive(): void {\n        var dlg = (this.element as any)?.dialog();\n        var uiDialog = this.element.closest('.ui-dialog');\n        if (isMobileView()) {\n            var data = this.element.data('responsiveData');\n            if (!data) {\n                data = {};\n                data.draggable = dlg.dialog('option', 'draggable');\n                data.resizable = dlg.dialog('option', 'resizable');\n                data.position = dlg.css('position');\n                var pos = uiDialog.position();\n                data.left = pos.left;\n                data.top = pos.top;\n                data.width = uiDialog.width();\n                data.height = uiDialog.height();\n                data.contentHeight = this.element.height();\n                this.element.data('responsiveData', data);\n                dlg.dialog('option', 'draggable', false);\n                dlg.dialog('option', 'resizable', false);\n            }\n            uiDialog.addClass('mobile-layout');\n            uiDialog.css({ left: '0px', top: '0px', width: $(window).width() + 'px', height: $(window).height() + 'px', position: 'fixed' });\n            $(document.body).scrollTop(0);\n            layoutFillHeight(this.element);\n        }\n        else {\n            var d = this.element.data('responsiveData');\n            if (d) {\n                dlg.dialog('option', 'draggable', d.draggable);\n                dlg.dialog('option', 'resizable', d.resizable);\n                this.element.closest('.ui-dialog').css({ left: '0px', top: '0px', width: d.width + 'px', height: d.height + 'px', position: d.position });\n                this.element.height(d.contentHeight);\n                uiDialog.removeClass('mobile-layout');\n                this.element.removeData('responsiveData');\n            }\n        }\n    }\n}\n\nexport interface ModalOptions {\n    backdrop?: boolean | 'static',\n    keyboard?: boolean,\n    size?: 'lg' | 'sm',\n    modalClass?: string;\n}","import { validateOptions } from \"../../q\";\nimport { Decorators } from \"../../decorators\";\nimport { TemplatedWidget } from \"./templatedwidget\";\nimport { Toolbar, ToolButton } from \"./toolbar\";\n\n@Decorators.registerClass(\"Serenity.TemplatedPanel\")\nexport class TemplatedPanel<TOptions> extends TemplatedWidget<TOptions> {\n    constructor(container: JQuery, options?: TOptions) {\n        super(container, options);\n\n        this.initValidator();\n        this.initTabs();\n        this.initToolbar();\n    }\n\n    destroy() {\n        if (this.tabs) {\n            (this.tabs as any).tabs?.('destroy');\n            this.tabs = null;\n        }\n\n        if (this.toolbar) {\n            this.toolbar.destroy();\n            this.toolbar = null;\n        }\n\n        if (this.validator) {\n            this.byId('Form').remove();\n            this.validator = null;\n        }\n\n        super.destroy();\n    }\n\n    protected tabs: JQuery;\n    protected toolbar: Toolbar;\n    protected validator: JQueryValidation.Validator;\n    protected isPanel: boolean;\n    protected responsive: boolean;\n\n    public arrange(): void {\n        this.element.find('.require-layout').filter(':visible').each(function (i, e) {\n            $(e).triggerHandler('layout');\n        });\n    }\n\n    protected getToolbarButtons(): ToolButton[] {\n        return [];\n    }\n\n    protected getValidatorOptions(): JQueryValidation.ValidationOptions {\n        return {};\n    }\n\n    protected initTabs(): void {\n        var tabsDiv = this.byId('Tabs');\n        if (tabsDiv.length === 0) {\n            return;\n        }\n        this.tabs = (tabsDiv as any).tabs?.({});\n    }\n\n    protected initToolbar(): void {\n        var toolbarDiv = this.byId('Toolbar');\n        if (toolbarDiv.length === 0) {\n            return;\n        }\n        var opt = { buttons: this.getToolbarButtons() };\n        this.toolbar = new Toolbar(toolbarDiv, opt);\n    }\n\n    protected initValidator(): void {\n        var form = this.byId('Form');\n        if (form.length > 0) {\n            var valOptions = this.getValidatorOptions();\n            this.validator = form.validate(validateOptions(valOptions));\n        }\n    }\n\n    protected resetValidation(): void {\n        if (this.validator) {\n            (this.validator as any).resetAll();\n        }\n    }\n\n    protected validateForm(): boolean {\n        return this.validator == null || !!this.validator.form();\n    }\n}","import { Exception, validatorAbortHandler } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport namespace ValidationHelper {\n    export function asyncSubmit(form: JQuery, validateBeforeSave: () => boolean, submitHandler: () => void): boolean {\n        var validator = form.validate();\n        var valSettings = validator.settings;\n        if ((valSettings as any).abortHandler) {\n            return false;\n        }\n        if (validateBeforeSave != null && validateBeforeSave() === false) {\n            return false;\n        }\n        (valSettings as any)['abortHandler'] = validatorAbortHandler;\n        valSettings['submitHandler'] = function () {\n            if (submitHandler != null) {\n                submitHandler();\n            }\n            return false;\n        };\n        form.trigger('submit');\n        return true;\n    }\n\n    export function submit(form: JQuery, validateBeforeSave: () => boolean, submitHandler: () => void): boolean {\n        var validator = form.validate();\n        var valSettings = validator.settings;\n        if ((valSettings as any).abortHandler != null) {\n            return false;\n        }\n        if (validateBeforeSave != null && validateBeforeSave() === false) {\n            return false;\n        }\n        if (!validator.form()) {\n            return false;\n        }\n        if (submitHandler != null) {\n            submitHandler();\n        }\n        return true;\n    }\n\n    export function getValidator(element: JQuery): JQueryValidation.Validator {\n        var form = element.closest('form');\n        if (form.length === 0) {\n            return null;\n        }\n        return form.data('validator');\n    }\n}\n\nexport namespace VX {\n    export function addValidationRule(element: JQuery, eventClass: string, rule: (p1: JQuery) => string): JQuery {\n        if (!element.length)\n        return element;\n        if (rule == null)\n            throw new Exception('rule is null!');\n        element.addClass('customValidate').bind('customValidate.' + eventClass, rule as any);\n        return element;        \n    }\n\n    export function removeValidationRule(element: JQuery, eventClass: string): JQuery {\n        element.unbind('customValidate.' + eventClass);\n        return element;\n    }    \n\n    export function validateElement(validator: JQueryValidation.Validator, widget: Widget<any>): boolean {\n        return validator.element(widget.element[0] as any);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { findElementWithRelativeId, isEmptyOrNull, notifyError } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\n@Decorators.registerClass('Serenity.CascadedWidgetLink')\nexport class CascadedWidgetLink<TParent extends Widget<any>> {\n\n    constructor(private parentType: { new(...args: any[]): TParent },\n        private widget: Widget<any>,\n        private parentChange: (p1: TParent) => void) {\n        this.bind();\n        this.widget.element.bind('remove.' + (widget as any).uniqueName + 'cwh', e => {\n            this.unbind();\n            this.widget = null;\n            this.parentChange = null;\n        });\n    }\n\n    private _parentID: string;\n\n    bind() {\n\n        if (isEmptyOrNull(this._parentID)) {\n            return null;\n        }\n\n        var parent = findElementWithRelativeId(this.widget.element, this._parentID)\n            .tryGetWidget(this.parentType);\n\n        if (parent != null) {\n            parent.element.bind('change.' + (this.widget as any).uniqueName, () => {\n                this.parentChange(parent);\n            });\n            return parent;\n        }\n        else {\n            notifyError(\"Can't find cascaded parent element with ID: \" + this._parentID + '!', '', null);\n            return null;\n        }\n    }\n\n    unbind() {\n\n        if (isEmptyOrNull(this._parentID)) {\n            return null;\n        }\n\n        var parent = findElementWithRelativeId(this.widget.element, this._parentID).tryGetWidget(this.parentType);\n\n        if (parent != null) {\n            parent.element.unbind('.' + (this.widget as any).uniqueName);\n        }\n\n        return parent;\n    }\n\n    get_parentID() {\n        return this._parentID;\n    }\n\n    set_parentID(value: string) {\n\n        if (this._parentID !== value) {\n            this.unbind();\n            this._parentID = value;\n            this.bind();\n        }\n    }\n}\n","export {}\n\nexport namespace TabsExtensions {\n    export function setDisabled(tabs: JQuery, tabKey: string, isDisabled: boolean) {\n        if (!tabs)\n            return;\n\n        var ibk = indexByKey(tabs);\n        if (!ibk)\n            return;\n\n        var index = ibk[tabKey];\n        if (index == null) {\n            return;\n        }\n\n        if (isDisabled && index === (tabs as any).tabs('option', 'active')) {\n            (tabs as any).tabs?.('option', 'active', 0);\n        }\n\n        (tabs as any).tabs?.(isDisabled ? 'disable' : 'enable', index);\n    }\n\n    export function toggle(tabs: JQuery, tabKey: string, visible: boolean) {\n        if (!tabs)\n            return;\n\n        var ibk = indexByKey(tabs);\n        if (!ibk)\n            return;\n\n        var index = ibk[tabKey];\n        if (index == null) {\n            return;\n        }\n\n        if (!visible && index === (tabs as any).tabs?.('option', 'active')) {\n            (tabs as any).tabs?.('option', 'active', 0);\n        }\n\n        tabs.children('ul').children('li').eq(index).toggle(visible);\n    }\n\n    export function activeTabKey(tabs: JQuery) {\n        var href = tabs.children('ul')\n            .children('li')\n            .eq((tabs as any).tabs?.('option', 'active'))\n            .children('a')\n            .attr('href')\n            .toString();\n\n        var prefix = '_Tab';\n        var lastIndex = href.lastIndexOf(prefix);\n        if (lastIndex >= 0) {\n            href = href.substr(lastIndex + prefix.length);\n        }\n        return href;\n    }\n\n    export function indexByKey(tabs: JQuery): any {\n        var indexByKey = tabs.data('indexByKey');\n        if (!indexByKey) {\n            indexByKey = {};\n            tabs.children('ul').children('li').children('a').each(function (index, el) {\n                var href = el.getAttribute('href').toString();\n                var prefix = '_Tab';\n                var lastIndex = href.lastIndexOf(prefix);\n                if (lastIndex >= 0) {\n                    href = href.substr(lastIndex + prefix.length);\n                }\n                indexByKey[href] = index;\n            });\n            tabs.data('indexByKey', indexByKey);\n        }\n\n        return indexByKey;\n    }\n    \n    export function selectTab(tabs: JQuery, tabKey: string) {\n        var ibk = indexByKey(tabs);\n        if (!ibk)\n            return;\n        var index = ibk[tabKey];\n        if (index == null) {\n            return;\n        }\n        if (index !== (tabs as any).tabs?.('option', 'active')) {\n            (tabs as any).tabs?.('option', 'active', index);\n        }\n    }\n}\n","import { DisplayNameAttribute, OptionAttribute } from \"../../decorators\";\nimport { getInstanceType, getMembers, isInstanceOfType, MemberType } from \"../../q\";\nimport { ReflectionUtils } from \"../../types/reflectionutils\";\n\nexport namespace ReflectionOptionsSetter {\n    export function set(target: any, options: any): void {\n        if (options == null) {\n            return;\n        }\n\n        var type = getInstanceType(target);\n\n        if (type === Object) {\n            return;\n        }\n\n        var propByName = type.__propByName;\n        var fieldByName = type.__fieldByName;\n        if (propByName == null) {\n            var props = getMembers(type, MemberType.property);\n            var propList = props.filter(function (x: any) {\n                return !!x.setter && ((x.attr || []).filter(function (a: any) {\n                    return isInstanceOfType(a, OptionAttribute);\n                }).length > 0 || (x.attr || []).filter(function (a: any) {\n                    return isInstanceOfType(a, DisplayNameAttribute);\n                }).length > 0);\n            });\n\n            propByName = {};\n            for (var k of propList) {\n                propByName[ReflectionUtils.makeCamelCase(k.name)] = k;\n            }\n\n            type.__propByName = propByName;\n        }\n\n        if (fieldByName == null) {\n            var fields = getMembers(type, MemberType.field);\n            var fieldList = fields.filter(function (x1: any) {\n                return (x1.attr || []).filter(function (a: any) {\n                    return isInstanceOfType(a, OptionAttribute);\n                }).length > 0 || (x1.attr || []).filter(function (a: any) {\n                    return isInstanceOfType(a, DisplayNameAttribute);\n                }).length > 0;\n            });\n\n            fieldByName = {};\n            for (var $t2 = 0; $t2 < fieldList.length; $t2++) {\n                var k1 = fieldList[$t2];\n                fieldByName[ReflectionUtils.makeCamelCase(k1.name)] = k1;\n            }\n            type.__fieldByName = fieldByName;\n        }\n\n        var keys = Object.keys(options);\n        for (var k2 of keys) {\n            var v = options[k2];\n            var cc = ReflectionUtils.makeCamelCase(k2);\n            var p = propByName[cc] || propByName[k2];\n            if (p != null) {\n                var func = (target[p.setter] as Function);\n                func && func.call(target, v);\n            }\n            else {\n                var f = fieldByName[cc] || fieldByName[k2];\n                f && (target[f.name] = v);\n            }\n        }\n    }\n}","import { IBooleanValue, IDoubleValue, IGetEditValue, IReadOnly, ISetEditValue, IStringValue, IValidateRequired } from \"../../interfaces\";\nimport { cast, isInstanceOfType, isTrimmedEmpty, parseDecimal, PropertyItem, safeCast, localText, tryGetText } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport namespace EditorUtils {\n    export function getDisplayText(editor: Widget<any>): string {\n\n        var select2 = editor.element.data('select2');\n\n        if (select2 != null) {\n            var data = editor.element.select2('data');\n            if (data == null)\n                return '';\n\n            return data.text ?? '';\n        }\n\n        var value = getValue(editor);\n        if (value == null) {\n            return '';\n        }\n\n        if (typeof value === \"string\")\n            return value;\n\n        if (value instanceof Boolean)\n            return (!!value ? (tryGetText('Controls.FilterPanel.OperatorNames.true') ?? 'True') :\n                (tryGetText('Controls.FilterPanel.OperatorNames.true') ?? 'False'));\n\n        return value.toString();\n    }\n\n    var dummy: PropertyItem = { name: '_' };\n\n    export function getValue(editor: Widget<any>): any {\n        var target: Record<string, any> = {};\n        saveValue(editor, dummy, target);\n        return target['_'];\n    }\n\n    export function saveValue(editor: Widget<any>, item: PropertyItem, target: any): void {\n\n        var getEditValue = safeCast(editor, IGetEditValue);\n\n        if (getEditValue != null) {\n            getEditValue.getEditValue(item, target);\n            return;\n        }\n\n        var stringValue = safeCast(editor, IStringValue);\n        if (stringValue != null) {\n            target[item.name] = stringValue.get_value();\n            return;\n        }\n\n        var booleanValue = safeCast(editor, IBooleanValue);\n        if (booleanValue != null) {\n            target[item.name] = booleanValue.get_value();\n            return;\n        }\n\n        var doubleValue = safeCast(editor, IDoubleValue);\n        if (doubleValue != null) {\n            var value = doubleValue.get_value();\n            target[item.name] = (isNaN(value) ? null : value);\n            return;\n        }\n\n        if ((editor as any).getEditValue != null) {\n            (editor as any).getEditValue(item, target);\n            return;\n        }\n\n        if (editor.element.is(':input')) {\n            target[item.name] = editor.element.val();\n            return;\n        }\n    }\n\n    export function setValue(editor: Widget<any>, value: any): void {\n        var source = { _: value };\n        loadValue(editor, dummy, source);\n    }\n\n    export function loadValue(editor: Widget<any>, item: PropertyItem, source: any): void {\n\n        var setEditValue = safeCast(editor, ISetEditValue);\n        if (setEditValue != null) {\n            setEditValue.setEditValue(source, item);\n            return;\n        }\n\n        var stringValue = safeCast(editor, IStringValue);\n        if (stringValue != null) {\n            var value = source[item.name];\n            if (value != null) {\n                value = value.toString();\n            }\n            stringValue.set_value(cast(value, String));\n            return;\n        }\n\n        var booleanValue = safeCast(editor, IBooleanValue);\n        if (booleanValue != null) {\n            var value1 = source[item.name];\n            if (typeof (value1) === 'number') {\n                booleanValue.set_value(value1 > 0);\n            }\n            else {\n                booleanValue.set_value(!!value1);\n            }\n            return;\n        }\n\n        var doubleValue = safeCast(editor, IDoubleValue);\n        if (doubleValue != null) {\n            var d = source[item.name];\n            if (!!(d == null || isInstanceOfType(d, String) && isTrimmedEmpty(cast(d, String)))) {\n                doubleValue.set_value(null);\n            }\n            else if (isInstanceOfType(d, String)) {\n                doubleValue.set_value(cast(parseDecimal(cast(d, String)), Number));\n            }\n            else if (isInstanceOfType(d, Boolean)) {\n                doubleValue.set_value((!!d ? 1 : 0));\n            }\n            else {\n                doubleValue.set_value(cast(d, Number));\n            }\n            return;\n        }\n\n        if ((editor as any).setEditValue != null) {\n            (editor as any).setEditValue(source, item);\n            return;\n        }\n\n        if (editor.element.is(':input')) {\n            var v = source[item.name];\n            if (v == null) {\n                editor.element.val('');\n            }\n            else {\n                editor.element.val(v);\n            }\n            return;\n        }\n    }\n\n    export function setReadonly(elements: JQuery, isReadOnly: boolean): JQuery {\n        elements.each(function (index, el) {\n            var elx = $(el);\n            var type = elx.attr('type');\n            if (elx.is('select') || type === 'radio' || type === 'checkbox') {\n                if (isReadOnly) {\n                    elx.addClass('readonly').attr('disabled', 'disabled');\n                }\n                else {\n                    elx.removeClass('readonly').removeAttr('disabled');\n                }\n            }\n            else if (isReadOnly) {\n                elx.addClass('readonly').attr('readonly', 'readonly');\n            }\n            else {\n                elx.removeClass('readonly').removeAttr('readonly');\n            }\n            return true;\n        });\n        return elements;\n    }\n\n    export function setReadOnly(widget: Widget<any>, isReadOnly: boolean): void {\n\n        var readOnly = safeCast(widget, IReadOnly);\n\n        if (readOnly != null) {\n            readOnly.set_readOnly(isReadOnly);\n        }\n        else if (widget.element.is(':input')) {\n            setReadonly(widget.element, isReadOnly);\n        }\n    }\n\n    export function setRequired(widget: Widget<any>, isRequired: boolean): void {\n        var req = safeCast(widget, IValidateRequired);\n        if (req != null) {\n            req.set_required(isRequired);\n        }\n        else if (widget.element.is(':input')) {\n            widget.element.toggleClass('required', !!isRequired);\n        }\n        var gridField = widget.element.closest('.field');\n        var hasSupItem = gridField.find('sup').get().length > 0;\n        if (isRequired && !hasSupItem) {\n            $('<sup>*</sup>').attr('title', localText('Controls.PropertyGrid.RequiredHint'))\n                .prependTo(gridField.find('.caption')[0]);\n        }\n        else if (!isRequired && hasSupItem) {\n            $(gridField.find('sup')[0]).remove();\n        }\n    }\n\n    export function setContainerReadOnly(container: JQuery, readOnly: boolean) {\n\n        if (!readOnly) {\n\n            if (!container.hasClass('readonly-container'))\n                return;\n\n            container.removeClass('readonly-container').find(\".editor.container-readonly\")\n                .removeClass('container-readonly').each((i, e) => {\n                    var w = $(e).tryGetWidget(Widget);\n                    if (w != null)\n                        EditorUtils.setReadOnly(w, false);\n                    else\n                        EditorUtils.setReadonly($(e), false);\n                });\n\n            return;\n        }\n\n        container.addClass('readonly-container').find(\".editor\")\n            .not('.container-readonly')\n            .each((i, e) => {\n                var w = $(e).tryGetWidget(Widget) as any;\n                if (w != null) {\n\n                    if (w['get_readOnly']) {\n                        if (w['get_readOnly']())\n                            return;\n                    }\n                    else if ($(e).is('[readonly]') || $(e).is('[disabled]') || $(e).is('.readonly') || $(e).is('.disabled'))\n                        return;\n\n                    $(e).addClass('container-readonly');\n                    EditorUtils.setReadOnly(w, true);\n\n                }\n                else {\n                    if ($(e).is('[readonly]') || $(e).is('[disabled]') || $(e).is('.readonly') || $(e).is('.disabled'))\n                        return;\n\n                    EditorUtils.setReadonly($(e).addClass('container-readonly'), true);\n                }\n            });\n    }\n}","import { Decorators, ElementAttribute, OptionsTypeAttribute } from \"../../decorators\";\nimport { any, Authorization, Culture, extend, getAttributes, getTypeShortName, isBS3, isBS5Plus, isEmptyOrNull, PropertyItem, startsWith, localText, trimToEmpty, trimToNull, tryGetText } from \"../../q\";\nimport { EditorTypeRegistry } from \"../../types/editortyperegistry\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { ReflectionOptionsSetter } from \"./reflectionoptionssetter\";\nimport { Widget } from \"./widget\";\n\n@Decorators.registerClass('Serenity.PropertyGrid')\nexport class PropertyGrid extends Widget<PropertyGridOptions> {\n\n    private editors: Widget<any>[];\n    private items: PropertyItem[];\n    declare public readonly idPrefix: string;\n\n    constructor(div: JQuery, opt: PropertyGridOptions) {\n        super(div, opt);\n\n        this.idPrefix = this.options.idPrefix = this.options.idPrefix ?? this.idPrefix;\n\n        if (this.options.mode == null)\n            this.options.mode = 1;\n\n        div.addClass('s-PropertyGrid');\n        this.editors = [];\n        var items = this.options.items || [];\n        this.items = [];\n\n        var useTabs = any(items, function (x) {\n            return !isEmptyOrNull(x.tab);\n        });\n\n        if (useTabs) {\n            var itemsWithoutTab = items.filter(f => isEmptyOrNull(f.tab));\n            if (itemsWithoutTab.length > 0) {\n                this.createItems(this.element, itemsWithoutTab);\n\n                $(\"<div class='pad'></div>\").appendTo(this.element);\n            }\n\n            var itemsWithTab = items.filter(f => !isEmptyOrNull(f.tab));\n\n            var ul = $(\"<ul class='nav nav-tabs property-tabs' role='tablist'></ul>\")\n                .appendTo(this.element);\n\n            var tc = $(\"<div class='tab-content property-panes'></div>\")\n                .appendTo(this.element);\n\n            var tabIndex = 0;\n            var i = 0;\n            while (i < itemsWithTab.length) {\n                var tab = { $: trimToEmpty(itemsWithTab[i].tab) };\n                var tabItems = [];\n\n                var j = i;\n                do {\n                    tabItems.push(itemsWithTab[j]);\n                } while (++j < itemsWithTab.length &&\n                    trimToEmpty(itemsWithTab[j].tab) === tab.$);\n                i = j;\n\n                var li = $(isBS3() ? '<li><a data-toggle=\"tab\" role=\"tab\"></a></li>' :\n                        `<li class=\"nav-item\"><a class=\"nav-link\" data-${isBS5Plus() ? \"bs-\" :  \"\"}toggle=\"tab\" role=\"tab\"></a></li>`)\n                    .appendTo(ul);\n\n                if (tabIndex === 0) {\n                    if (isBS3())\n                        li.addClass('active');\n                    else\n                        li.children('a').addClass('active');\n                }\n\n                var tabID = this.uniqueName + '_Tab' + tabIndex;\n\n                li.children('a').attr('href', '#' + tabID)\n                    .text(this.determineText(tab.$, function (prefix: string) {\n                        return prefix + 'Tabs.' + this.tab.$;\n                    }.bind({\n                        tab: tab\n                    })));\n\n                var pane = $(\"<div class='tab-pane fade' role='tabpanel'>\")\n                    .appendTo(tc);\n\n                if (tabIndex === 0) {\n                    pane.addClass(isBS3() ? 'in active' : 'show active');\n                }\n\n                pane.attr('id', tabID);\n                this.createItems(pane, tabItems);\n                tabIndex++;\n            }\n        }\n        else {\n            this.createItems(this.element, items);\n        }\n\n        this.updateInterface();\n    }\n\n    destroy() {\n        if (this.editors != null) {\n            for (var i = 0; i < this.editors.length; i++) {\n                this.editors[i].destroy();\n            }\n            this.editors = null;\n        }\n        this.element.find('a.category-link').unbind('click',\n            this.categoryLinkClick).remove();\n\n        Widget.prototype.destroy.call(this);\n    }\n\n    private createItems(container: JQuery, items: PropertyItem[]) {\n        var categoryIndexes = {};\n        var categoriesDiv = container;\n\n        var useCategories = this.options.useCategories !== false && any(items, function (x) {\n            return !isEmptyOrNull(x.category);\n        });\n\n        if (useCategories) {\n            var linkContainer = $('<div/>').addClass('category-links');\n            categoryIndexes = this.createCategoryLinks(linkContainer, items);\n            if (Object.keys(categoryIndexes).length > 1) {\n                linkContainer.appendTo(container);\n            }\n            else {\n                linkContainer.find('a.category-link').unbind('click',\n                    this.categoryLinkClick).remove();\n            }\n        }\n\n        categoriesDiv = $('<div/>').addClass('categories').appendTo(container);\n        var fieldContainer;\n        if (useCategories) {\n            fieldContainer = categoriesDiv;\n        }\n        else {\n            fieldContainer = $('<div/>').addClass('category').appendTo(categoriesDiv);\n        }\n        var priorCategory = null;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var category = item.category;\n            if (category == null) {\n                category = this.options.defaultCategory ?? '';\n            }\n\n            if (useCategories && priorCategory !== category) {\n                var categoryDiv = this.createCategoryDiv(categoriesDiv,\n                    categoryIndexes, category,\n                    ((item.collapsible !== true) ? null :\n                        item.collapsed ?? false));\n\n                if (priorCategory == null) {\n                    categoryDiv.addClass('first-category');\n                }\n                priorCategory = category;\n                fieldContainer = categoryDiv;\n            }\n            var editor = this.createField(fieldContainer, item);\n            this.items.push(item);\n            this.editors.push(editor);\n        }\n    }\n\n    private createCategoryDiv(categoriesDiv: JQuery,\n        categoryIndexes: { [key: string]: number }, category: string, collapsed: boolean) {\n\n        var categoryDiv = $('<div/>').addClass('category')\n            .appendTo(categoriesDiv);\n\n        var title = $('<div/>').addClass('category-title')\n            .append($('<a/>').addClass('category-anchor')\n            .text(this.determineText(category, function (prefix) {\n                return prefix + 'Categories.' + category;\n            }))\n            .attr('name', this.idPrefix + \n                'Category' + categoryIndexes[category].toString()))\n            .appendTo(categoryDiv);\n\n        if (collapsed != null) {\n            categoryDiv.addClass(((collapsed === true) ?\n                'collapsible collapsed' : 'collapsible'));\n\n            var img = $('<i/>').addClass(((collapsed === true) ?\n                'fa fa-plus' : 'fa fa-minus')).appendTo(title);\n\n            title.click(function (e) {\n                categoryDiv.toggleClass('collapsed');\n                img.toggleClass('fa-plus').toggleClass('fa-minus');\n            });\n        }\n\n        return categoryDiv;\n    }\n\n    private categoryLinkClick = (e: JQueryEventObject) => {\n        e.preventDefault();\n\n        var title = $('a[name=' + e.target.getAttribute('href')\n            .toString().substr(1) + ']');\n\n        if (title.closest('.category').hasClass('collapsed'))\n            title.closest('.category').children('.category-title').click();\n\n        var animate = function () {\n            if (($.fn as any).fadeTo) {\n                title.fadeTo(100, 0.5, function () {\n                    title.fadeTo(100, 1, function () {\n                    });\n                });\n            }\n        };\n\n        var intoView = title.closest('.category');\n        if (($.fn as any).scrollintoview) {\n            if (intoView.closest(':scrollable(both)').length === 0)\n                animate();\n            else\n                (intoView as any).scrollintoview({\n                    duration: 'fast',\n                    direction: 'y',\n                    complete: animate\n                });\n        }\n        else if (intoView && intoView[0] && intoView[0].scrollIntoView) {\n            intoView[0].scrollIntoView();\n            animate();\n        }\n    }\n\n    private determineText(text: string, getKey: (s: string) => string) {\n        if (text != null && !startsWith(text, '`')) {\n            var local = tryGetText(text);\n            if (local != null) {\n                return local;\n            }\n        }\n\n        if (text != null && startsWith(text, '`')) {\n            text = text.substring(1);\n        }\n\n        if (!isEmptyOrNull(this.options.localTextPrefix)) {\n            var local1 = tryGetText(getKey(this.options.localTextPrefix));\n            if (local1 != null) {\n                return local1;\n            }\n        }\n\n        return text;\n    }\n\n    private createField(container: JQuery, item: PropertyItem) {\n        var fieldDiv = $('<div/>').addClass('field')\n            .addClass(item.name).data('PropertyItem', item).appendTo(container);\n\n        if (!isEmptyOrNull(item.cssClass)) {\n            fieldDiv.addClass(item.cssClass);\n        }\n\n        if (!isEmptyOrNull(item.formCssClass)) {\n            fieldDiv.addClass(item.formCssClass);\n            if (item.formCssClass.indexOf('line-break-') >= 0) {\n                var splitted = item.formCssClass.split(String.fromCharCode(32));\n                if (splitted.indexOf('line-break-xs') >= 0) {\n                    $(\"<div class='line-break' style='width: 100%' />\")\n                        .insertBefore(fieldDiv);\n                }\n                else if (splitted.indexOf('line-break-sm') >= 0) {\n                    $(\"<div class='line-break hidden-xs' style='width: 100%' />\")\n                        .insertBefore(fieldDiv);\n                }\n                else if (splitted.indexOf('line-break-md') >= 0) {\n                    $(\"<div class='line-break hidden-sm' style='width: 100%' />\")\n                        .insertBefore(fieldDiv);\n                }\n                else if (splitted.indexOf('line-break-lg') >= 0) {\n                    $(\"<div class='line-break hidden-md' style='width: 100%' />\")\n                        .insertBefore(fieldDiv);\n                }\n            }\n        }\n        var editorId = this.idPrefix + item.name;\n        var title = this.determineText(item.title, function (prefix) {\n            return prefix + item.name;\n        });\n\n        var hint = this.determineText(item.hint, function (prefix1) {\n            return prefix1 + item.name + '_Hint';\n        });\n\n        var placeHolder = this.determineText(item.placeholder, function (prefix2) {\n            return prefix2 + item.name + '_Placeholder';\n        });\n\n        if (hint == null) {\n            hint = title ?? '';\n        }\n\n        var label = $('<label/>')\n            .addClass('caption')\n            .attr('for', editorId)\n            .attr('title', hint)\n            .text(title ?? '')\n            .appendTo(fieldDiv);\n\n        if (!isEmptyOrNull(item.labelWidth)) {\n            if (item.labelWidth === '0') {\n                label.hide();\n            }\n            else {\n                label.css('width', item.labelWidth);\n            }\n        }\n\n        if (item.required === true) {\n            $('<sup>*</sup>').attr('title',\n                localText('Controls.PropertyGrid.RequiredHint'))\n                .prependTo(label);\n        }\n\n        var editorType = EditorTypeRegistry\n            .get(item.editorType ?? 'String');\n\n        var element = Widget.elementFor(editorType as any)\n            .addClass('editor')\n            .attr('id', editorId).appendTo(fieldDiv);\n\n        if (element.is(':input')) {\n            element.attr('name', item.name ?? '');\n        }\n\n        if (!isEmptyOrNull(placeHolder)) {\n            element.attr('placeholder', placeHolder);\n        }\n        var editorParams = item.editorParams;\n        var optionsType = null;\n        var optionsAttr = getAttributes(editorType,\n            OptionsTypeAttribute, true);\n\n        if (optionsAttr != null && optionsAttr.length > 0) {\n            optionsType = optionsAttr[0].optionsType;\n        }\n        var editor;\n        if (optionsType != null) {\n            editorParams = extend(new optionsType(), item.editorParams);\n            editor = new (editorType as any)(element, editorParams);\n        }\n        else {\n            editorParams = extend(new Object(), item.editorParams);\n            editor = new (editorType as any)(element, editorParams);\n        }\n\n        editor.initialize();\n\n        if (getTypeShortName(editor) == \"BooleanEditor\" &&\n            (item.editorParams == null || !!!item.editorParams['labelFor'])) {\n            label.removeAttr('for');\n        }\n\n        if (getTypeShortName(editor) == \"RadioButtonEditor\" &&\n            (item.editorParams == null || !!!item.editorParams['labelFor'])) {\n            label.removeAttr('for');\n        }\n\n        if (item.maxLength != null) {\n            PropertyGrid.setMaxLength(editor, item.maxLength);\n        }\n\n        if (item.editorParams != null) {\n            ReflectionOptionsSetter.set(editor, item.editorParams);\n        }\n\n        $('<div/>').addClass('vx').appendTo(fieldDiv);\n        $('<div/>').addClass('clear').appendTo(fieldDiv);\n\n        return editor;\n    }\n\n    private getCategoryOrder(items: PropertyItem[]) {\n        var order = 0;\n        var result = {} as any;\n        var categoryOrder = trimToNull(this.options.categoryOrder);\n        if (categoryOrder != null) {\n            var split = categoryOrder.split(';');\n            for (var s of split) {\n                var x = trimToNull(s);\n                if (x == null) {\n                    continue;\n                }\n                if (result[x] as any != null) {\n                    continue;\n                }\n                result[x] = order++;\n            }\n        }\n\n        for (var x1 of items) {\n            var category = x1.category;\n            if (category == null) {\n                category = this.options.defaultCategory ?? '';\n            }\n            if (result[category] == null) {\n                result[category] = order++;\n            }\n        }\n\n        return result;\n    }\n\n    private createCategoryLinks(container: JQuery, items: PropertyItem[]) {\n        var idx = 0;\n        var itemIndex: Record<string, number> = {};\n        var itemCategory: Record<string, string> = {};\n        for (var x of items) {\n            var name1 = x.name;\n            var cat1 = x.category;\n            if (cat1 == null) {\n                cat1 = this.options.defaultCategory ?? '';\n            }\n            itemCategory[name1] = cat1;\n            itemIndex[x.name] = idx++;\n        }\n\n        var self = this;\n        var categoryOrder = this.getCategoryOrder(items);\n\n        items.sort(function (x1, y) {\n            var c = 0;\n            var xcategory = itemCategory[x1.name];\n            var ycategory = itemCategory[y.name];\n            if (xcategory != ycategory) {\n                var c1 = categoryOrder[xcategory];\n                var c2 = categoryOrder[ycategory];\n                if (c1 != null && c2 != null) {\n                    c = c1 - c2;\n                }\n                else if (c1 != null) {\n                    c = -1;\n                }\n                else if (c2 != null) {\n                    c = 1;\n                }\n            }\n            if (c === 0) {\n                c = Culture.stringCompare(xcategory, ycategory);\n            }\n            if (c === 0) {\n                c = itemIndex[x1.name] < itemIndex[y.name] ? -1 : (itemIndex[x1.name] > itemIndex[y.name] ? 1 : 0)\n            }\n            return c;\n        });\n\n        var categoryIndexes: Record<string, number> = {};\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var category = { $: itemCategory[item.name] };\n            if (categoryIndexes[category.$] == null) {\n                var index = Object.keys(categoryIndexes).length + 1;\n                categoryIndexes[category.$] = index;\n                if (index > 1) {\n                    $('<span/>').addClass('separator').text('|').prependTo(container);\n                }\n                $('<a/>').addClass('category-link').text(\n                    this.determineText(category.$,\n                        function (prefix: string) {\n                            return prefix + 'Categories.' + this.category.$;\n                        }.bind({ category: category })))\n                    .attr('tabindex', '-1')\n                    .attr('href', '#' + this.idPrefix +\n                        'Category' + index.toString())\n                    .click(this.categoryLinkClick)\n                    .prependTo(container);\n            }\n        }\n\n        $('<div/>').addClass('clear').appendTo(container);\n        return categoryIndexes;\n    }\n\n    get_editors(): Widget<any>[] {\n        return this.editors;\n    }\n\n    get_items(): PropertyItem[] {\n        return this.items;\n    }\n\n    get_idPrefix(): string {\n        return this.idPrefix;\n    }\n\n    get_mode(): PropertyGridMode {\n        return this.options.mode;\n    }\n\n    set_mode(value: PropertyGridMode) {\n        if(this.options.mode !== value) {\n            this.options.mode = value;\n            this.updateInterface();\n        }\n    }\n\n    // Obsolete\n    static loadEditorValue(editor: Widget<any>,\n        item: PropertyItem, source: any): void {\n    }\n\n    // Obsolete\n    static saveEditorValue(editor: Widget<any>,\n        item: PropertyItem, target: any): void {\n\n        EditorUtils.saveValue(editor, item, target);\n    }\n\n    // Obsolete\n    private static setReadOnly(widget: Widget<any>, isReadOnly: boolean): void {\n        EditorUtils.setReadOnly(widget, isReadOnly);\n    }\n\n    // Obsolete\n    private static setReadonly(elements: JQuery, isReadOnly: boolean): JQuery {\n        return EditorUtils.setReadonly(elements, isReadOnly);\n    }\n\n    // Obsolete\n    private static setRequired(widget: Widget<any>, isRequired: boolean): void {\n        EditorUtils.setRequired(widget, isRequired);\n    }\n\n    private static setMaxLength(widget: Widget<any>, maxLength: number) {\n        if (widget.element.is(':input')) {\n            if (maxLength > 0) {\n                widget.element.attr('maxlength', maxLength);\n            }\n            else {\n                widget.element.removeAttr('maxlength');\n            }\n        }\n    }\n\n    load(source: any): void {\n        for (var i = 0; i < this.editors.length; i++) {\n            var item = this.items[i];\n            var editor = this.editors[i];\n            if (!!(this.get_mode() === 1 && item.defaultValue != null) &&\n                typeof (source[item.name]) === 'undefined') {\n                source[item.name] = item.defaultValue;\n            }\n\n            EditorUtils.loadValue(editor, item, source);\n        }\n    }\n\n    save(target?: any): any {\n        if (target == null)\n            target = Object.create(null);\n        for (var i = 0; i < this.editors.length; i++) {\n            var item = this.items[i];\n            if (item.oneWay !== true && this.canModifyItem(item)) {\n                var editor = this.editors[i];\n                EditorUtils.saveValue(editor, item, target);\n            }\n        }\n        return target;\n    }\n\n    public get value(): any {\n        return this.save();\n    }\n\n    public set value(val: any) {\n        if (val == null)\n            val = Object.create(null);\n        this.load(val);\n    }\n\n    private canModifyItem(item: PropertyItem) {\n        if (this.get_mode() === PropertyGridMode.insert) {\n            if (item.insertable === false) {\n                return false;\n            }\n\n            if (item.insertPermission == null) {\n                return true;\n            }\n\n            return Authorization.hasPermission(item.insertPermission);\n        }\n        else if (this.get_mode() === PropertyGridMode.update) {\n            if (item.updatable === false) {\n                return false;\n            }\n\n            if (item.updatePermission == null) {\n                return true;\n            }\n\n            return Authorization.hasPermission(item.updatePermission);\n        }\n        return true;\n    }\n\n    updateInterface() {\n        for (var i = 0; i < this.editors.length; i++) {\n            var item = this.items[i];\n            var editor = this.editors[i];\n            var readOnly = item.readOnly === true || !this.canModifyItem(item);\n            EditorUtils.setReadOnly(editor, readOnly);\n            EditorUtils.setRequired(editor, !readOnly &&\n                !!item.required && item.editorType !== 'Boolean');\n            if (item.visible === false || item.readPermission != null ||\n                item.insertPermission != null || item.updatePermission != null ||\n                item.hideOnInsert === true || item.hideOnUpdate === true) {\n                var hidden = (item.readPermission != null &&\n                    !Authorization.hasPermission(item.readPermission)) ||\n                    item.visible === false ||\n                    (this.get_mode() === PropertyGridMode.insert && item.hideOnInsert === true) ||\n                    (this.get_mode() === 2 && item.hideOnUpdate === true);\n\n                editor.getGridField().toggle(!hidden);\n            }\n        }\n    }\n\n    enumerateItems(callback: (p1: PropertyItem, p2: Widget<any>) => void): void {\n        for (var i = 0; i < this.editors.length; i++) {\n            var item = this.items[i];\n            var editor = this.editors[i];\n            callback(item, editor);\n        }\n    }\n}\n\nexport enum PropertyGridMode {\n    insert = 1,\n    update = 2\n}\n\nexport interface PropertyGridOptions {\n    idPrefix?: string;\n    items?: PropertyItem[];\n    useCategories?: boolean;\n    categoryOrder?: string;\n    defaultCategory?: string;\n    localTextPrefix?: string;\n    mode?: PropertyGridMode;\n}","import { Decorators, FormKeyAttribute } from \"../../decorators\";\nimport { endsWith, getAttributes, getForm, getInstanceType, getTypeFullName, PropertyItem } from \"../../q\";\nimport { PropertyGrid, PropertyGridOptions } from \"./propertygrid\";\nimport { TemplatedPanel } from \"./templatedpanel\";\n\n@Decorators.registerClass('Serenity.PropertyPanel')\nexport class PropertyPanel<TItem, TOptions> extends TemplatedPanel<TOptions> {\n\n    private _entity: TItem;\n    private _entityId: any;\n\n    constructor(container: JQuery, options?: TOptions) {\n        super(container, options);\n\n        this.initPropertyGrid();\n        this.loadInitialEntity();\n    }\n\n    destroy() {\n        if (this.propertyGrid) {\n            this.propertyGrid.destroy();\n            this.propertyGrid = null;\n        }\n        if (this.validator) {\n            this.byId('Form').remove();\n            this.validator = null;\n        }\n        super.destroy();\n    }\n\n    protected initPropertyGrid() {\n        var pgDiv = this.byId('PropertyGrid');\n        if (pgDiv.length <= 0) {\n            return;\n        }\n        var pgOptions = this.getPropertyGridOptions();\n        this.propertyGrid = (new PropertyGrid(pgDiv, pgOptions)).init(null);\n        if (this.element.closest('.ui-Panel').hasClass('s-Flexify')) {\n            this.propertyGrid.element.children('.categories').flexHeightOnly(1);\n        }\n    }\n\n    protected loadInitialEntity(): void {\n        if (this.propertyGrid) {\n            this.propertyGrid.load(new Object());\n        }\n    }\n\n    protected getFormKey(): string {\n        var attributes = getAttributes(\n            getInstanceType(this), FormKeyAttribute, true);\n\n        if (attributes.length >= 1) {\n            return attributes[0].value;\n        }\n        var name = getTypeFullName(getInstanceType(this));\n        var px = name.indexOf('.');\n        if (px >= 0) {\n            name = name.substring(px + 1);\n        }\n        if (endsWith(name, 'Panel')) {\n            name = name.substr(0, name.length - 6);\n        }\n        else if (endsWith(name, 'Panel')) {\n            name = name.substr(0, name.length - 5);\n        }\n        return name;\n    }\n\n    protected getPropertyGridOptions(): PropertyGridOptions {\n        return {\n            idPrefix: this.idPrefix,\n            items: this.getPropertyItems(),\n            mode: 1,\n            useCategories: false,\n            localTextPrefix: 'Forms.' + this.getFormKey() + '.'\n        };\n    }\n\n    protected getPropertyItems(): PropertyItem[] {\n        var formKey = this.getFormKey();\n        return getForm(formKey);\n    }\n\n    protected getSaveEntity(): TItem {\n        var entity = new Object();\n        if (this.propertyGrid) {\n            this.propertyGrid.save(entity);\n        }\n        return entity as TItem;\n    }\n\n    protected get_entity(): TItem {\n        return this._entity;\n    }\n\n    protected get_entityId(): any {\n        return this._entityId;\n    }\n    \n    protected set_entity(value: TItem): void {\n        this._entity = value ?? new Object() as any;\n    }\n\n    protected set_entityId(value: any): void {\n        this._entityId = value;\n    }\n\n    protected validateBeforeSave(): boolean {\n        return this.validator.form();\n    }\n\n    protected propertyGrid: PropertyGrid;\n}","import { DataChangeInfo } from \"../../types/datachangeinfo\";\nimport { Widget } from \"../widgets/widget\";\n\nexport namespace SubDialogHelper {\n    export function bindToDataChange(dialog: any, owner: Widget<any>,\n        dataChange: (p1: any, p2: DataChangeInfo) => void, useTimeout?: boolean): any {\n        var widgetName = (owner as any).widgetName;\n        dialog.element.bind('ondatachange.' + widgetName, function (e: JQueryEventObject, dci: any) {\n            if (useTimeout) {\n                window.setTimeout(function () {\n                    dataChange(e, dci);\n                }, 0);\n            }\n            else {\n                dataChange(e, dci);\n            }\n        }).bind('remove.' + widgetName, function () {\n            dialog.element.unbind('ondatachange.' + widgetName);\n        });\n        return dialog;\n    }\n\n    export function triggerDataChange(dialog: Widget<any>): any {\n        dialog.element.triggerHandler('ondatachange');\n        return dialog;\n    }\n\n    export function triggerDataChanged(element: JQuery): JQuery {\n        element.triggerHandler('ondatachange');\n        return element;\n    }\n\n    export function bubbleDataChange(dialog: any, owner: Widget<any>, useTimeout?: boolean): any {\n        return bindToDataChange(dialog, owner, function (e, dci) {\n            owner.element.triggerHandler('ondatachange');\n        }, useTimeout);\n    }\n\n    export function cascade(cascadedDialog: any, ofElement: JQuery): any {\n        cascadedDialog.element.one('dialogopen', function (e: JQueryEventObject) {\n            cascadedDialog.element.dialog().dialog('option', 'position', cascadedDialogOffset(ofElement));\n        });\n        return cascadedDialog;\n    }\n\n    export function cascadedDialogOffset(element: JQuery): any {\n        return { my: 'left top', at: 'left+20 top+20', of: element[0] };\n    }\n}","import { Decorators, FormKeyAttribute } from \"../../decorators\";\nimport { DialogButton, endsWith, getAttributes, getForm, getFormData, getFormDataAsync, getInstanceType, getTypeFullName, isEmptyOrNull, PropertyItem, PropertyItemsData, ScriptData, localText } from \"../../q\";\nimport { PropertyGrid, PropertyGridOptions } from \"../widgets/propertygrid\";\nimport { TemplatedDialog } from \"./templateddialog\";\n\n@Decorators.registerClass('Serenity.PropertyDialog')\nexport class PropertyDialog<TItem, TOptions> extends TemplatedDialog<TOptions> {\n    protected entity: TItem;\n    protected entityId: any;\n    protected propertyItemsData: PropertyItemsData;\n\n    constructor(opt?: TOptions) {\n        super(opt);\n\n        if (this.useAsync())\n            this.initAsync();\n        else \n            this.initSync();        \n    }\n\n    internalInit() {\n        this.initPropertyGrid();\n        this.loadInitialEntity();\n    }\n\n    protected initSync() {\n        this.propertyItemsData = this.getPropertyItemsData();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected async initAsync() {\n        this.propertyItemsData = await this.getPropertyItemsDataAsync();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected afterInit() {\n    }    \n\n    protected useAsync() {\n        return false;\n    }\n\n    destroy() {\n        if (this.propertyGrid) {\n            this.propertyGrid.destroy();\n            this.propertyGrid = null;\n        }\n\n        if (this.validator) {\n            this.byId('Form').remove();\n            this.validator = null;\n        }\n\n        super.destroy();\n    }\n\n    protected getDialogOptions() {\n        var opt = super.getDialogOptions();\n        opt.width = 400;\n        return opt;\n    }\n\n    protected getDialogButtons() {\n        super.getDialogButtons();\n        return <DialogButton[]>[{\n            text: localText('Dialogs.OkButton'),\n            cssClass: \"btn btn-primary\",\n            click: () => this.okClick()\n        }, {\n            text: localText('Dialogs.CancelButton'),\n            click: () => this.cancelClick()\n        }];\n    }\n\n    protected okClick() {\n        if (!this.validateBeforeSave()) {\n            return;\n        }\n\n        this.okClickValidated();\n    }\n\n    protected okClickValidated() {\n        this.dialogClose();\n    }\n\n    protected cancelClick() {\n        this.dialogClose();\n    }\n\n    protected initPropertyGrid() {\n        var pgDiv = this.byId('PropertyGrid');\n        if (pgDiv.length <= 0) {\n            return;\n        }\n        var pgOptions = this.getPropertyGridOptions();\n        this.propertyGrid = (new PropertyGrid(pgDiv, pgOptions)).init(null);\n        if (this.element.closest('.ui-dialog').hasClass('s-Flexify')) {\n            this.propertyGrid.element.children('.categories').flexHeightOnly(1);\n        }\n    }\n\n    protected getFormKey(): string {\n        var attributes = getAttributes(\n            getInstanceType(this), FormKeyAttribute, true);\n        if (attributes.length >= 1) {\n            return attributes[0].value;\n        }\n        else {\n            var name = getTypeFullName(getInstanceType(this));\n            var px = name.indexOf('.');\n            if (px >= 0) {\n                name = name.substring(px + 1);\n            }\n            if (endsWith(name, 'Dialog')) {\n                name = name.substr(0, name.length - 6);\n            }\n            else if (endsWith(name, 'Panel')) {\n                name = name.substr(0, name.length - 5);\n            }\n            return name;\n        }\n    }\n\n    protected getPropertyGridOptions(): PropertyGridOptions {\n        return {\n            idPrefix: this.idPrefix,\n            items: this.getPropertyItems(),\n            mode: 1,\n            useCategories: false,\n            localTextPrefix: 'Forms.' + this.getFormKey() + '.'\n        };\n    }\n\n    protected getPropertyItems() {\n        return this.propertyItemsData?.items || [];\n    }\n\n    protected getPropertyItemsData(): PropertyItemsData {\n        var formKey = this.getFormKey();\n\n        if (this.getFormKey === PropertyDialog.prototype.getFormKey &&\n            this.getPropertyItems !== PropertyDialog.prototype.getPropertyItems &&\n            !ScriptData.canLoad('Form.' + formKey)) {\n            return {\n                items: this.getPropertyItems(),\n                additionalItems: []\n            }\n        }\n\n        if (!isEmptyOrNull(formKey)) {\n            return getFormData(formKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }\n\n    protected async getPropertyItemsDataAsync(): Promise<PropertyItemsData> {\n        var formKey = this.getFormKey();\n        if (!isEmptyOrNull(formKey)) {\n            return await getFormDataAsync(formKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }\n\n    protected getSaveEntity(): TItem {\n        var entity = new Object();\n        if (this.propertyGrid) {\n            this.propertyGrid.save(entity);\n        }\n        return entity as TItem;\n    }\n\n    protected loadInitialEntity(): void {\n        this.propertyGrid && this.propertyGrid.load(new Object());\n    }\n\n    protected get_entity() {\n        return this.entity;\n    }\n\n    protected set_entity(value: TItem) {\n        this.entity = (value ?? new Object()) as any;\n    }\n\n    protected get_entityId() {\n        return this.entityId;\n    }\n\n    protected set_entityId(value: any): void {\n        this.entityId = value;\n    }\n\n    protected validateBeforeSave(): boolean {\n        return this.validator.form();\n    }\n\n    protected updateTitle() {\n    }\n\n    protected propertyGrid: PropertyGrid;\n\n    protected getFallbackTemplate() {\n        return `<div>\n    <div class=\"s-Form\">\n        <form id=\"~_Form\" action=\"\">\n            <div class=\"fieldset\">\n                <div id=\"~_PropertyGrid\"></div>\n                <div class=\"clear\"></div>\n            </div>\n        </form> \n    </div>\n</div>`;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { Widget } from \"../widgets/widget\";\n\n@Decorators.registerEditor('Serenity.StringEditor', [IStringValue])\n@Decorators.element(\"<input type=\\\"text\\\"/>\")\nexport class StringEditor extends Widget<any> {\n\n    constructor(input: JQuery) {\n        super(input);\n    }\n\n    public get value(): string {\n        return this.element.val();\n    }\n\n    protected get_value(): string {\n        return this.value;\n    }\n\n    public set value(value: string) {\n        this.element.val(value);\n    }\n\n    protected set_value(value: string): void {\n        this.value = value;\n    }\n}\n","import { Decorators } from \"../../decorators\";\nimport { StringEditor } from \"./stringeditor\";\n\n@Decorators.registerEditor('Serenity.PasswordEditor')\nexport class PasswordEditor extends StringEditor {\n    constructor(input: JQuery) {\n        super(input);\n\n        input.attr('type', 'password');\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface TextAreaEditorOptions {\n    cols?: number;\n    rows?: number;\n}\n\n@Decorators.registerEditor('Serenity.TextAreaEditor', [IStringValue])\n@Decorators.element(\"<textarea />\")\nexport class TextAreaEditor extends Widget<TextAreaEditorOptions> {\n\n    constructor(input: JQuery, opt?: TextAreaEditorOptions) {\n        super(input, opt);\n\n        if (this.options.cols !== 0) {\n            input.attr('cols', (this.options.cols ?? 80));\n        }\n        if (this.options.rows !== 0) {\n            input.attr('rows', (this.options.rows ?? 6));\n        }\n    }\n\n    public get value(): string {\n        return this.element.val();\n    }\n\n    protected get_value(): string {\n        return this.value;\n    }\n\n    public set value(value: string) {\n        this.element.val(value);\n    }\n\n    protected set_value(value: string): void {\n        this.value = value;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IBooleanValue } from \"../../interfaces\";\nimport { Widget } from \"../widgets/widget\";\n\n@Decorators.registerEditor('Serenity.BooleanEditor', [IBooleanValue])\n@Decorators.element('<input type=\"checkbox\"/>')\nexport class BooleanEditor extends Widget<any> {\n\n    public get value(): boolean {\n        return this.element.is(\":checked\");\n    }\n\n    protected get_value(): boolean {\n        return this.value;\n    }\n\n    public set value(value: boolean) {\n        this.element.prop(\"checked\", !!value);\n    }\n\n    protected set_value(value: boolean): void {\n        this.value = value;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IDoubleValue } from \"../../interfaces\";\nimport { Culture, extend, formatNumber, parseDecimal } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface DecimalEditorOptions {\n    minValue?: string;\n    maxValue?: string;\n    decimals?: any;\n    padDecimals?: any;\n    allowNegatives?: boolean;\n}\n\n@Decorators.registerEditor('Serenity.DecimalEditor', [IDoubleValue])\n@Decorators.element('<input type=\"text\"/>')\nexport class DecimalEditor extends Widget<DecimalEditorOptions> implements IDoubleValue {\n\n    constructor(input: JQuery, opt?: DecimalEditorOptions) {\n        super(input, opt);\n\n        input.addClass('decimalQ');\n        var numericOptions = extend(DecimalEditor.defaultAutoNumericOptions(), {\n            vMin: (this.options.minValue ?? (this.options.allowNegatives ? (this.options.maxValue != null ? (\"-\" + this.options.maxValue) : '-999999999999.99') : '0.00')),\n            vMax: (this.options.maxValue ?? '999999999999.99')\n        });\n\n        if (this.options.decimals != null) {\n            numericOptions.mDec = this.options.decimals;\n        }\n\n        if (this.options.padDecimals != null) {\n            numericOptions.aPad = this.options.padDecimals;\n        }\n\n        if (($.fn as any).autoNumeric)\n            (input as any).autoNumeric(numericOptions);\n    }\n\n    get_value(): number {\n        if (($.fn as any).autoNumeric) {\n            var val = (this.element as any).autoNumeric('get');\n\n            if (!!(val == null || val === ''))\n                return null;\n\n            return parseFloat(val);\n        }\n\n        var val = this.element.val();\n        return parseDecimal(val);\n    }\n\n    get value(): number {\n        return this.get_value();\n    }\n\n    set_value(value: number) {\n        if (value == null || (value as any) === '') {\n            this.element.val('');\n        }\n        else if (($.fn as any).autoNumeric) {\n            (this.element as any).autoNumeric('set', value);\n        }\n        else\n            this.element.val(formatNumber(value));\n    }\n\n    set value(v: number) {\n        this.set_value(v);\n    }\n\n    get_isValid(): boolean {\n        return !isNaN(this.get_value());\n    }\n\n    static defaultAutoNumericOptions(): any {\n        return {\n            aDec: Culture.decimalSeparator,\n            altDec: ((Culture.decimalSeparator === '.') ? ',' : '.'),\n            aSep: ((Culture.decimalSeparator === '.') ? ',' : '.'),\n            aPad: true\n        };\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IDoubleValue } from \"../../interfaces\";\nimport { extend, formatNumber, isTrimmedEmpty, parseInteger, trimToNull } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\nimport { DecimalEditor } from \"./decimaleditor\";\n\nexport interface IntegerEditorOptions {\n    minValue?: number;\n    maxValue?: number;\n    allowNegatives?: boolean;\n}\n\n@Decorators.registerEditor('Serenity.IntegerEditor', [IDoubleValue])\n@Decorators.element('<input type=\"text\"/>')\nexport class IntegerEditor extends Widget<IntegerEditorOptions> implements IDoubleValue {\n\n    constructor(input: JQuery, opt?: IntegerEditorOptions) {\n        super(input, opt);\n\n        input.addClass('integerQ');\n        var numericOptions = extend(DecimalEditor.defaultAutoNumericOptions(),\n            {\n                vMin: (this.options.minValue ?? this.options.allowNegatives ? (this.options.maxValue != null ? (\"-\" + this.options.maxValue) : '-2147483647') : '0'),\n                vMax: (this.options.maxValue ?? 2147483647),\n                aSep: null\n            });\n\n        if (($.fn as any).autoNumeric)\n            (input as any).autoNumeric(numericOptions);\n    }\n\n    get_value(): number {\n        if (($.fn as any).autoNumeric) {\n            var val = (this.element as any).autoNumeric('get') as string;\n            if (!!isTrimmedEmpty(val))\n                return null;\n            else \n                return parseInt(val, 10);\n        } \n        else {\n            var val = trimToNull(this.element.val());\n            if (val == null)\n                return null;\n            return parseInteger(val)\n        }\n\n    }\n\n    get value(): number {\n        return this.get_value();\n    }\n\n    set_value(value: number) {\n        if (value == null || (value as any) === '')\n            this.element.val('');\n        else if (($.fn as any).autoNumeric)\n            (this.element as any).autoNumeric('set', value);\n        else\n            this.element.val(formatNumber(value));\n    }\n\n    set value(v: number) {\n        this.set_value(v);\n    }\n\n    get_isValid(): boolean {\n        return !isNaN(this.get_value());\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IReadOnly, IStringValue } from \"../../interfaces\";\nimport { addValidationRule, Culture, format, formatDate, Invariant, isEmptyOrNull, parseDate, parseISODateTime, replaceAll, localText, today } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport let datePickerIconSvg = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 17 17\"><g></g><path d=\"M14 2v-1h-3v1h-5v-1h-3v1h-3v15h17v-15h-3zM12 2h1v2h-1v-2zM4 2h1v2h-1v-2zM16 16h-15v-8.921h15v8.921zM1 6.079v-3.079h2v2h3v-2h5v2h3v-2h2v3.079h-15z\" fill=\"currentColor\"></path></svg>';\n\n@Decorators.registerEditor('Serenity.DateEditor', [IStringValue, IReadOnly])\n@Decorators.element('<input type=\"text\"/>')\nexport class DateEditor extends Widget<any> implements IStringValue, IReadOnly {\n\n    private minValue: string;\n    private maxValue: string;\n\n    constructor(input: JQuery) {\n        super(input);\n\n        // @ts-ignore\n        if (typeof flatpickr !== \"undefined\" && (DateEditor.useFlatpickr || !$.fn.datepicker)) {\n            // @ts-ignore\n            flatpickr(input[0], DateEditor.flatPickrOptions(input));\n        }\n        else if (($.fn as any)?.datepicker) {\n            (input as any).datepicker({\n                showOn: 'button',\n                beforeShow: (inp: any, inst: any) => {\n                    if (input.hasClass('readonly') as any)\n                        return false as any;\n                    DateEditor.uiPickerZIndexWorkaround(this.element);\n                    return true;\n                },\n                yearRange: (this.yearRange ?? '-100:+50')\n            });\n\n        }\n        else {\n            input.attr('type', 'date');\n        }\n\n        input.on('keyup.' + this.uniqueName, e => {\n            if (e.which === 32 && !this.get_readOnly()) {\n                if (this.get_valueAsDate() != today()) {\n                    this.set_valueAsDate(today());\n                    this.element.trigger('change');\n                }\n            }\n            else {\n                DateEditor.dateInputKeyup(e);\n            }\n        });\n\n        input.on('change.' + this.uniqueName, DateEditor.dateInputChange);\n\n        addValidationRule(input, this.uniqueName, e1 => {\n            var value = this.get_value();\n            if (isEmptyOrNull(value)) {\n                return null;\n            }\n\n            if (!isEmptyOrNull(this.get_minValue()) && Invariant.stringCompare(formatDate(value, 'yyyy-MM-dd'), formatDate(this.get_minValue(), 'yyyy-MM-dd')) < 0) {\n                return format(localText('Validation.MinDate'), formatDate(this.get_minValue(), null));\n            }\n\n            if (!isEmptyOrNull(this.get_maxValue()) && Invariant.stringCompare(formatDate(value, 'yyyy-MM-dd'), formatDate(this.get_maxValue(), 'yyyy-MM-dd')) > 0) {\n                return format(localText('Validation.MaxDate'), formatDate(this.get_maxValue(), null));\n            }\n\n            return null;\n        });\n\n        this.set_sqlMinMax(true)\n    }\n\n    public static useFlatpickr: boolean;\n\n    public static flatPickrOptions(input: JQuery) {\n        return {\n            clickOpens: true,\n            allowInput: true,\n            dateFormat: Culture.dateOrder.split('').join(Culture.dateSeparator).replace('y', 'Y'),\n            onChange: function() {\n                input.triggerHandler('change');\n            }\n        }\n    }\n\n    get_value(): string {\n        var value = this.element.val()?.trim();\n        if (!value?.length) {\n            return null;\n        }\n\n        return formatDate(value, 'yyyy-MM-dd');\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string) {\n        if (value == null) {\n            this.element.val('');\n        }\n        else if (value.toLowerCase() === 'today' || value.toLowerCase() === 'now') {\n            this.element.val(formatDate(today(), this.element.attr('type') === 'date' ? 'yyyy-MM-dd' : null));\n        }\n        else {\n            this.element.val(formatDate(value, this.element.attr('type') === 'date' ? 'yyyy-MM-dd' : null));\n        }\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    private get_valueAsDate(): Date {\n        if (isEmptyOrNull(this.get_value())) {\n            return null;\n        }\n\n        return parseISODateTime(this.get_value());\n    }\n\n    get valueAsDate(): Date {\n        return this.get_valueAsDate();\n    }\n\n    private set_valueAsDate(value: Date): void {\n        if (value == null) {\n            this.set_value(null);\n        }\n\n        this.set_value(formatDate(value, 'yyyy-MM-dd'));\n    }\n\n    set valueAsDate(v: Date) {\n        this.set_valueAsDate(v);\n    }\n\n    get_readOnly(): boolean {\n        return this.element.hasClass('readonly');\n    }\n\n    set_readOnly(value: boolean): void {\n\n        if (value !== this.get_readOnly()) {\n            if (value) {\n                this.element.addClass('readonly').attr('readonly', 'readonly');\n                this.element.nextAll('.ui-datepicker-trigger').css('opacity', '0.1');\n            }\n            else {\n                this.element.removeClass('readonly').removeAttr('readonly');\n                this.element.nextAll('.ui-datepicker-trigger').css('opacity', '1');\n            }\n        }\n    }\n\n    @Decorators.option()\n    public yearRange: string;\n\n    @Decorators.option()\n    get_minValue(): string {\n        return this.minValue;\n    }\n\n    set_minValue(value: string) {\n        this.minValue = value;\n    }\n\n    @Decorators.option()\n    get_maxValue(): string {\n        return this.maxValue;\n    }\n\n    set_maxValue(value: string): void {\n        this.maxValue = value;\n    }\n\n    get_minDate(): Date {\n        return parseISODateTime(this.get_minValue());\n    }\n\n    set_minDate(value: Date): void {\n        this.set_minValue(formatDate(value, 'yyyy-MM-dd'));\n    }\n\n    @Decorators.option()\n    get_maxDate(): Date {\n        return parseISODateTime(this.get_maxValue());\n    }\n\n    set_maxDate(value: Date) {\n        this.set_maxValue(formatDate(value, 'yyyy-MM-dd'));\n    }\n\n    @Decorators.option()\n    get_sqlMinMax(): boolean {\n        return this.get_minValue() === '1753-01-01' && this.get_maxValue() === '9999-12-31';\n    }\n\n    set_sqlMinMax(value: boolean) {\n        if (value) {\n            this.set_minValue('1753-01-01');\n            this.set_maxValue('9999-12-31');\n        }\n        else {\n            this.set_minValue(null);\n            this.set_maxValue(null);\n        }\n    }\n\n    static dateInputChange = function (e: JQueryEventObject) {\n        if (Culture.dateOrder !== 'dmy') {\n            return;\n        }\n        var input = $(e.target);\n        if (!input.is(':input') || input.attr(\"type\") == \"date\") {\n            return;\n        }\n        var val = input.val() ?? '';\n        var x = {};\n        if (val.length >= 6 && /^[0-9]*$/g.test(val)) {\n            input.val(val.substr(0, 2) + Culture.dateSeparator + val.substr(2, 2) + Culture.dateSeparator + val.substr(4));\n        }\n        val = input.val() ?? '';\n        if (val.length >= 5) {\n            var d = parseDate(val);\n            if (d && !isNaN(d.valueOf())) {\n                input.val(formatDate(d, null));\n            }\n        }\n    };\n\n    static flatPickrTrigger(input: JQuery): JQuery {\n        return $('<i class=\"ui-datepicker-trigger\" href=\"javascript:;\">' + datePickerIconSvg + '</i>')\n            .insertAfter(input)\n            .click(() => {\n                if (!input.hasClass('readonly'))\n                    (input[0] as any)._flatpickr.open();\n            });\n    }\n\n    static dateInputKeyup(e: JQueryEventObject) {\n\n        if (Culture.dateOrder !== 'dmy') {\n            return;\n        }\n\n        var input = $(e.target);\n        if (!input.is(':input') || input.attr(\"type\") == \"date\") {\n            // for browser date editors, format might not match culture setting\n            return;\n        }\n\n        if (input.is('[readonly]') || input.is(':disabled')) {\n            return;\n        }\n\n        var val: string = input.val() ?? '';\n        if (!!(val.length === 0 || (input[0] as any).selectionEnd !== val.length)) {\n            return;\n        }\n\n        if (val.indexOf(Culture.dateSeparator + Culture.dateSeparator) !== -1) {\n            input.val(replaceAll(val, Culture.dateSeparator + Culture.dateSeparator,\n                Culture.dateSeparator));\n            return;\n        }\n\n        function isNumeric(c: number): boolean {\n            return c >= 48 && c <= 57;\n        }\n\n        if (e.which === 47 || e.which === 111) {\n\n            if (val.length >= 2 && val.charAt(val.length - 1) === Culture.dateSeparator &&\n                val.charAt(val.length - 2) === Culture.dateSeparator) {\n                input.val(val.substr(0, val.length - 1));\n                return;\n            }\n\n            if (val.charAt(val.length - 1) !== Culture.dateSeparator) {\n                return;\n            }\n\n            switch (val.length) {\n                case 2: {\n                    if (isNumeric(val.charCodeAt(0))) {\n                        val = '0' + val;\n                        break;\n                    }\n                    else {\n                        return;\n                    }\n                }\n\n                case 4: {\n                    if (isNumeric(val.charCodeAt(0)) &&\n                        isNumeric(val.charCodeAt(2)) &&\n                        val.charAt(1) == Culture.dateSeparator) {\n                        val = '0' + val.charAt(0) + Culture.dateSeparator + '0' +\n                            val.charAt(2) + Culture.dateSeparator;\n                        break;\n                    }\n                    else {\n                        return;\n                    }\n                }\n\n                case 5: {\n                    if (isNumeric(val.charCodeAt(0)) &&\n                        isNumeric(val.charCodeAt(2)) &&\n                        isNumeric(val.charCodeAt(3)) &&\n                        val.charAt(1) === Culture.dateSeparator) {\n                        val = '0' + val;\n                        break;\n                    }\n                    else if (isNumeric(val.charCodeAt(0)) &&\n                        isNumeric(val.charCodeAt(1)) &&\n                        isNumeric(val.charCodeAt(3)) &&\n                        val.charAt(2) === Culture.dateSeparator) {\n                        val = val.charAt(0) + val.charAt(1) +\n                            Culture.dateSeparator + '0' + val.charAt(3) + Culture.dateSeparator;\n                        break;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                default: {\n                    return;\n                }\n            }\n            input.val(val);\n        }\n\n        if (val.length < 6 && (e.which >= 48 && e.which <= 57 || e.which >= 96 && e.which <= 105) &&\n            isNumeric(val.charCodeAt(val.length - 1))) {\n            switch (val.length) {\n                case 1: {\n                    if (val.charCodeAt(0) <= 51) {\n                        return;\n                    }\n                    val = '0' + val;\n                    break;\n                }\n\n                case 2: {\n                    if (!isNumeric(val.charCodeAt(0))) {\n                        return;\n                    }\n                    break;\n                }\n\n                case 3: {\n                    if (!isNumeric(val.charCodeAt(0)) ||\n                        val.charAt(1) !== Culture.dateSeparator ||\n                        val.charCodeAt(2) <= 49) {\n                        return;\n                    }\n\n                    val = '0' + val.charAt(0) + Culture.dateSeparator + '0' + val.charAt(2);\n                    break;\n                }\n\n                case 4: {\n                    if (val.charAt(1) == Culture.dateSeparator) {\n                        if (!isNumeric(val.charCodeAt(0)) ||\n                            !isNumeric(val.charCodeAt(2))) {\n                            return;\n                        }\n\n                        val = '0' + val;\n                        break;\n                    }\n                    else if (val.charAt(2) == Culture.dateSeparator) {\n                        if (!isNumeric(val.charCodeAt(0)) ||\n                            !isNumeric(val.charCodeAt(1)) ||\n                            val.charCodeAt(3) <= 49) {\n                            return;\n                        }\n\n                        val = val.charAt(0) + val.charAt(1) + Culture.dateSeparator +\n                            '0' + val.charAt(3);\n                        break;\n                    }\n                    else {\n                        return;\n                    }\n                }\n                case 5: {\n                    if (val.charAt(2) !== Culture.dateSeparator ||\n                        !isNumeric(val.charCodeAt(0)) ||\n                        !isNumeric(val.charCodeAt(1)) ||\n                        !isNumeric(val.charCodeAt(3))) {\n                        return;\n                    }\n\n                    break;\n                }\n\n                default: {\n                    return;\n                }\n            }\n\n            input.val(val + Culture.dateSeparator);\n        }\n    };\n\n    public static uiPickerZIndexWorkaround(input: JQuery) {\n        if (!input?.closest('.ui-dialog').length) \n            return; \n        var dialogIndex = parseInt(input.closest('.ui-dialog').css('z-index'), 10);\n        if (dialogIndex == null || isNaN(dialogIndex))\n            return;\n        setTimeout(() => {\n            var widget = (input as any).datepicker('widget');\n            if (!widget?.length)\n                return\n            var zIndex = parseInt(widget.css('z-index'));\n            if (!isNaN(zIndex) && zIndex <= dialogIndex)\n                widget.css('z-index', dialogIndex + 1);\n        }, 0);\n    }    \n}\n\nfunction jQueryDatepickerInitialization(): boolean {\n    if (!($ as any).datepicker?.regional?.en)\n        return false;\n    let order = Culture.dateOrder;\n    let s = Culture.dateSeparator;\n    let culture = ($('html').attr('lang') || 'en').toLowerCase();\n    if (!($ as any).datepicker.regional[culture]) {\n        culture = culture.split('-')[0];\n        if (!($ as any).datepicker.regional[culture]) {\n            culture = 'en';\n        }\n    }\n    ($ as any).datepicker.setDefaults(($ as any).datepicker.regional['en']);\n    ($ as any).datepicker.setDefaults(($ as any).datepicker.regional[culture]);\n    ($ as any).datepicker.setDefaults({\n        dateFormat: (order == 'mdy' ? 'mm' + s + 'dd' + s + 'yy' :\n            (order == 'ymd' ? 'yy' + s + 'mm' + s + 'dd' :\n                'dd' + s + 'mm' + s + 'yy')),\n        buttonImage: 'data:image/svg+xml,' + encodeURIComponent(datePickerIconSvg),\n        buttonImageOnly: true,\n        showOn: 'both',\n        showButtonPanel: true,\n        changeMonth: true,\n        changeYear: true\n    });\n\n    if (($ as any).ui && ($ as any).ui.version <= '1.12.1') {\n        ($ as any).datepicker.setDefaults({\n            buttonImage: null,\n            buttonImageOnly: false,\n            buttonText: '<i class=\"fa fa-calendar\"></i>'\n        });\n    }\n\n    return true;\n};\n\ntypeof $ !== \"undefined\" && $.fn && !jQueryDatepickerInitialization() && $(jQueryDatepickerInitialization);\n","import { Decorators } from \"../../decorators\";\nimport { IReadOnly, IStringValue } from \"../../interfaces\";\nimport { addOption, addValidationRule, Culture, format, formatDate, formatISODateTimeUTC, Invariant, isEmptyOrNull, parseDate, parseISODateTime, round, localText, today, trunc, tryGetText } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\nimport { DateEditor } from \"./dateeditor\";\nimport { EditorUtils } from \"./editorutils\";\n\n@Decorators.registerEditor('Serenity.DateTimeEditor', [IStringValue, IReadOnly])\n@Decorators.element('<input type=\"text\"/>')\nexport class DateTimeEditor extends Widget<DateTimeEditorOptions> implements IStringValue, IReadOnly {\n\n    private minValue: string;\n    private maxValue: string;\n    private time: JQuery;\n    private lastSetValue: string;\n    private lastSetValueGet: string;\n\n    constructor(input: JQuery, opt?: DateTimeEditorOptions) {\n        super(input, opt);\n        \n        input.addClass('s-DateTimeEditor');\n\n        if (this.options.inputOnly) {\n            input.addClass('dateTimeQ');\n            // just a basic input, usually read only display\n        }\n        // @ts-ignore\n        else if (typeof flatpickr !== \"undefined\" && (DateEditor.useFlatpickr || !$.fn.datepicker || this.options.seconds)) {\n            input.addClass('dateTimeQ');\n            // @ts-ignore\n            flatpickr(input[0], this.getFlatpickrOptions());\n        }\n        else if (($.fn as any)?.datepicker) {\n            input.addClass('dateQ');\n\n            (input as any).datepicker({\n                showOn: 'button',\n                beforeShow: function () {\n                    if (input.hasClass('readonly') as any)\n                        return false as any;\n                    DateEditor.uiPickerZIndexWorkaround(this.element);\n                    return true;                    \n                } as any,\n                yearRange: (this.options.yearRange ?? '-100:+50')\n            });\n\n            input.bind('change.' + this.uniqueName, (e) => {\n                this.lastSetValue = null;\n                DateEditor.dateInputChange(e);\n            });\n\n            this.time = $('<select/>').addClass('editor s-DateTimeEditor time');\n            var after = input.next('.ui-datepicker-trigger');\n            if (after.length > 0) {\n                this.time.insertAfter(after);\n            }\n            else {\n                after = input.prev('.ui-datepicker-trigger');\n                if (after.length > 0) {\n                    this.time.insertBefore(after);\n                }\n                else {\n                    this.time.insertAfter(input);\n                }\n            }\n\n            this.time.on('change', function (e3) {\n                this.lastSetValue = null;\n                input.triggerHandler('change');\n            });\n\n            var timeOpt = DateTimeEditor.getTimeOptions(\n                (this.options.startHour ?? 0), 0,\n                (this.options.endHour ?? 23), 59,\n                (this.options.intervalMinutes ?? 5));\n\n            for (var t of timeOpt) {\n                addOption(this.time, t, t);\n            }\n\n            addValidationRule(input, this.uniqueName, e1 => {\n                var value = this.get_value();\n                if (isEmptyOrNull(value)) {\n                    return null;\n                }\n\n                if (!isEmptyOrNull(this.get_minValue()) && Invariant.stringCompare(value, this.get_minValue()) < 0) {\n                    return format(localText('Validation.MinDate'), formatDate(this.get_minValue(), null));\n                }\n    \n                if (!isEmptyOrNull(this.get_maxValue()) && Invariant.stringCompare(value, this.get_maxValue()) > 0) {\n                    return format(localText('Validation.MaxDate'), formatDate(this.get_maxValue(), null));\n                }\n\n                return null;\n            });   \n        }\n        else \n            input.attr('type', 'datetime').addClass('dateTimeQ');\n\n        input.bind('keyup.' + this.uniqueName, e => {\n            if (this.get_readOnly())\n                return;\n            \n            if (this.time) {\n                if (e.which === 32) {\n                    if (this.get_valueAsDate() !== new Date()) {\n                        this.set_valueAsDate(new Date());\n                        this.element.trigger('change');\n                    }\n                }\n                else {\n                    var before = this.element.val();\n                    DateEditor.dateInputKeyup(e);\n                    if (before != this.element.val())\n                        this.lastSetValue = null;\n                }\n            }\n        });\n\n        this.set_sqlMinMax(true);\n\n        if (!this.options.inputOnly) {\n            $(\"<i class='inplace-button inplace-now'><b></b></div>\")\n                .attr('title', this.getInplaceNowText())\n                .insertAfter(this.time).click(e2 => {\n                    if (this.element.hasClass('readonly')) {\n                        return;\n                    }\n                    this.lastSetValue = null;\n                    this.set_valueAsDate(new Date());\n                    input.triggerHandler('change');\n                });\n        }\n    }\n\n    getFlatpickrOptions(): any {\n        return {\n            clickOpens: true,\n            allowInput: true,\n            enableTime: true,\n            time_24hr: true,\n            enableSeconds: !!this.options.seconds,\n            minuteIncrement: this.options.intervalMinutes ?? 5,\n            dateFormat: Culture.dateOrder.split('').join(Culture.dateSeparator).replace('y', 'Y') + \" H:i\" + (this.options.seconds ? \":S\" : \"\"),\n            onChange: () => {\n                this.lastSetValue = null;\n                this.element && this.element.triggerHandler('change');\n            }\n        }\n    }\n\n    get_value(): string {           \n        var value = this.element.val().trim();\n        if (value != null && value.length === 0) {\n            return null;\n        }\n\n        var result: string;\n        if (this.time) {\n            var datePart = formatDate(value, 'yyyy-MM-dd');\n            var timePart = this.time.val();\n                result = datePart + 'T' + timePart + ':00.000';\n        }\n        else\n            result = formatDate(parseDate(this.element.val()), \"yyyy-MM-ddTHH:mm:ss.fff\");\n\n        if (this.options.useUtc)\n            result = formatISODateTimeUTC(parseISODateTime(result));\n\n        if (this.lastSetValue != null &&\n            this.lastSetValueGet == result)\n            return this.lastSetValue;\n\n        return result;\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string) {\n        if (isEmptyOrNull(value)) {\n            this.element.val('');\n            this.time && this.time.val('00:00');\n        }\n        else if (value.toLowerCase() === 'today') {\n            if (this.time) {\n                this.element.val(formatDate(today(), null));\n                this.time.val('00:00');\n            }\n            else {\n                this.element.val(this.getDisplayFormat())\n            }\n        }\n        else {\n            var val = ((value.toLowerCase() === 'now') ? new Date() : parseISODateTime(value));\n            if (this.time) {\n                val = DateTimeEditor.roundToMinutes(val, (this.options.intervalMinutes ?? 5));\n                this.element.val(formatDate(val, null));\n                this.time.val(formatDate(val, 'HH:mm'));\n            }\n            else\n                this.element.val(formatDate(val, this.getDisplayFormat()));\n        }\n\n        this.lastSetValue = null;\n        if (!isEmptyOrNull(value) && value.toLowerCase() != 'today' && value.toLowerCase() != 'now') {\n            this.lastSetValueGet = this.get_value();\n            this.lastSetValue = value;\n        }\n    }\n\n    private getInplaceNowText(): string {\n        return tryGetText('Controls.DateTimeEditor.SetToNow') ?? 'set to now';\n    }\n\n    private getDisplayFormat(): string {\n        return (this.options.seconds ? Culture.dateTimeFormat : Culture.dateTimeFormat.replace(':ss', ''));\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    private get_valueAsDate(): Date {\n        if (isEmptyOrNull(this.get_value())) {\n            return null;\n        }\n\n        return parseISODateTime(this.get_value());\n    }\n\n    get valueAsDate() {\n        return this.get_valueAsDate();\n    }\n\n    private set_valueAsDate(value: Date) {\n        if (value == null) {\n            this.set_value(null);\n        }\n\n        this.set_value(formatDate(value, 'yyyy-MM-ddTHH:mm' + (this.options.seconds ? ':ss' : '')));\n    }\n\n    set valueAsDate(value: Date) {\n        this.set_valueAsDate(value);\n    }\n\n    @Decorators.option()\n    get_minValue(): string {\n        return this.minValue;\n    }\n\n    set_minValue(value: string) {\n        this.minValue = value;\n    }\n\n    @Decorators.option()\n    get_maxValue(): string {\n        return this.maxValue;\n    }\n\n    set_maxValue(value: string): void {\n        this.maxValue = value;\n    }\n\n    get_minDate(): Date {\n        return parseISODateTime(this.get_minValue());\n    }\n\n    set_minDate(value: Date): void {\n        this.set_minValue(formatDate(value, 'yyyy-MM-ddTHH:mm:ss'));\n    }\n\n    @Decorators.option()\n    get_maxDate(): Date {\n        return parseISODateTime(this.get_maxValue());\n    }\n\n    set_maxDate(value: Date) {\n        this.set_maxValue(formatDate(value, 'yyyy-MM-ddTHH:mm:ss'));\n    }\n\n    @Decorators.option()\n    get_sqlMinMax(): boolean {\n        return this.get_minValue() === '1753-01-01' && this.get_maxValue() === '9999-12-31';\n    }\n\n    set_sqlMinMax(value: boolean) {\n        if (value) {\n            this.set_minValue('1753-01-01');\n            this.set_maxValue('9999-12-31');\n        }\n        else {\n            this.set_minValue(null);\n            this.set_maxValue(null);\n        }\n    }\n\n    get_readOnly(): boolean {\n        return this.element.hasClass('readonly');\n    }\n\n    set_readOnly(value: boolean): void {\n\n        if (value !== this.get_readOnly()) {\n            if (value) {\n                this.element.addClass('readonly').attr('readonly', 'readonly');\n                this.element.nextAll('.ui-datepicker-trigger').css('opacity', '0.1');\n                this.element.nextAll('.inplace-now').css('opacity', '0.1');\n            }\n            else {\n                this.element.removeClass('readonly').removeAttr('readonly');\n                this.element.nextAll('.ui-datepicker-trigger').css('opacity', '1');\n                this.element.nextAll('.inplace-now').css('opacity', '1');\n            }\n\n            this.time && EditorUtils.setReadonly(this.time, value);\n        }\n    }\n\n    static roundToMinutes(date: Date, minutesStep: number) {\n        date = new Date(date.getTime());\n        var m = trunc(round(date.getMinutes() / minutesStep) * minutesStep);\n        date.setMinutes(m);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return date;\n    }\n\n    static getTimeOptions = function (fromHour: number, fromMin: number,\n        toHour: number, toMin: number, stepMins: number) {\n        var list = [];\n        if (toHour >= 23) {\n            toHour = 23;\n        }\n        if (toMin >= 60) {\n            toMin = 59;\n        }\n        var hour = fromHour;\n        var min = fromMin;\n        while (true) {\n            if (hour > toHour || hour === toHour && min > toMin) {\n                break;\n            }\n            var t = ((hour >= 10) ? '' : '0') + hour + ':' + ((min >= 10) ? '' : '0') + min;\n            list.push(t);\n            min += stepMins;\n            if (min >= 60) {\n                min -= 60;\n                hour++;\n            }\n        }\n        return list;\n    };\n}\n\nexport interface DateTimeEditorOptions {\n    startHour?: any;\n    endHour?: any;\n    intervalMinutes?: any;\n    yearRange?: string;\n    useUtc?: boolean;\n    seconds?: boolean;\n    inputOnly?: boolean;\n}","import { Decorators } from \"../../decorators\";\nimport { IDoubleValue, IReadOnly } from \"../../interfaces\";\nimport { addOption, toId } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\nimport { EditorUtils } from \"./editorutils\";\n\nexport interface TimeEditorOptions {\n    noEmptyOption?: boolean;\n    startHour?: any;\n    endHour?: any;\n    intervalMinutes?: any;\n}\n\n@Decorators.registerEditor('Serenity.TimeEditor', [IDoubleValue, IReadOnly])\n@Decorators.element(\"<select />\")\nexport class TimeEditor extends Widget<TimeEditorOptions> {\n\n    private minutes: JQuery;\n\n    constructor(input: JQuery, opt?: TimeEditorOptions) {\n        super(input, opt);\n\n        input.addClass('editor s-TimeEditor hour');\n\n        if (!this.options.noEmptyOption) {\n            addOption(input, '', '--');\n        }\n\n        for (var h = (this.options.startHour || 0); h <= (this.options.endHour || 23); h++) {\n            addOption(input, h.toString(), ((h < 10) ? ('0' + h) : h.toString()));\n        }\n\n        this.minutes = $('<select/>').addClass('editor s-TimeEditor minute').insertAfter(input);\n        this.minutes.change(() => this.element.trigger(\"change\"));\n\n        for (var m = 0; m <= 59; m += (this.options.intervalMinutes || 5)) {\n            addOption(this.minutes, m.toString(), ((m < 10) ? ('0' + m) : m.toString()));\n        }\n    }\n\n    public get value(): number {\n        var hour = toId(this.element.val());\n        var minute = toId(this.minutes.val());\n        if (hour == null || minute == null) {\n            return null;\n        }\n        return hour * 60 + minute;\n    }\n\n    protected get_value(): number {\n        return this.value;\n    }\n\n    public set value(value: number) {\n        if (!value) {\n            if (this.options.noEmptyOption) {\n                this.element.val(this.options.startHour);\n                this.minutes.val('0');\n            }\n            else {\n                this.element.val('');\n                this.minutes.val('0');\n            }\n        }\n        else {\n            this.element.val(Math.floor(value / 60).toString());\n            this.minutes.val(value % 60);\n        }\n    }\n\n    protected set_value(value: number): void {\n        this.value = value;\n    }\n\n    get_readOnly(): boolean {\n        return this.element.hasClass('readonly');\n    }\n\n    set_readOnly(value: boolean): void {\n\n        if (value !== this.get_readOnly()) {\n            if (value) {\n                this.element.addClass('readonly').attr('readonly', 'readonly');\n            }\n            else {\n                this.element.removeClass('readonly').removeAttr('readonly');\n            }\n            EditorUtils.setReadonly(this.minutes, value);\n        }\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IReadOnly, IStringValue } from \"../../interfaces\";\nimport { isEmptyOrNull, trimToNull, tryGetText } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface EmailEditorOptions {\n    domain?: string;\n    readOnlyDomain?: boolean;\n}\n\n@Decorators.registerEditor('Serenity.EmailEditor', [IStringValue, IReadOnly])\n@Decorators.element('<input type=\"text\"/>')\nexport class EmailEditor extends Widget<EmailEditorOptions> {\n\n    constructor(input: JQuery, opt: EmailEditorOptions) {\n        super(input, opt);\n\n        EmailEditor.registerValidationMethods();\n\n        input.addClass('emailuser');\n\n        var spanAt = $('<span/>').text('@').addClass('emailat').insertAfter(input);\n\n        var domain = $('<input type=\"text\"/>').addClass('emaildomain').insertAfter(spanAt);\n        domain.bind('blur.' + this.uniqueName, function () {\n            var validator = domain.closest('form').data('validator');\n            if (validator != null) {\n                validator.element(input[0]);\n            }\n        });\n\n        if (!isEmptyOrNull(this.options.domain)) {\n            domain.val(this.options.domain);\n        }\n\n        if (this.options.readOnlyDomain) {\n            domain.attr('readonly', 'readonly').addClass('disabled').attr('tabindex', '-1');\n        }\n\n        input.bind('keypress.' + this.uniqueName, e => {\n            if (e.which === 64) {\n                e.preventDefault();\n                if (!this.options.readOnlyDomain) {\n                    domain.focus();\n                    domain.select();\n                }\n            }\n        });\n\n        domain.bind('keypress.' + this.uniqueName, function (e1) {\n            if (e1.which === 64) {\n                e1.preventDefault();\n            }\n        });\n\n        if (!this.options.readOnlyDomain) {\n            input.change(e2 => this.set_value(input.val()));\n        }\n    }\n\n    static registerValidationMethods(): void {\n        if (!$.validator || !$.validator.methods || $.validator.methods['emailuser'] != null)\n            return;\n\n        $.validator.addMethod('emailuser', function (value, element) {\n\n            var domain = $(element).nextAll('.emaildomain');\n            if (domain.length > 0 && domain.attr('readonly') == null) {\n\n                if (this.optional(element) && this.optional(domain[0])) {\n                    return true;\n                }\n\n                return $.validator.methods.email.call(this, value + '@' + domain.val(), element);\n            }\n            else {\n                return $.validator.methods.email.call(this, value + '@dummy.com', element);\n            }\n        }, tryGetText(\"Validation.Email\") ?? $.validator.messages.email);\n    }\n\n    get_value(): string {\n        var domain = this.element.nextAll('.emaildomain');\n        var value = this.element.val();\n        var domainValue = domain.val();\n        if (isEmptyOrNull(value)) {\n            if (this.options.readOnlyDomain || isEmptyOrNull(domainValue)) {\n                return '';\n            }\n            return '@' + domainValue;\n        }\n        return value + '@' + domainValue;\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string): void {\n        var domain = this.element.nextAll('.emaildomain');\n        value = trimToNull(value);\n        if (value == null) {\n            if (!this.options.readOnlyDomain)\n                domain.val('');\n            this.element.val('');\n        }\n        else {\n            var parts = value.split('@');\n            if (parts.length > 1) {\n                if (!this.options.readOnlyDomain) {\n                    domain.val(parts[1]);\n                    this.element.val(parts[0]);\n                }\n                else if (!isEmptyOrNull(this.options.domain)) {\n                    if (parts[1] !== this.options.domain)\n                        this.element.val(value);\n                    else \n                        this.element.val(parts[0]);\n                }\n                else \n                    this.element.val(parts[0]);\n            }\n            else\n                this.element.val(parts[0]);\n        }\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    get_readOnly(): boolean {\n        var domain = this.element.nextAll('.emaildomain');\n        return !(this.element.attr('readonly') == null &&\n            (!this.options.readOnlyDomain || domain.attr('readonly') == null));\n    }\n\n    set_readOnly(value: boolean): void {\n        var domain = this.element.nextAll('.emaildomain');\n        if (value) {\n            this.element.attr('readonly', 'readonly').addClass('readonly');\n            if (!this.options.readOnlyDomain) {\n                domain.attr('readonly', 'readonly').addClass('readonly');\n            }\n        }\n        else {\n            this.element.removeAttr('readonly').removeClass('readonly');\n            if (!this.options.readOnlyDomain) {\n                domain.removeAttr('readonly').removeClass('readonly');\n            }\n        }\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { StringEditor } from \"./stringeditor\";\n\n@Decorators.registerEditor('Serenity.EmailAddressEditor')\nexport class EmailAddressEditor extends StringEditor {\n    constructor(input: JQuery) {\n        super(input);\n\n        input.attr('type', 'email')\n            .addClass('email');\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { trimToNull } from \"../../q\";\nimport { StringEditor } from \"./stringeditor\";\n\n@Decorators.registerEditor('Serenity.URLEditor', [IStringValue])\nexport class URLEditor extends StringEditor {\n\n    constructor(input: JQuery) {\n        super(input);\n\n        input.addClass(\"url\").attr(\"title\", \"URL should be entered in format: 'http://www.site.com/page'.\");\n\n        input.on(\"blur.\" + this.uniqueName, e => {\n            var validator = input.closest(\"form\").data(\"validator\") as JQueryValidation.Validator;\n            if (validator == null)\n                return;\n\n            if (!input.hasClass(\"error\"))\n                return;\n\n            var value = trimToNull(input.val());\n            if (!value)\n                return;\n\n            value = \"http://\" + value;\n\n            if ($.validator.methods['url'].call(validator, value, input[0]) == true) {\n                input.val(value);\n                validator.element(input);\n            }\n        });\n    }\n}","import { Decorators, EnumKeyAttribute } from \"../../decorators\";\nimport { IReadOnly, IStringValue } from \"../../interfaces\";\nimport { Enum, getAttributes, getLookup, isEmptyOrNull, tryGetText } from \"../../q\";\nimport { EnumTypeRegistry } from \"../../types/enumtyperegistry\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface RadioButtonEditorOptions {\n    enumKey?: string;\n    enumType?: any;\n    lookupKey?: string;\n}\n\n@Decorators.registerEditor('Serenity.RadioButtonEditor', [IStringValue, IReadOnly])\n@Decorators.element('<div/>')\nexport class RadioButtonEditor extends Widget<RadioButtonEditorOptions>\n    implements IReadOnly {\n\n    constructor(input: JQuery, opt: RadioButtonEditorOptions) {\n        super(input, opt);\n\n        if (isEmptyOrNull(this.options.enumKey) &&\n            this.options.enumType == null &&\n            isEmptyOrNull(this.options.lookupKey)) {\n            return;\n        }\n\n        if (!isEmptyOrNull(this.options.lookupKey)) {\n            var lookup = getLookup(this.options.lookupKey);\n            for (var item of lookup.items) {\n                var textValue = (item as any)[lookup.textField];\n                var text = (textValue == null ? '' : textValue.toString());\n                var idValue = (item as any)[lookup.idField];\n                var id = (idValue == null ? '' : idValue.toString());\n                this.addRadio(id, text);\n            }\n        }\n        else {\n            var enumType = this.options.enumType || EnumTypeRegistry.get(this.options.enumKey);\n            var enumKey = this.options.enumKey;\n            if (enumKey == null && enumType != null) {\n                var enumKeyAttr = getAttributes(enumType, EnumKeyAttribute, false);\n                if (enumKeyAttr.length > 0) {\n                    enumKey = enumKeyAttr[0].value;\n                }\n            }\n\n            var values = Enum.getValues(enumType);\n            for (var x of values) {\n                var name = Enum.toString(enumType, x);\n                this.addRadio(x.toString(), tryGetText(\n                    'Enums.' + enumKey + '.' + name) ?? name);\n            }\n        }\n    }\n\n    protected addRadio(value: string, text: string) {\n        var label = $('<label/>').text(text);\n        $('<input type=\"radio\"/>').attr('name', this.uniqueName)\n            .attr('id', this.uniqueName + '_' + value)\n            .attr('value', value).prependTo(label);\n        label.appendTo(this.element);\n    }\n\n    get_value(): string {\n        return this.element.find('input:checked').first().val();\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string): void {\n        if (value !== this.get_value()) {\n            var inputs = this.element.find('input');\n            var checks = inputs.filter(':checked');\n            if (checks.length > 0) {\n                (checks[0] as HTMLInputElement).checked = false;\n            }\n            if (!isEmptyOrNull(value)) {\n                checks = inputs.filter('[value=' + value + ']');\n                if (checks.length > 0) {\n                    (checks[0] as HTMLInputElement).checked = true;\n                }\n            }\n        }\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    get_readOnly(): boolean {\n        return this.element.attr('disabled') != null;\n    }\n\n    set_readOnly(value: boolean): void {\n        if (this.get_readOnly() !== value) {\n            if (value) {\n                this.element.attr('disabled', 'disabled')\n                    .find('input').attr('disabled', 'disabled');\n            }\n            else {\n                this.element.removeAttr('disabled')\n                    .find('input').removeAttr('disabled');\n            }\n        }\n    }\n\n}","import \"@optionaldeps/jquery\";\n\nconst _Select2 = typeof Select2 !== \"undefined\" ? Select2 : undefined;\n\nexport default _Select2;","import Select2 from \"@optionaldeps/select2\";\nimport { Authorization, PropertyItem, any, isEmptyOrNull, isTrimmedEmpty, localText, startsWith, trimToEmpty, trimToNull } from \"../../q\";\nimport { Decorators } from \"../../decorators\";\nimport { IEditDialog, IGetEditValue, IReadOnly, ISetEditValue, IStringValue } from \"../../interfaces\";\nimport { DialogTypeRegistry } from \"../../types/dialogtyperegistry\";\nimport { ReflectionUtils } from \"../../types/reflectionutils\";\nimport { SubDialogHelper } from \"../helpers/subdialoghelper\";\nimport { Widget } from \"../widgets/widget\";\nimport { CascadedWidgetLink } from \"./cascadedwidgetlink\";\nimport { EditorUtils } from \"./editorutils\";\n\nexport interface Select2CommonOptions {\n    allowClear?: boolean;\n    delimited?: boolean;\n    minimumResultsForSearch?: any;\n    multiple?: boolean;\n}\n\nexport interface Select2FilterOptions {\n    cascadeFrom?: string;\n    cascadeField?: string;\n    cascadeValue?: any;\n    filterField?: string;\n    filterValue?: any;\n}\n\nexport interface Select2InplaceAddOptions {\n    inplaceAdd?: boolean;\n    inplaceAddPermission?: string;\n    dialogType?: string;\n    autoComplete?: boolean;\n}\n\nexport interface Select2EditorOptions extends Select2FilterOptions, Select2InplaceAddOptions, Select2CommonOptions {\n}\n\nexport interface Select2SearchPromise {\n    abort?(): void;\n    catch?(callback: () => void): void;\n    fail?(callback: () => void): void;\n}\n\nexport interface Select2SearchQuery {\n    searchTerm?: string;\n    idList?: string[];\n    skip?: number;\n    take?: number;\n    checkMore?: boolean;\n}\n\nexport interface Select2SearchResult<TItem> {\n    items: TItem[];\n    more: boolean;\n}\n\n@Decorators.registerClass('Serenity.Select2Editor',\n    [ISetEditValue, IGetEditValue, IStringValue, IReadOnly])\n@Decorators.element(\"<input type=\\\"hidden\\\"/>\")\nexport class Select2Editor<TOptions, TItem> extends Widget<TOptions> implements\n    ISetEditValue, IGetEditValue, IStringValue, IReadOnly {\n\n    private _items: Select2Item[];\n    private _itemById: { [key: string]: Select2Item };\n    protected lastCreateTerm: string;\n\n    constructor(hidden: JQuery, opt?: any) {\n        super(hidden, opt);\n\n        this._items = [];\n        this._itemById = {};\n        var emptyItemText = this.emptyItemText();\n        if (emptyItemText != null) {\n            hidden.attr('placeholder', emptyItemText);\n        }\n        var select2Options = this.getSelect2Options();\n        hidden.select2(select2Options);\n        hidden.attr('type', 'text');\n\n        // for jquery validate to work\n        hidden.on('change.' + this.uniqueName, (e: any, valueSet) => {\n            if (valueSet !== true && hidden.closest('form').data('validator'))\n                    hidden.valid();\n        });\n\n        this.setCascadeFrom((this.options as Select2EditorOptions).cascadeFrom);\n\n        if (this.useInplaceAdd())\n            this.addInplaceCreate(localText('Controls.SelectEditor.InplaceAdd'), null);\n    }\n\n    destroy() {\n        this.initSelectionPromise?.abort?.();\n        this.abortPendingQuery();\n        this.element?.select2?.('destroy');\n        super.destroy();\n    }\n\n    protected hasAsyncSource(): boolean {\n        return false;\n    }\n\n    protected asyncSearch(query: Select2SearchQuery, results: (result: Select2SearchResult<TItem>) => void): Select2SearchPromise {\n        results({\n            items: [],\n            more: false\n        });\n        return null;\n    }\n\n    protected getTypeDelay() {\n        return ((this.options as any)['typeDelay'] ?? 200);\n    }\n\n    protected emptyItemText() {\n        return this.element.attr('placeholder') ??\n            localText('Controls.SelectEditor.EmptyItemText');\n    }\n\n    protected getPageSize(): number {\n        return (this.options as any)['pageSize'] ?? 100;\n    }\n\n    protected getIdField() {\n        return (this.options as any)['idField'];\n    }\n\n    protected itemId(item: TItem): string {\n        var value = (item as any)[this.getIdField()];\n        if (value == null)\n            return '';\n        return value.toString();\n    }\n\n    protected getTextField() {\n        return (this.options as any)['textField'] ?? this.getIdField();\n    }\n\n    protected itemText(item: TItem): string {\n        var value = (item as any)[this.getTextField()];\n        if (value == null)\n            return '';\n        return value.toString();\n    }\n\n    protected itemDisabled(item: TItem): boolean {\n        return false;\n    }\n\n    protected mapItem(item: TItem): Select2Item {\n        return {\n            id: this.itemId(item),\n            text: this.itemText(item),\n            disabled: this.itemDisabled(item),\n            source: item\n        };\n    }\n\n    protected mapItems(items: TItem[]): Select2Item[] {\n        return items.map(this.mapItem.bind(this));\n    }\n\n    protected allowClear() {\n        return (this.options as Select2EditorOptions).allowClear != null ?\n            !!(this.options as Select2EditorOptions).allowClear : this.emptyItemText() != null;\n    }\n\n    protected isMultiple() {\n        return !!(this.options as Select2EditorOptions).multiple;\n    }\n\n    private initSelectionPromise: Select2SearchPromise;\n    private queryPromise: Select2SearchPromise;\n    private typeTimeout: number;\n\n    protected abortPendingQuery() {\n        this.queryPromise?.abort?.();\n        this.queryPromise = null;\n        if (this.typeTimeout) {\n            clearTimeout(this.typeTimeout);\n            this.typeTimeout = null;\n        }\n    }\n\n    protected getSelect2Options(): Select2Options {\n        var emptyItemText = this.emptyItemText();\n        var opt: Select2Options = {\n            multiple: this.isMultiple(),\n            placeHolder: (!isEmptyOrNull(emptyItemText) ? emptyItemText : null),\n            allowClear: this.allowClear(),\n            createSearchChoicePosition: 'bottom'\n        }\n\n        if (this.hasAsyncSource()) {\n            opt.query = query => {\n                var pageSize = this.getPageSize();\n                var searchQuery: Select2SearchQuery = {\n                    searchTerm: trimToNull(query.term),\n                    skip: (query.page - 1) * pageSize,\n                    take: pageSize,\n                    checkMore: true\n                }\n\n                this.abortPendingQuery();\n\n                var select2 = $(this.element).data('select2');\n                select2?.search?.removeClass?.('select2-active').parent().removeClass('select2-active');\n\n                this.typeTimeout = setTimeout(() => {\n                    this.abortPendingQuery();\n                    select2?.search?.addClass?.('select2-active').parent().addClass('select2-active');\n                    this.queryPromise = this.asyncSearch(searchQuery, result => {\n                        select2?.search?.removeClass?.('select2-active').parent().removeClass('select2-active');\n                        this.queryPromise = null;\n                        query.callback({\n                            results: this.mapItems(result.items),\n                            more: result.more\n                        });\n                    });\n                    (this.queryPromise?.catch || this.queryPromise?.fail)?.call(this.queryPromise, () => {\n                        this.queryPromise = null;\n                        select2?.search?.removeClass?.('select2-active').parent().removeClass('select2-active');\n                    });\n                }, !query.term ? 0 : this.getTypeDelay());\n            }\n\n            opt.initSelection = (element, callback) => {\n                var val = element.val();\n                if (val == null || val == '') {\n                    callback(null);\n                    return;\n                }\n\n                var isMultiple = this.isMultiple();\n                var idList = isMultiple ? val.split(',') : [val]; \n                var searchQuery = {\n                    idList: idList\n                }\n\n                this.initSelectionPromise?.abort?.();\n                this.initSelectionPromise = this.asyncSearch(searchQuery, result => {\n                    this.initSelectionPromise = null;\n                    if (isMultiple) {\n                        var items = (result.items || []).map(x => this.mapItem(x));\n                        this._itemById = this._itemById || {};\n                        for (var item of items)\n                            this._itemById[item.id] = item;\n                        if (this.isAutoComplete &&\n                            items.length != idList.length) {\n                            for (var v of idList) {\n                                if (!any(items, z => z.id == v)) {\n                                    items.push({\n                                        id: v,\n                                        text: v\n                                    });\n                                }\n                            }\n                        }\n                        callback(items);\n                    }\n                    else if (!result.items || !result.items.length) {\n                        if (this.isAutoComplete) {\n                            callback({\n                                id: val,\n                                text: val\n                            });\n                        }\n                        else\n                            callback(null);\n                    }\n                    else {\n                        var item = this.mapItem(result.items[0]);\n                        this._itemById = this._itemById || {};\n                        this._itemById[item.id] = item;\n                        callback(item);\n                    }\n                });\n                (this.initSelectionPromise.catch || this.initSelectionPromise.fail)?.call(this.initSelectionPromise, () => {\n                    this.initSelectionPromise = null;\n                });\n            }\n        }\n        else {\n            opt.data = this._items;\n            opt.query = (query) => {\n                var items = Select2Editor.filterByText(this._items, x => x.text, query.term);\n                var pageSize = this.getPageSize();\n                query.callback({\n                    results: items.slice((query.page - 1) * pageSize, query.page * pageSize),\n                    more: items.length >= query.page * pageSize\n                });\n            }\n            opt.initSelection = (element, callback) => {\n                var val = element.val();\n                var isAutoComplete = this.isAutoComplete();\n                if (this.isMultiple()) {\n                    var list = [];\n                    for (var z of val.split(',')) {\n                        var item2 = this._itemById[z];\n                        if (item2 == null && isAutoComplete) {\n                            item2 = { id: z, text: z };\n                            this.addItem(item2);\n                        }\n                        if (item2 != null) {\n                            list.push(item2);\n                        }\n                    }\n                    callback(list);\n                    return;\n                }\n                var it = this._itemById[val];\n                if (it == null && isAutoComplete) {\n                    it = { id: val, text: val };\n                    this.addItem(it);\n                }\n                callback(it);\n            }\n        }\n\n        if ((this.options as Select2EditorOptions).minimumResultsForSearch != null)\n            opt.minimumResultsForSearch = (this.options as Select2EditorOptions).minimumResultsForSearch;\n\n        if (this.isAutoComplete() || this.useInplaceAdd())\n            opt.createSearchChoice = this.getCreateSearchChoice(null);\n\n        return opt;\n    }\n\n    get_delimited() {\n        return !!(this.options as Select2EditorOptions).delimited;\n    }\n\n    public get items(): Select2Item[] {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't read items property of an async select editor!\");\n\n        return this._items || [];\n    }\n\n    public set items(value: Select2Item[]) {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't set items of an async select editor!\");\n\n        this._items = value || [];\n        this._itemById = {};\n        for (var item of this._items)\n            this._itemById[item.id] = item;\n    }\n\n    protected get itemById(): { [key: string]: Select2Item } {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't read items property of an async select editor!\");\n\n        return this._itemById;\n    }\n\n    protected set itemById(value: { [key: string]: Select2Item }) {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't set itemById of an async select editor!\");\n\n        this._itemById = value || {};\n    }\n\n    public clearItems() {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't clear items of an async select editor!\");\n\n        this._items.length = 0;\n        this._itemById = {};\n    }\n\n    public addItem(item: Select2Item) {\n        if (this.hasAsyncSource())\n            throw new Error(\"Can't add item to an async select editor!\");\n\n        this._items.push(item);\n        this._itemById[item.id] = item;\n    }\n\n    public addOption(key: string, text: string, source?: any, disabled?: boolean) {\n        this.addItem({\n            id: key,\n            text: text,\n            source: source,\n            disabled: disabled\n        });\n    }\n\n    protected addInplaceCreate(addTitle: string, editTitle: string) {\n        var self = this;\n        addTitle = (addTitle ?? localText('Controls.SelectEditor.InplaceAdd'));\n        editTitle = (editTitle ?? localText('Controls.SelectEditor.InplaceEdit'));\n        var inplaceButton = $('<a><b/></a>')\n            .addClass('inplace-button inplace-create')\n            .attr('title', addTitle)\n            .insertAfter(this.element).click(function (e) {\n                self.inplaceCreateClick(e);\n            });\n\n        this.get_select2Container().add(this.element).addClass('has-inplace-button');\n\n        this.element.change(() => {\n            var isNew = this.isMultiple() || isEmptyOrNull(this.get_value());\n            inplaceButton.attr('title', (isNew ? addTitle : editTitle)).toggleClass('edit', !isNew);\n        });\n\n        this.element.change((e: any, valueSet: boolean) => {\n            if (valueSet === true)\n                return;\n            if (this.isMultiple()) {\n                var values = this.get_values();\n                if (values.length > 0 && values[values.length - 1] == (-2147483648).toString()) {\n                    this.set_values(values.slice(0, values.length - 1));\n                    this.inplaceCreateClick(e);\n                }\n            }\n            else if (this.get_value() == (-2147483648).toString()) {\n                this.set_value(null);\n                this.inplaceCreateClick(e);\n            }\n        });\n\n        if (this.isMultiple()) {\n            this.get_select2Container().on('dblclick.' + this.uniqueName, '.select2-search-choice', (e3: JQueryEventObject) => {\n                var q = $(e3.target);\n                if (!q.hasClass('select2-search-choice')) {\n                    q = q.closest('.select2-search-choice');\n                }\n                var index = q.index();\n                var values1 = this.get_values();\n                if (index < 0 || index >= this.get_values().length) {\n                    return;\n                }\n                (e3 as any)['editItem'] = values1[index];\n                this.inplaceCreateClick(e3);\n            });\n        }\n    }\n\n    protected useInplaceAdd(): boolean {\n        return !this.isAutoComplete() &&\n            (this.options as Select2EditorOptions).inplaceAdd &&\n            ((this.options as Select2EditorOptions).inplaceAddPermission == null ||\n                Authorization.hasPermission((this.options as Select2EditorOptions).inplaceAddPermission));\n    }\n\n    protected isAutoComplete(): boolean {\n        return !!(this.options as Select2EditorOptions).autoComplete;\n    }\n\n    public getCreateSearchChoice(getName: (z: any) => string) {\n        return (s: string) => {\n\n            this.lastCreateTerm = s;\n            s = (Select2.util.stripDiacritics(s) ?? '').toLowerCase();\n\n            if (isTrimmedEmpty(s)) {\n                return null;\n            }\n\n            var isAsyncSource = false;\n\n            if (any(this._items || [], (x: Select2Item) => {\n                    var text = getName ? getName(x.source) : x.text;\n                    return Select2.util.stripDiacritics((text ?? '')).toLowerCase() == s;\n            }))\n                return null;\n\n            if (!any(this._items || [], x1 => {\n                return (Select2.util.stripDiacritics(x1.text) ?? '').toLowerCase().indexOf(s) !== -1;\n            })) {\n                if (this.isAutoComplete()) {\n                    return {\n                        id: this.lastCreateTerm,\n                        text: this.lastCreateTerm\n                    };\n                }\n\n                return {\n                    id: (-2147483648).toString(),\n                    text: localText('Controls.SelectEditor.NoResultsClickToDefine')\n                };\n            }\n\n            if (this.isAutoComplete()) {\n                return {\n                    id: this.lastCreateTerm,\n                    text: this.lastCreateTerm\n                };\n            }\n\n            return {\n                id: (-2147483648).toString(),\n                text: localText('Controls.SelectEditor.ClickToDefine')\n            };\n        }\n    }\n\n    setEditValue(source: any, property: PropertyItem) {\n        var val = source[property.name];\n        if(Array.isArray(val)) {\n            this.set_values(val);\n        }\n        else {\n            this.set_value((val == null ? null : val.toString()));\n        }\n    }\n\n    getEditValue(property: PropertyItem, target: any) {\n        if (!this.isMultiple() || this.get_delimited()) {\n            target[property.name] = this.get_value();\n        }\n        else {\n            target[property.name] = this.get_values();\n        }\n    }\n\n    protected get_select2Container(): JQuery {\n        return this.element.prevAll('.select2-container');\n    }\n\n    protected get_items() {\n        return this.items;\n    }\n\n    protected get_itemByKey() {\n        return this.itemById;\n    }\n\n    public static filterByText<TItem>(items: TItem[], getText: (item: TItem) => string, term: string): TItem[] {\n        if (term == null || term.length == 0)\n            return items;\n\n        term = Select2.util.stripDiacritics(term).toUpperCase();\n\n        var contains: TItem[] = [];\n        function filter(item: TItem): boolean {\n            var text = getText(item);\n            if (text == null || !text.length)\n                return false;\n            text = Select2.util.stripDiacritics(text).toUpperCase();\n            if (startsWith(text, term))\n                return true;\n            if (text.indexOf(term) >= 0)\n                contains.push(item);\n            return false;\n        }\n\n        return items.filter(filter).concat(contains);\n    }\n\n    get_value() {\n        var val;\n        if (this.element.data('select2')) {\n            val = this.element.select2('val');\n            if (val != null && Array.isArray(val)) {\n                return val.join(',');\n            }\n        }\n        else\n            val = this.element.val();\n\n        return val;\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string) {\n\n        if (value != this.get_value()) {\n            var val: any = value;\n            if (!isEmptyOrNull(value) && this.isMultiple()) {\n                val = value.split(String.fromCharCode(44)).map(function (x) {\n                    return trimToNull(x);\n                }).filter(function (x1) {\n                    return x1 != null;\n                });\n            }\n\n            var el = this.element;\n            el.select2('val', val);\n            el.data('select2-change-triggered', true);\n            try {\n                el.triggerHandler('change', [true]); // valueSet: true\n            } finally {\n                el.data('select2-change-triggered', false);\n            }\n\n            this.updateInplaceReadOnly();\n        }\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    get selectedItem(): TItem {\n        let selectedValue = this.get_value();\n        if (selectedValue && this._itemById) {\n            let item = this._itemById[selectedValue];\n            if (item)\n                return item.source;\n        }\n        return null;\n    }\n\n    get selectedItems(): TItem[] {\n        let selectedValues = this.values;\n        var result = [];\n        for (var value of selectedValues) {\n            if (value && this._itemById) {\n                let item = this._itemById[value];\n                if (item && item.source)\n                    result.push(item.source);\n                else\n                    result.push(null);\n            }\n        }\n        return result;\n    }\n\n    protected get_values(): string[] {\n\n        var val = this.element.select2('val');\n        if (val == null) {\n            return [];\n        }\n\n        if (Array.isArray(val)) {\n            return val;\n        }\n\n        var str = val;\n        if (isEmptyOrNull(str)) {\n            return [];\n        }\n\n        return [str];\n    }\n\n    get values(): string[] {\n        return this.get_values();\n    }\n\n    protected set_values(value: string[]) {\n\n        if (value == null || value.length === 0) {\n            this.set_value(null);\n            return;\n        }\n\n        this.set_value(value.join(','));\n    }\n\n    set values(value: string[]) {\n        this.set_values(value);\n    }\n\n    protected get_text(): string {\n        return (this.element.select2('data') ?? {}).text;\n    }\n\n    get text(): string {\n        return this.get_text();\n    }\n\n    get_readOnly(): boolean {\n        return !isEmptyOrNull(this.element.attr('readonly'));\n    }\n\n    get readOnly(): boolean {\n        return this.get_readOnly();\n    }\n\n    private updateInplaceReadOnly(): void {\n        var readOnly = this.get_readOnly() &&\n            (this.isMultiple() || !this.value);\n\n        this.element.nextAll('.inplace-create')\n            .attr('disabled', (readOnly ? 'disabled' : ''))\n            .css('opacity', (readOnly ? '0.1' : ''))\n            .css('cursor', (readOnly ? 'default' : ''));\n    }\n\n    set_readOnly(value: boolean) {\n        if (value !== this.get_readOnly()) {\n            this.element.attr(\"readonly\", value ? \"readonly\" : null);\n            this.updateInplaceReadOnly();\n        }\n    }\n\n    set readOnly(value: boolean) {\n        this.set_readOnly(value);\n    }\n\n    protected getCascadeFromValue(parent: Widget<any>) {\n        return EditorUtils.getValue(parent);\n    }\n\n    protected cascadeLink: CascadedWidgetLink<Widget<any>>;\n\n    protected setCascadeFrom(value: string) {\n\n        if (isEmptyOrNull(value)) {\n            if (this.cascadeLink != null) {\n                this.cascadeLink.set_parentID(null);\n                this.cascadeLink = null;\n            }\n            (this.options as Select2EditorOptions).cascadeFrom = null;\n            return;\n        }\n\n        this.cascadeLink = new CascadedWidgetLink<Widget<any>>(Widget, this, p => {\n            this.set_cascadeValue(this.getCascadeFromValue(p));\n        });\n\n        this.cascadeLink.set_parentID(value);\n        (this.options as Select2EditorOptions).cascadeFrom = value;\n    }\n\n    protected get_cascadeFrom(): string {\n        return (this.options as Select2EditorOptions).cascadeFrom;\n    }\n\n    get cascadeFrom(): string {\n        return this.get_cascadeFrom();\n    }\n\n    protected set_cascadeFrom(value: string) {\n        if (value !== (this.options as Select2EditorOptions).cascadeFrom) {\n            this.setCascadeFrom(value);\n            this.updateItems();\n        }\n    }\n\n    set cascadeFrom(value: string) {\n        this.set_cascadeFrom(value);\n    }\n\n    protected get_cascadeField() {\n        return ((this.options as Select2EditorOptions).cascadeField ?? (this.options as Select2EditorOptions).cascadeFrom);\n    }\n\n    get cascadeField(): string {\n        return this.get_cascadeField();\n    }\n\n    protected set_cascadeField(value: string) {\n        (this.options as Select2EditorOptions).cascadeField = value;\n    }\n\n    set cascadeField(value: string) {\n        this.set_cascadeField(value);\n    }\n\n    protected get_cascadeValue(): any {\n        return (this.options as Select2EditorOptions).cascadeValue;\n    }\n\n    get cascadeValue(): any {\n        return this.get_cascadeValue();\n    }\n\n    protected set_cascadeValue(value: any) {\n        if ((this.options as Select2EditorOptions).cascadeValue !== value) {\n            (this.options as Select2EditorOptions).cascadeValue = value;\n            this.set_value(null);\n            this.updateItems();\n        }\n    }\n\n    set cascadeValue(value: any) {\n        this.set_cascadeValue(value);\n    }\n\n    protected get_filterField() {\n        return (this.options as Select2EditorOptions).filterField;\n    }\n\n    get filterField(): string {\n        return this.get_filterField();\n    }\n\n    protected set_filterField(value: string) {\n        (this.options as Select2EditorOptions).filterField = value;\n    }\n\n    set filterField(value: string) {\n        this.set_filterField(value);\n    }\n\n    protected get_filterValue(): any {\n        return (this.options as Select2EditorOptions).filterValue;\n    }\n\n    get filterValue(): any {\n        return this.get_filterValue();\n    }\n\n    protected set_filterValue(value: any) {\n        if ((this.options as Select2EditorOptions).filterValue !== value) {\n            (this.options as Select2EditorOptions).filterValue = value;\n            this.set_value(null);\n            this.updateItems();\n        }\n    }\n\n    set filterValue(value: any) {\n        this.set_filterValue(value);\n    }\n\n    protected cascadeItems(items: TItem[]) {\n\n        var val = this.get_cascadeValue();\n\n        if (val == null || val === '') {\n\n            if (!isEmptyOrNull(this.get_cascadeField())) {\n                return [];\n            }\n\n            return items;\n        }\n\n        var key = val.toString();\n        var fld = this.get_cascadeField();\n\n        return items.filter(x => {\n            var itemKey = (x as any)[fld] ?? ReflectionUtils.getPropertyValue(x, fld);\n            return !!(itemKey != null && itemKey.toString() === key);\n        });\n    }\n\n    protected filterItems(items: TItem[]) {\n        var val = this.get_filterValue();\n\n        if (val == null || val === '') {\n            return items;\n        }\n\n        var key = val.toString();\n        var fld = this.get_filterField();\n\n        return items.filter(x => {\n            var itemKey = (x as any)[fld] ?? ReflectionUtils.getPropertyValue(x, fld);\n            return !!(itemKey != null && itemKey.toString() === key);\n        });\n    }\n\n    protected updateItems() {\n    }\n\n    protected getDialogTypeKey() {\n        if ((this.options as Select2EditorOptions).dialogType != null) {\n            return (this.options as Select2EditorOptions).dialogType;\n        }\n\n        return null;\n    }\n\n    protected createEditDialog(callback: (dlg: IEditDialog) => void) {\n        var dialogTypeKey = this.getDialogTypeKey();\n        var dialogType = DialogTypeRegistry.get(dialogTypeKey);\n        Widget.create({\n            type: dialogType,\n            init: x => callback(x as any)\n        });\n    }\n\n    public onInitNewEntity: (entity: TItem) => void;\n\n    protected initNewEntity(entity: TItem) {\n        if (!isEmptyOrNull(this.get_cascadeField())) {\n            (entity as any)[this.get_cascadeField()] = this.get_cascadeValue();\n        }\n\n        if (!isEmptyOrNull(this.get_filterField())) {\n            (entity as any)[this.get_filterField()] = this.get_filterValue();\n        }\n\n        if (this.onInitNewEntity != null) {\n            this.onInitNewEntity(entity);\n        }\n    }\n\n    protected setEditDialogReadOnly(dialog: any): void {\n        // an ugly workaround\n        dialog.element && dialog.element\n            .find('.tool-button.delete-button')\n            .addClass('disabled')\n            .unbind('click');\n    }\n\n    protected editDialogDataChange() {\n    }\n\n    protected setTermOnNewEntity(entity: TItem, term: string) {\n    }\n\n    protected inplaceCreateClick(e: JQueryEventObject) {\n\n        if (this.get_readOnly() &&\n            ((this.isMultiple() && !(e as any)['editItem']) || !this.value))\n            return;\n\n        this.createEditDialog(dialog => {\n\n            if (this.get_readOnly())\n                this.setEditDialogReadOnly(dialog);\n\n            SubDialogHelper.bindToDataChange(dialog, this, (x, dci) => {\n                this.editDialogDataChange();\n                this.updateItems();\n                this.lastCreateTerm = null;\n\n                if ((dci.type === 'create' || dci.type === 'update') &&\n                    dci.entityId != null) {\n                    var id = dci.entityId.toString();\n\n                    if (this.isMultiple()) {\n                        var values = this.get_values().slice();\n                        if (values.indexOf(id) < 0) {\n                            values.push(id);\n                        }\n                        this.set_values(null);\n                        this.set_values(values.slice());\n                    }\n                    else {\n                        this.set_value(null);\n                        this.set_value(id);\n                    }\n                }\n                else if (this.isMultiple() && dci.type === 'delete' &&\n                    dci.entityId != null) {\n                    var id1 = dci.entityId.toString();\n                    var values1 = this.get_values().slice();\n\n                    var idx1 = values1.indexOf(id1);\n                    if (idx1 >= 0)\n                        values1.splice(idx1, 1);\n\n                    this.set_values(values1.slice());\n                }\n                else if (!this.isMultiple()) {\n                    this.set_value(null);\n                }\n            }, true);\n\n            var editItem = (e as any)['editItem'];\n            if (editItem != null) {\n                dialog.load(editItem, () => {\n                    (dialog as any).dialogOpen(this.openDialogAsPanel);\n                }, null);\n            }\n            else if (this.isMultiple() || isEmptyOrNull(this.get_value())) {\n                var entity: TItem = {} as any;\n                this.setTermOnNewEntity(entity, trimToEmpty(this.lastCreateTerm));\n                this.initNewEntity(entity);\n                dialog.load(entity, () => {\n                    (dialog as any).dialogOpen(this.openDialogAsPanel);\n                }, null);\n            }\n            else {\n                dialog.load(this.get_value(), () => {\n                    (dialog as any).dialogOpen(this.openDialogAsPanel);\n                }, null);\n            }\n        });\n    }\n\n    public openDialogAsPanel: boolean;\n}","import { Decorators } from \"../../decorators\";\nimport { isEmptyOrNull } from \"../../q\";\nimport { Select2CommonOptions, Select2Editor } from \"./select2editor\";\n\n@Decorators.registerClass('Serenity.SelectEditor')\nexport class SelectEditor extends Select2Editor<SelectEditorOptions, Select2Item> {\n    constructor(hidden: JQuery, opt?: SelectEditorOptions) {\n        super(hidden, opt);\n        this.updateItems();\n    }\n\n    getItems() {\n        return this.options.items || [];\n    }\n\n    protected emptyItemText() {\n        if (!isEmptyOrNull(this.options.emptyOptionText)) {\n            return this.options.emptyOptionText;\n        }\n        return super.emptyItemText();\n    }\n\n    updateItems() {\n        var items = this.getItems();\n        this.clearItems();\n\n        if (items.length > 0) {\n            var isStrings = typeof (items[0]) === 'string';\n            for (var item of items) {\n                var key = isStrings ? item : item[0];\n                var text = isStrings ? item : (item[1] ?? item[0]);\n                this.addOption(key, text, item, false);\n            }\n        }\n    }\n}\n\nexport interface SelectEditorOptions extends Select2CommonOptions {\n    items?: any[];\n    emptyOptionText?: string;\n}","import { Decorators } from \"../../decorators\";\nimport { startsWith } from \"../../q\";\nimport { SelectEditor, SelectEditorOptions } from \"./selecteditor\";\n\n@Decorators.registerEditor('Serenity.DateYearEditor')\nexport class DateYearEditor extends SelectEditor {\n\n    constructor(hidden: JQuery, opt: DateYearEditorOptions) {\n        super(hidden, opt);\n\n        this.updateItems();\n    }\n\n    getItems() {\n        var opt = this.options as DateYearEditorOptions;\n\n        if (opt.items != null && opt.items.length >= 1) {\n            return opt.items;\n        }\n\n        var years = [];\n        var minYear = (new Date()).getFullYear();\n        var maxYear = (new Date()).getFullYear();\n\n        opt.minYear = (opt.minYear ?? '-10').toString();\n        if (startsWith(opt.minYear, '-')) {\n            minYear -= parseInt(opt.minYear.substr(1), 10);\n        }\n        else if (startsWith(opt.minYear, '+')) {\n            minYear += parseInt(opt.minYear.substr(1), 10);\n        }\n        else {\n            minYear = parseInt(opt.minYear, 10);\n        }\n\n        opt.maxYear = (opt.maxYear ?? '+10').toString();\n        if (startsWith(opt.maxYear, '-')) {\n            maxYear -= parseInt(opt.maxYear.substr(1), 10);\n        }\n        else if (startsWith(opt.maxYear, '+')) {\n            maxYear += parseInt(opt.maxYear.substr(1), 10);\n        }\n        else {\n            maxYear = parseInt(opt.maxYear, 10);\n        }\n\n        if (opt.descending) {\n            for (var i = maxYear; i >= minYear; i--) {\n                years.push(i.toString());\n            }\n        }\n        else {\n            for (var i1 = minYear; i1 <= maxYear; i1++) {\n                years.push(i1.toString());\n            }\n        }\n\n        return years;\n    }\n}\n\nexport interface DateYearEditorOptions extends SelectEditorOptions {\n    minYear?: string;\n    maxYear?: string;\n    descending?: boolean;\n}","import { Decorators, EnumKeyAttribute } from \"../../decorators\";\nimport { Enum, getAttributes, tryGetText } from \"../../q\";\nimport { EnumTypeRegistry } from \"../../types/enumtyperegistry\";\nimport { Select2CommonOptions, Select2Editor } from \"./select2editor\";\n\nexport interface EnumEditorOptions extends Select2CommonOptions {\n    enumKey?: string;\n    enumType?: any;\n}\n\n@Decorators.registerEditor('Serenity.EnumEditor')\nexport class EnumEditor extends Select2Editor<EnumEditorOptions, Select2Item> {\n    constructor(hidden: JQuery, opt: EnumEditorOptions) {\n        super(hidden, opt);\n        this.updateItems();\n    }\n\n    protected updateItems(): void {\n        this.clearItems();\n\n        var enumType = this.options.enumType || EnumTypeRegistry.get(this.options.enumKey);\n        var enumKey = this.options.enumKey;\n\n        if (enumKey == null && enumType != null) {\n            var enumKeyAttr = getAttributes(enumType, EnumKeyAttribute, false);\n            if (enumKeyAttr.length > 0) {\n                enumKey = enumKeyAttr[0].value;\n            }\n        }\n\n        var values = Enum.getValues(enumType);\n        for (var x of values) {\n            var name = Enum.toString(enumType, x);\n            this.addOption(parseInt(x, 10).toString(),\n                (tryGetText('Enums.' + enumKey + '.' + name) ?? name), null, false);\n        }\n    }\n\n    protected allowClear() {\n        return (this.options.allowClear ?? true);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { endsWith, getInstanceType, getLookup, getLookupAsync, getTypeFullName, Lookup, reloadLookup, ScriptData } from \"../../q\";\nimport { Select2Editor, Select2EditorOptions, Select2SearchPromise, Select2SearchQuery, Select2SearchResult } from \"./select2editor\";\n\nexport interface LookupEditorOptions extends Select2EditorOptions {\n    lookupKey?: string;\n    async?: boolean;\n}\n\n@Decorators.registerEditor(\"Serenity.LookupEditorBase\")\nexport abstract class LookupEditorBase<TOptions extends LookupEditorOptions, TItem> extends Select2Editor<TOptions, TItem> {\n\n    constructor(input: JQuery, opt?: TOptions) {\n        super(input, opt);\n\n        if (!this.hasAsyncSource()) {\n            this.updateItems();\n            var self = this;\n            ScriptData.bindToChange('Lookup.' + this.getLookupKey(), this.uniqueName, function () {\n                if (!self.hasAsyncSource())\n                    self.updateItems();\n            });\n        }\n    }\n\n    hasAsyncSource(): boolean {\n        return !!this.options.async;\n    }\n\n    destroy(): void {\n        if (!this.hasAsyncSource())\n            ScriptData.unbindFromChange(this.uniqueName);\n\n        super.destroy();\n    }\n\n    protected getLookupKey(): string {\n        if (this.options.lookupKey != null) {\n            return this.options.lookupKey;\n        }\n\n        var key = getTypeFullName(getInstanceType(this));\n\n        var idx = key.indexOf('.');\n        if (idx >= 0) {\n            key = key.substring(idx + 1);\n        }\n\n        if (endsWith(key, 'Editor')) {\n            key = key.substr(0, key.length - 6);\n        }\n\n        return key;\n    }\n\n    protected lookup: Lookup<TItem>;\n\n    protected getLookupAsync(): PromiseLike<Lookup<TItem>> {\n        return getLookupAsync<TItem>(this.getLookupKey());\n    }\n\n    protected getLookup(): Lookup<TItem> {\n        return getLookup<TItem>(this.getLookupKey());\n    }\n\n    protected getItems(lookup: Lookup<TItem>) {\n        return this.filterItems(this.cascadeItems(lookup.items));\n    }\n\n    protected getIdField() {\n        return this.lookup != null ? this.lookup.idField : super.getIdField();\n    }\n\n    protected getItemText(item: TItem, lookup: Lookup<TItem>) {\n        if (lookup == null)\n            return super.itemText(item);\n\n        var textValue = lookup.textFormatter ? lookup.textFormatter(item) : (item as any)[lookup.textField];\n        return textValue == null ? '' : textValue.toString();\n    }\n\n    protected mapItem(item: TItem): Select2Item {\n        return {\n            id: this.itemId(item),\n            text: this.getItemText(item, this.lookup),\n            disabled: this.getItemDisabled(item, this.lookup),\n            source: item\n        };\n    }\n\n    protected getItemDisabled(item: TItem, lookup: Lookup<TItem>) {\n        return super.itemDisabled(item);\n    }\n\n    public updateItems() {\n        if (this.hasAsyncSource())\n            return;\n\n        this.clearItems();\n        this.lookup = this.getLookup();\n        var items = this.getItems(this.lookup);\n        for (var item of items)\n            this.addItem(this.mapItem(item));\n    }\n\n    protected asyncSearch(query: Select2SearchQuery, results: (result: Select2SearchResult<TItem>) => void): Select2SearchPromise {\n        return this.getLookupAsync().then(lookup => {\n            this.lookup = lookup;\n\n            var items = this.getItems(this.lookup);\n\n            if (query.idList != null) {\n                items = items.filter(x => query.idList.indexOf(this.itemId(x)) >= 0);\n            }\n\n            function getText(item: TItem) {\n                return this.getItemText(item, this.lookup);\n            }\n\n            items = Select2Editor.filterByText(items, getText.bind(this), query.searchTerm);\n\n            results({\n                items: items.slice(query.skip, query.take),\n                more: items.length >= query.take\n            });\n        }) as any;\n    }\n\n    protected getDialogTypeKey() {\n        var dialogTypeKey = super.getDialogTypeKey();\n        if (dialogTypeKey)\n            return dialogTypeKey;\n\n        return this.getLookupKey();\n    }\n\n    protected setCreateTermOnNewEntity(entity: TItem, term: string) {\n        (entity as any)[this.getLookup().textField] = term;\n    }\n\n    protected editDialogDataChange() {\n        reloadLookup(this.getLookupKey());\n    }\n}\n\n@Decorators.registerEditor(\"Serenity.LookupEditor\")\nexport class LookupEditor extends LookupEditorBase<LookupEditorOptions, any> {\n    constructor(hidden: JQuery, opt?: LookupEditorOptions) {\n        super(hidden, opt);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { ColumnSelection, Criteria, isEmptyOrNull, ListRequest, ListResponse, resolveUrl, serviceCall, ServiceOptions, startsWith } from \"../../q\";\nimport { Select2Editor, Select2EditorOptions, Select2SearchPromise, Select2SearchQuery, Select2SearchResult } from \"./select2editor\";\n\nexport interface ServiceLookupEditorOptions extends Select2EditorOptions {\n    service?: string;\n    idField: string;\n    textField: string;\n    pageSize?: number;\n    minimumResultsForSearch?: any;\n    sort: string[];\n    columnSelection?: ColumnSelection;\n    includeColumns?: string[];\n    excludeColumns?: string[];\n    includeDeleted?: boolean;\n    containsField?: string;\n    equalityFilter?: any;\n    criteria?: any[];\n}\n\n@Decorators.registerEditor(\"Serenity.ServiceLookupEditorBase\")\nexport abstract class ServiceLookupEditorBase<TOptions extends ServiceLookupEditorOptions, TItem> extends Select2Editor<TOptions, TItem> {\n\n    constructor(input: JQuery, opt?: TOptions) {\n        super(input, opt);\n    }\n\n    protected getDialogTypeKey() {\n        var dialogTypeKey = super.getDialogTypeKey();\n        if (dialogTypeKey)\n            return dialogTypeKey;\n\n        var service = this.getService();\n        if (startsWith(service, \"~/Services/\"))\n            service = service.substr(\"~/Services/\".length);\n\n        if (service.split('/').length == 3)\n            service = service.substr(0, service.lastIndexOf('/'));\n\n        return service.replace(\"/\", \".\");\n    }\n\n    protected getService(): string {\n        return this.options.service;\n    }\n\n    protected getServiceUrl() {\n        var url = this.getService();\n        if (url == null)\n            throw new Error(\"ServiceLookupEditor requires 'service' option to be configured!\");\n\n        if (!startsWith(url, \"~\") && !startsWith(url, \"/\") && url.indexOf('://') < 0)\n            url = \"~/Services/\" + url;\n\n        if (startsWith(url, \"~\"))\n            url = resolveUrl(url);\n\n        return url;\n    }\n\n    protected getIncludeColumns() {\n        var include = this.options.includeColumns || [];\n        var idField = this.getIdField();\n\n        if (idField && include.indexOf(idField) < 0)\n            include.push(idField);\n\n        var textField = this.getTextField();\n        if (textField && include.indexOf(textField) < 0)\n            include.push(textField);\n\n        return include;\n    }\n\n    protected getSort() {\n        return this.options.sort || (this.getTextField() ? [this.getTextField()] : null);\n    }\n\n    protected getCascadeCriteria(): any[] {\n\n        var val = this.get_cascadeValue();\n\n        if (val == null || val === '') {\n\n            if (!isEmptyOrNull(this.get_cascadeField())) {\n                return ['0', '=', '1'];\n            }\n\n            return null;\n        }\n\n        var fld = this.get_cascadeField();\n\n        return Criteria(fld).eq(val);\n    }\n\n    protected getFilterCriteria(): any[] {\n        var val = this.get_filterValue();\n\n        if (val == null || val === '') {\n            return null;\n        }\n\n        var fld = this.get_filterField();\n        return [[fld], '=', val];\n    }\n\n    protected getIdListCriteria(idList: any[]): any[] {\n        if (idList == null)\n            return null;\n\n        if (idList.length == 0)\n            return ['0', '=', '1'];\n\n        var idField = this.getIdField();\n        if (idField == null)\n            throw new Error(\"ServiceLookupEditor requires 'idField' option to be configured!\");\n\n        return Criteria(idField).in(idList);\n    }\n\n    protected getCriteria(query: Select2SearchQuery): any[] {\n        return Criteria.and(\n            Criteria.and(this.getIdListCriteria(query.idList), this.options.criteria),\n            Criteria.and(this.getCascadeCriteria(), this.getFilterCriteria()));\n    }\n\n    protected getListRequest(query: Select2SearchQuery): ListRequest {\n\n        var request: ListRequest = {};\n\n        if (query.searchTerm)\n            request.ContainsText = query.searchTerm;\n\n        request.Sort = this.getSort();\n        request.ColumnSelection = this.options.columnSelection || ColumnSelection.KeyOnly;\n        request.IncludeColumns = this.getIncludeColumns();\n        request.ExcludeColumns = this.options.excludeColumns;\n        request.ContainsField = this.options.containsField;\n        request.EqualityFilter = this.options.equalityFilter;\n        request.Criteria = this.getCriteria(query);\n        request.Skip = query.skip || 0;\n        request.Take = query.take ? (query.checkMore ? query.take + 1 : query.take) : 0;\n        request.IncludeDeleted = this.options.includeDeleted;\n        request.ExcludeTotalCount = true;\n\n        return request;\n    }\n\n    protected getServiceCallOptions(query: Select2SearchQuery, results: (result: Select2SearchResult<TItem>) => void): ServiceOptions<ListResponse<TItem>> {\n        return {\n            blockUI: false,\n            url: this.getServiceUrl(),\n            request: this.getListRequest(query),\n            onSuccess: response => {\n                var items = response.Entities || [];\n\n                if (items && query.take && query.checkMore && response.Entities.length > items.length)\n                    items = items.slice(0, query.take);\n\n                results({\n                    items: items.slice(0, query.take),\n                    more: query.checkMore && query.take && items.length > query.take\n                });\n            }\n        };\n    }\n\n    protected hasAsyncSource() {\n        return true;\n    }\n\n    protected asyncSearch(query: Select2SearchQuery, results: (result: Select2SearchResult<TItem>) => void): Select2SearchPromise {\n        var opt = this.getServiceCallOptions(query, results);\n        return serviceCall(opt);\n    }\n}\n\n@Decorators.registerEditor('Serenity.ServiceLookupEditor')\nexport class ServiceLookupEditor extends ServiceLookupEditorBase<ServiceLookupEditorOptions, any> {\n    constructor(hidden: JQuery, opt?: ServiceLookupEditorOptions) {\n        super(hidden, opt);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IReadOnly, IStringValue } from \"../../interfaces\";\nimport { endsWith, isEmptyOrNull, isTrimmedEmpty, resolveUrl, localText, trimToNull } from \"../../q\";\nimport { LazyLoadHelper } from \"../helpers/lazyloadhelper\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface HtmlContentEditorOptions {\n    cols?: any;\n    rows?: any;\n}\n\nexport interface CKEditorConfig {\n}    \n\n@Decorators.registerEditor('Serenity.HtmlContentEditor', [IStringValue, IReadOnly])\n@Decorators.element('<textarea/>')\nexport class HtmlContentEditor extends Widget<HtmlContentEditorOptions>\n    implements IStringValue, IReadOnly {\n\n    private _instanceReady: boolean;\n\n    constructor(textArea: JQuery, opt?: HtmlContentEditorOptions) {\n        super(textArea, opt)\n\n        this._instanceReady = false;\n        HtmlContentEditor.includeCKEditor();\n\n        var id = textArea.attr('id');\n        if (isTrimmedEmpty(id)) {\n            textArea.attr('id', this.uniqueName);\n            id = this.uniqueName;\n        }\n\n        if (this.options.cols != null)\n            textArea.attr('cols', this.options.cols);\n\n        if (this.options.rows != null)\n            textArea.attr('rows', this.options.rows);\n\n        this.addValidationRule(this.uniqueName, e => {\n            if (e.hasClass('required')) {\n                var value = trimToNull(this.get_value());\n                if (value == null)\n                    return localText('Validation.Required');\n            }\n\n            return null;\n        });\n\n        LazyLoadHelper.executeOnceWhenShown(this.element, () => {\n            var config = this.getConfig();\n            (window as any)['CKEDITOR'] && (window as any)['CKEDITOR'].replace(id, config);\n        });\n    }\n\n    protected instanceReady(x: any): void {\n        this._instanceReady = true;\n        $(x.editor.container.$).addClass(this.element.attr('class'));\n        this.element.addClass('select2-offscreen').css('display', 'block');\n\n        // for validation to work\n        x.editor.setData(this.element.val());\n        x.editor.setReadOnly(this.get_readOnly());\n    }\n\n    protected getLanguage(): string {\n        if (!(window as any)['CKEDITOR'])\n            return 'en';\n\n        var CKEDITOR = (window as any)['CKEDITOR'];\n\n        var lang = (trimToNull($('html').attr('lang')) ?? 'en');\n        if (!!CKEDITOR.lang.languages[lang]) {\n            return lang;\n        }\n        if (lang.indexOf(String.fromCharCode(45)) >= 0) {\n            lang = lang.split(String.fromCharCode(45))[0];\n        }\n        if (!!CKEDITOR.lang.languages[lang]) {\n            return lang;\n        }\n        return 'en';\n    }\n\n    protected getConfig(): CKEditorConfig {\n        return {\n            customConfig: '',\n            language: this.getLanguage(),\n            bodyClass: 's-HtmlContentBody',\n            on: {\n                instanceReady: (x: any) => this.instanceReady(x),\n                change: (x1: any) => {\n                    x1.editor.updateElement();\n                    this.element.triggerHandler('change');\n                }\n            },\n            toolbarGroups: [\n                {\n                    name: 'clipboard',\n                    groups: ['clipboard', 'undo']\n                }, {\n                    name: 'editing',\n                    groups: ['find', 'selection', 'spellchecker']\n                }, {\n                    name: 'insert',\n                    groups: ['links', 'insert', 'blocks', 'bidi', 'list', 'indent']\n                }, {\n                    name: 'forms',\n                    groups: ['forms', 'mode', 'document', 'doctools', 'others', 'about', 'tools']\n                }, {\n                    name: 'colors'\n                }, {\n                    name: 'basicstyles',\n                    groups: ['basicstyles', 'cleanup']\n                }, {\n                    name: 'align'\n                }, {\n                    name: 'styles'\n                }],\n            removeButtons: 'SpecialChar,Anchor,Subscript,Styles',\n            format_tags: 'p;h1;h2;h3;pre',\n            removeDialogTabs: 'image:advanced;link:advanced',\n            removePlugins: 'uploadimage,image2',\n            contentsCss: resolveUrl('~/Content/site/site.htmlcontent.css'),\n            entities: false,\n            entities_latin: false,\n            entities_greek: false,\n            autoUpdateElement: true,\n            height: (this.options.rows == null || this.options.rows === 0) ? null :\n                ((this.options.rows * 20) + 'px')\n        };\n    }\n\n    protected getEditorInstance() {\n        var id = this.element.attr('id');\n        return (window as any)['CKEDITOR'].instances[id];\n    }\n\n    destroy(): void {\n        var instance = this.getEditorInstance();\n        instance && instance.destroy(true);\n        super.destroy();\n    }\n\n    get_value(): string {\n        var instance = this.getEditorInstance();\n        if (this._instanceReady && instance) {\n            return instance.getData();\n        }\n        else {\n            return this.element.val();\n        }\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string): void {\n        var instance = this.getEditorInstance();\n        this.element.val(value);\n        if (this._instanceReady && instance)\n            instance.setData(value);\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n\n    get_readOnly(): boolean {\n        return !isEmptyOrNull(this.element.attr('disabled'));\n    }\n\n    set_readOnly(value: boolean) {\n\n        if (this.get_readOnly() !== value) {\n            if (value) {\n                this.element.attr('disabled', 'disabled');\n            }\n            else {\n                this.element.removeAttr('disabled');\n            }\n\n            var instance = this.getEditorInstance();\n            if (this._instanceReady && instance)\n                instance.setReadOnly(value);\n        }\n    }\n\n    static CKEditorVer = \"4.7.1\";\n    static CKEditorBasePath: string;\n\n    static getCKEditorBasePath(): string {\n        var path = HtmlContentEditor.CKEditorBasePath;\n        if (path == null) {\n            // @ts-ignore\n            if (typeof CKEDITOR_BASEPATH !== \"undefined\" && CKEDITOR_BASEPATH)\n                // @ts-ignore\n                path = CKEDITOR_BASEPATH;\n            else\n                return \"~/Serenity.Assets/Scripts/ckeditor/\";\n        }\n        if (endsWith(path, '/'))\n            return path;\n        return path + '/';\n    }\n\n    static includeCKEditor(): void {\n        if ((window as any)['CKEDITOR']) {\n            return;\n        }\n\n        var script = $('#CKEditorScript');\n        if (script.length > 0) {\n            return;\n        }\n\n        $('<script/>').attr('type', 'text/javascript')\n            .attr('id', 'CKEditorScript')\n            .attr('src', resolveUrl(HtmlContentEditor.getCKEditorBasePath() + 'ckeditor.js?v=' +\n                HtmlContentEditor.CKEditorVer))\n            .appendTo(window.document.head);\n    };\n}\n\n@Decorators.registerEditor('Serenity.HtmlNoteContentEditor')\nexport class HtmlNoteContentEditor extends HtmlContentEditor {\n    constructor(textArea: JQuery, opt?: HtmlContentEditorOptions) {\n        super(textArea, opt);\n    }\n\n    protected getConfig(): CKEditorConfig {\n        var config = super.getConfig();\n        (config as any).removeButtons += ',Cut,Copy,Paste,BulletedList,NumberedList,' +\n            'Indent,Outdent,SpecialChar,Subscript,Superscript,Styles,PasteText,' +\n            'PasteFromWord,Strike,Link,Unlink,CreatePlaceholder,Image,Table,' +\n            'HorizontalRule,Source,Maximize,Format,Font,FontSize,Anchor,Blockquote,' +\n            'CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,' +\n            'JustifyRight,JustifyBlock,Superscript,RemoveFormat';\n\n        (config as any).removePlugins = 'elementspath,uploadimage,image2';\n        return config;\n    }\n}\n\n@Decorators.registerEditor('Serenity.HtmlReportContentEditor')\nexport class HtmlReportContentEditor extends HtmlContentEditor {\n    constructor(textArea: JQuery, opt?: HtmlContentEditorOptions) {\n        super(textArea, opt);\n    }\n\n    protected getConfig(): CKEditorConfig {\n        var config = super.getConfig();\n        (config as any).removeButtons += ',Cut,Copy,Paste,BulletedList,NumberedList,' +\n            'Indent,Outdent,SpecialChar,Subscript,Superscript,Styles,' +\n            'PasteText,PasteFromWord,Strike,Link,Unlink,CreatePlaceholder,' +\n            'Image,Table,HorizontalRule,Source,Maximize,Format,Font,FontSize,' +\n            'Anchor,Blockquote,CreatePlaceholder,BGColor,JustifyLeft,JustifyCenter,' +\n            'JustifyRight,JustifyBlock,Superscript,RemoveFormat';\n\n        (config as any).removePlugins = 'elementspath,uploadimage,image2';\n        return config;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { Widget } from \"../widgets/widget\";\n\n// http://digitalbush.com/projects/masked-input-plugin/\n@Decorators.registerEditor('Serenity.MaskedEditor', [IStringValue])\n@Decorators.element(\"<input type=\\\"text\\\"/>\")\nexport class MaskedEditor extends Widget<MaskedEditorOptions> {\n\n    constructor(input: JQuery, opt?: MaskedEditorOptions) {\n        super(input, opt);\n\n        (input as any).mask(this.options.mask || '', {\n            placeholder: (this.options.placeholder ?? '_')\n        });\n    }\n\n    public get value(): string {\n        this.element.triggerHandler(\"blur.mask\");\n        return this.element.val();\n    }\n\n    protected get_value(): string {\n        return this.value;\n    }\n\n    public set value(value: string) {\n        this.element.val(value);\n    }\n\n    protected set_value(value: string): void {\n        this.value = value;\n    }\n}\n\nexport interface MaskedEditorOptions {\n    mask?: string;\n    placeholder?: string;\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { addValidationRule, isEmptyOrNull, localText } from \"../../q\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface RecaptchaOptions {\n    siteKey?: string;\n    language?: string;\n}\n\n@Decorators.registerEditor('Serenity.Recaptcha', [IStringValue])\n@Decorators.element(\"<div/>\")\nexport class Recaptcha extends Widget<RecaptchaOptions> implements IStringValue {\n    constructor(div: JQuery, opt: RecaptchaOptions) {\n        super(div, opt);\n\n        this.element.addClass('g-recaptcha').attr('data-sitekey', this.options.siteKey);\n        if (!!((window as any)['grecaptcha'] == null && $('script#RecaptchaInclude').length === 0)) {\n            var src = 'https://www.google.com/recaptcha/api.js';\n            var lng = this.options.language;\n            if (lng == null) {\n                lng = $('html').attr('lang') ?? '';\n            }\n            src += '?hl=' + lng;\n            $('<script/>').attr('id', 'RecaptchaInclude').attr('src', src).appendTo(document.body);\n        }\n\n        var valInput = $('<input />').insertBefore(this.element)\n            .attr('id', this.uniqueName + '_validate').val('x');\n\n        var gro: Record<string, string> = {};\n        gro['visibility'] = 'hidden';\n        gro['width'] = '0px';\n        gro['height'] = '0px';\n        gro['padding'] = '0px';\n\n        var input = valInput.css(gro);\n        var self = this;\n\n        addValidationRule(input, this.uniqueName, e => {\n            if (isEmptyOrNull(this.get_value())) {\n                return localText('Validation.Required');\n            }\n            return null;\n        });\n    }\n\n    get_value(): string {\n        return this.element.find('.g-recaptcha-response').val();\n    }\n\n    set_value(value: string): void {\n        // ignore\n    }\n}","import { alertDialog, htmlEncode, blockUI, blockUndo, endsWith, format, iframeDialog, isEmptyOrNull, notifyError, replaceAll, resolveUrl, round, startsWith, localText, ServiceResponse } from \"../../q\";\n\nexport namespace UploadHelper {\n\n    export function addUploadInput(options: UploadInputOptions): JQuery {\n        options.container.addClass('fileinput-button');\n\n        var uploadUrl = options.uploadUrl || '~/File/TemporaryUpload';\n        if (options.uploadIntent) {\n            if (uploadUrl.indexOf('?') < 0)\n                uploadUrl += \"?\"\n            else\n                uploadUrl += \"&\";\n            uploadUrl += \"uploadIntent=\";\n            uploadUrl += encodeURIComponent(options.uploadIntent);\n        }\n\n        var uploadInput = $('<input/>').attr('type', 'file')\n            .attr('name', options.inputName + '[]')\n            .attr('data-url', resolveUrl(uploadUrl))\n            .appendTo(options.container);\n\n        if (options.allowMultiple) {\n            uploadInput.attr('multiple', 'multiple');\n        }\n\n        (uploadInput as any).fileupload({\n            dataType: 'json',\n            dropZone: options.zone,\n            pasteZone: options.zone,\n            done: function (e: JQueryEventObject, data: any) {\n                var response = data.result;\n                if (response.Error) {\n                    notifyError(response.Error.Message);\n                    return;\n                } \n\n                if (options.fileDone != null) {\n                    options.fileDone(response, data.files[0].name, data);\n                }\n            },\n            fail: function(e: JQueryEventObject, opt: any) {\n                var xhr = opt?._response?.jqXHR;\n                if (!xhr) {\n                    notifyError('An error occurred during file upload.');\n                    return;\n                }\n\n                if ((xhr.getResponseHeader('content-type') || '')\n                    .toLowerCase().indexOf('application/json') >= 0) {\n                    var json = $.parseJSON(xhr.responseText);\n                    if (json && json.Error && json.Error.Message) {\n                        notifyError(json.Error.Message);\n                        return;\n                    }\n                }\n\n                var html = xhr.responseText;\n                if (html) {\n                    iframeDialog({ html: html });\n                    return;\n                }\n\n                if (!xhr.status) {\n                    if (xhr.statusText != \"abort\")\n                        notifyError(\"An unknown connection error occurred! Check browser console for details.\");\n                    return;\n                }\n\n                if (xhr.status == 500) {\n                    notifyError(\"HTTP 500: Connection refused! Check browser console for details.\");\n                    return;\n                }\n\n                notifyError(\"HTTP \" + xhr.status + ' error! Check browser console for details.');\n            },\n            start: function () {\n                blockUI(null);\n                if (options.progress != null) {\n                    options.progress.show();\n                }\n            },\n            stop: function () {\n                blockUndo();\n                if (options.progress != null) {\n                    options.progress.hide();\n                }\n            },\n            progress: function (e1: JQueryEventObject, data1: any) {\n                if (options.progress != null) {\n                    var percent = data1.loaded / data1.total * 100;\n                    options.progress.children().css('width', percent.toString() + '%');\n                }\n            }\n        });\n        return uploadInput;\n    }\n\n    export function checkImageConstraints(file: UploadResponse,\n        opt: FileUploadConstraints): boolean {\n\n        if (!file.IsImage && !opt.allowNonImage) {\n            alertDialog(localText('Controls.ImageUpload.NotAnImageFile'));\n            return false;\n        }\n        if (opt.minSize > 0 && file.Size < opt.minSize) {\n            alertDialog(format(localText('Controls.ImageUpload.UploadFileTooSmall'),\n                fileSizeDisplay(opt.minSize)));\n            return false;\n        }\n        if (opt.maxSize > 0 && file.Size > opt.maxSize) {\n            alertDialog(format(localText('Controls.ImageUpload.UploadFileTooBig'),\n                fileSizeDisplay(opt.maxSize)));\n            return false;\n        }\n        if (!file.IsImage) {\n            return true;\n        }\n        if (opt.minWidth > 0 && file.Width < opt.minWidth) {\n            alertDialog(format(localText('Controls.ImageUpload.MinWidth'), opt.minWidth));\n            return false;\n        }\n        if (opt.maxWidth > 0 && file.Width > opt.maxWidth) {\n            alertDialog(format(localText('Controls.ImageUpload.MaxWidth'), opt.maxWidth));\n            return false;\n        }\n        if (opt.minHeight > 0 && file.Height < opt.minHeight) {\n            alertDialog(format(localText('Controls.ImageUpload.MinHeight'), opt.minHeight));\n            return false;\n        }\n        if (opt.maxHeight > 0 && file.Height > opt.maxHeight) {\n            alertDialog(format(localText('Controls.ImageUpload.MaxHeight'), opt.maxHeight));\n            return false;\n        }\n        return true;\n    }\n\n    export function fileNameSizeDisplay(name: string, bytes: number): string {\n        return name + ' (' + fileSizeDisplay(bytes) + ')';\n    }\n\n    export function fileSizeDisplay(bytes: number): string {\n        var byteSize = round(bytes * 100 / 1024) * 0.01;\n        var suffix = 'KB';\n        if (byteSize >= 1024) {\n            byteSize = round(byteSize * 100 / 1024) * 0.01;\n            suffix = 'MB';\n        }\n        var sizeParts = byteSize.toString().split(String.fromCharCode(46));\n        var value;\n        if (sizeParts.length > 1) {\n            value = sizeParts[0] + '.' + sizeParts[1].substr(0, 2);\n        }\n        else {\n            value = sizeParts[0];\n        }\n        return value + ' ' + suffix;\n    }\n\n    export function hasImageExtension(filename: string): boolean {\n        if (isEmptyOrNull(filename)) {\n            return false;\n        }\n        filename = filename.toLowerCase();\n        return endsWith(filename, '.jpg') || endsWith(filename, '.jpeg') ||\n            endsWith(filename, '.gif') || endsWith(filename, '.png');\n    }\n\n    export function thumbFileName(filename: string): string {\n        filename = filename ?? '';\n        var idx = filename.lastIndexOf('.');\n        if (idx >= 0) {\n            filename = filename.substr(0, idx);\n        }\n        return filename + '_t.jpg';\n    }\n\n    export function dbFileUrl(filename: string): string {\n        filename = replaceAll(filename ?? '', '\\\\', '/');\n        return resolveUrl('~/upload/') + filename;\n    }\n\n    export function colorBox(link: JQuery, options: any): void {\n        (link as any).colorbox({\n            current: htmlEncode(localText('Controls.ImageUpload.ColorboxCurrent')),\n            previous: htmlEncode(localText('Controls.ImageUpload.ColorboxPrior')),\n            next: htmlEncode(localText('Controls.ImageUpload.ColorboxNext')),\n            close: htmlEncode(localText('Controls.ImageUpload.ColorboxClose'))\n        });\n    }\n\n    export function populateFileSymbols(container: JQuery, items: UploadedFile[],\n        displayOriginalName?: boolean, urlPrefix?: string): void {\n\n        items = items || [];\n        container.html('');\n        for (var index = 0; index < items.length; index++) {\n            var item = items[index];\n            var li = $('<li/>').addClass('file-item').data('index', index);\n            var isImage = hasImageExtension(item.Filename);\n            if (isImage) {\n                li.addClass('file-image');\n            }\n            else {\n                li.addClass('file-binary');\n            }\n            var editLink = '#' + index;\n            var thumb = $('<a/>').addClass('thumb').appendTo(li);\n            var originalName = item.OriginalName ?? '';\n            var fileName = item.Filename;\n            if (urlPrefix != null && fileName != null &&\n                !startsWith(fileName, 'temporary/')) {\n                fileName = urlPrefix + fileName;\n            }\n\n            thumb.attr('href', dbFileUrl(fileName));\n            thumb.attr('target', '_blank');\n            if (!isEmptyOrNull(originalName)) {\n                thumb.attr('title', originalName);\n            }\n\n            if (isImage) {\n                thumb.css('backgroundImage', \"url('\" + dbFileUrl(\n                    thumbFileName(item.Filename)) + \"')\");\n                colorBox(thumb, new Object());\n            }\n\n            if (displayOriginalName) {\n                $('<div/>').addClass('filename').text(originalName)\n                    .attr('title', originalName).appendTo(li);\n            }\n\n            li.appendTo(container);\n        }\n    }\n}\n\nexport interface UploadedFile {\n    Filename?: string;\n    OriginalName?: string;\n}\n\nexport interface UploadInputOptions {\n    container?: JQuery;\n    zone?: JQuery;\n    progress?: JQuery;\n    inputName?: string;\n    allowMultiple?: boolean;\n    uploadIntent?: string;\n    uploadUrl?: string;\n    fileDone?: (p1: UploadResponse, p2: string, p3: any) => void;\n}\n\nexport interface UploadResponse extends ServiceResponse {\n    TemporaryFile: string;\n    Size: number;\n    IsImage: boolean;\n    Width: number;\n    Height: number;\n}\n\nexport interface FileUploadConstraints {\n    minWidth?: number;\n    maxWidth?: number;\n    minHeight?: number;\n    maxHeight?: number;\n    minSize?: number;\n    maxSize?: number;\n    allowNonImage?: boolean;\n    originalNameProperty?: string;\n}\n","import { Decorators } from \"../../decorators\";\nimport { IGetEditValue, IReadOnly, ISetEditValue, IValidateRequired } from \"../../interfaces\";\nimport { endsWith, extend, isEmptyOrNull, isInstanceOfType, isTrimmedEmpty, PropertyItem, replaceAll, startsWith, localText, trimToNull } from \"../../q\";\nimport { FileUploadConstraints, UploadedFile, UploadHelper, UploadInputOptions } from \"../helpers/uploadhelper\";\nimport { Toolbar, ToolButton } from \"../widgets/toolbar\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface FileUploadEditorOptions extends FileUploadConstraints {\n    displayFileName?: boolean;\n    uploadIntent?: string;\n    uploadUrl?: string;\n    urlPrefix?: string;\n}\n\nexport interface ImageUploadEditorOptions extends FileUploadEditorOptions {\n}\n\n@Decorators.registerEditor('Serenity.FileUploadEditor', [IReadOnly, IGetEditValue, ISetEditValue, IValidateRequired])\n@Decorators.element('<div/>')\nexport class FileUploadEditor extends Widget<FileUploadEditorOptions>\n    implements IReadOnly, IGetEditValue, ISetEditValue, IValidateRequired {\n\n    constructor(div: JQuery, opt: FileUploadEditorOptions) {\n        super(div, opt);\n\n        if (!opt || opt.allowNonImage == null)\n            this.options.allowNonImage = true;\n\n        div.addClass('s-FileUploadEditor');\n        \n        if (isEmptyOrNull(this.options.originalNameProperty))\n            div.addClass('hide-original-name');\n\n        this.toolbar = new Toolbar($('<div/>').appendTo(this.element), {\n            buttons: this.getToolButtons()\n        });\n\n        this.progress = $('<div><div></div></div>')\n            .addClass('upload-progress')\n            .prependTo(this.toolbar.element);\n\n        var uio = this.getUploadInputOptions();\n        this.uploadInput = UploadHelper.addUploadInput(uio);\n\n        this.fileSymbols = $('<ul/>').appendTo(this.element);\n\n        if (!this.element.attr('id'))\n            this.element.attr('id', this.uniqueName);\n\n        this.hiddenInput = $('<input type=\"text\" class=\"s-offscreen\" name=\"' + this.uniqueName +\n            '_Validator\" data-vx-highlight=\"' + this.element.attr('id') + '\"/>')\n            .appendTo(this.element);\n\n        this.updateInterface();\n    }\n\n    protected getUploadInputOptions(): UploadInputOptions {\n        return {\n            container: this.toolbar.findButton('add-file-button'),\n            zone: this.element,\n            inputName: this.uniqueName,\n            progress: this.progress,\n            uploadIntent: this.options.uploadIntent,\n            uploadUrl: this.options.uploadUrl,\n            fileDone: (response, name, data) => {\n                if (!UploadHelper.checkImageConstraints(response, this.options)) {\n                    return;\n                }\n\n                var newEntity: UploadedFile = {\n                    OriginalName: name,\n                    Filename: response.TemporaryFile\n                };\n\n                this.entity = newEntity;\n                this.populate();\n                this.updateInterface();\n\n                var validator = this.hiddenInput.closest('form').data('validator');\n                if (validator != null) {\n                    validator.element(this.hiddenInput);\n                }\n            }\n        }\n    }\n\n    protected addFileButtonText(): string {\n        return localText('Controls.ImageUpload.AddFileButton');\n    }\n\n    protected getToolButtons(): ToolButton[] {\n        return [\n            {\n                title: this.addFileButtonText(),\n                action: 'add-file',\n                cssClass: 'add-file-button',\n                onClick: function () {\n                }\n            },\n            {\n                title: '',\n                hint: localText('Controls.ImageUpload.DeleteButtonHint'),\n                action: 'delete',\n                cssClass: 'delete-button',\n                onClick: () => {\n                    this.entity = null;\n                    this.populate();\n                    this.updateInterface();\n\n                    var validator = this.hiddenInput.closest('form').data('validator');\n                    if (validator != null) {\n                        validator.element(this.hiddenInput);\n                    }\n                }\n            }\n        ];\n    }\n\n    protected populate(): void {\n        var displayOriginalName = this.options.displayFileName ||\n            !isTrimmedEmpty(this.options.originalNameProperty);\n\n        if (this.entity == null) {\n            UploadHelper.populateFileSymbols(this.fileSymbols,\n                null, displayOriginalName, this.options.urlPrefix);\n        }\n        else {\n            UploadHelper.populateFileSymbols(\n                this.fileSymbols, [this.entity], displayOriginalName,\n                this.options.urlPrefix);\n        }\n\n        this.hiddenInput.val(trimToNull((this.get_value() || {}).Filename));\n    }\n\n    protected updateInterface(): void {\n        var addButton = this.toolbar.findButton('add-file-button');\n        var delButton = this.toolbar.findButton('delete-button');\n        addButton.toggleClass('disabled', this.get_readOnly());\n        delButton.toggleClass('disabled', this.get_readOnly() ||\n            this.entity == null);\n    }\n\n    get_readOnly(): boolean {\n        return this.uploadInput.attr('disabled') != null;\n    }\n\n    set_readOnly(value: boolean): void {\n        if (this.get_readOnly() !== value) {\n            if (value) {\n                this.uploadInput.attr('disabled', 'disabled');\n                try {\n                    (this.uploadInput as any).fileupload('disable');\n                }\n                catch {\n                }\n            }\n            else {\n                this.uploadInput.removeAttr('disabled');\n                try {\n                    (this.uploadInput as any).fileupload('enable');\n                } catch {\n                }\n            }\n            this.updateInterface();\n        }\n    }\n\n    get_required(): boolean {\n        return this.hiddenInput.hasClass('required');\n    }\n\n    set_required(value: boolean): void {\n        this.hiddenInput.toggleClass('required', !!value);\n    }\n\n    get_value(): UploadedFile {\n        if (this.entity == null) {\n            return null;\n        }\n        var copy = extend({}, this.entity);\n        return copy;\n    }\n\n    get value(): UploadedFile {\n        return this.get_value();\n    }\n\n    set_value(value: UploadedFile): void {\n        var stringValue = value as string;\n        if (typeof stringValue === \"string\") {\n            var stringValue = trimToNull(stringValue);\n            if (value != null) {\n                var idx = stringValue.indexOf('/');\n                if (idx < 0)\n                    idx = stringValue.indexOf('\\\\');\n                value = <UploadedFile>{\n                    Filename: value,\n                    OriginalName: stringValue.substring(idx + 1)\n                }\n            }\n        }\n        else if (value != null && isTrimmedEmpty(value.Filename))\n            value = null;\n\n        if (value != null) {\n            if (value.Filename == null) {\n                this.entity = null;\n            }\n            else {\n                this.entity = extend({}, value);\n            }\n        }\n        else {\n            this.entity = null;\n        }\n        this.populate();\n\n        var validator = this.hiddenInput.closest('form').data('validator');\n        if (validator != null) {\n            validator.element(this.hiddenInput);\n        }\n\n        this.updateInterface();\n    }\n\n    set value(v: UploadedFile) {\n        this.set_value(v);\n    }\n\n    getEditValue(property: PropertyItem, target: any) {\n        target[property.name] = this.entity == null ? null :\n            trimToNull(this.entity.Filename);\n    }\n\n    setEditValue(source: any, property: PropertyItem) {\n        var value: UploadedFile = {};\n        value.Filename = source[property.name];\n        if (isEmptyOrNull(this.options.originalNameProperty)) {\n\n            if (this.options.displayFileName) {\n                var s = (value.Filename ?? '');\n                var idx = replaceAll(s, '\\\\', '/').lastIndexOf('/');\n                if (idx >= 0) {\n                    value.OriginalName = s.substr(idx + 1);\n                }\n                else {\n                    value.OriginalName = s;\n                }\n            }\n        }\n        else {\n            value.OriginalName = source[this.options.originalNameProperty];\n        }\n\n        this.set_value(value);\n    }\n\n    protected entity: UploadedFile;\n    protected toolbar: Toolbar;\n    protected progress: JQuery;\n    protected fileSymbols: JQuery;\n    protected uploadInput: JQuery;\n    protected hiddenInput: JQuery;\n}\n\n@Decorators.registerEditor('Serenity.ImageUploadEditor')\nexport class ImageUploadEditor extends FileUploadEditor {\n    constructor(div: JQuery, opt: ImageUploadEditorOptions) {\n        super(div, opt);\n\n        if (opt && opt.allowNonImage == null)\n            this.options.allowNonImage = false;\n\n        div.addClass('s-ImageUploadEditor');\n    }\n}\n\n@Decorators.registerEditor('Serenity.MultipleFileUploadEditor', [IReadOnly, IGetEditValue, ISetEditValue, IValidateRequired])\n@Decorators.element('<div/>')\nexport class MultipleFileUploadEditor extends Widget<FileUploadEditorOptions>\n    implements IReadOnly, IGetEditValue, ISetEditValue, IValidateRequired {\n\n    private entities: UploadedFile[];\n    private toolbar: Toolbar;\n    private fileSymbols: JQuery;\n    private uploadInput: JQuery;\n    protected progress: JQuery;\n    protected hiddenInput: JQuery;\n\n    constructor(div: JQuery, opt: ImageUploadEditorOptions) {\n        super(div, opt);\n\n        this.entities = [];\n        div.addClass('s-MultipleFileUploadEditor');\n        var self = this;\n        this.toolbar = new Toolbar($('<div/>').appendTo(this.element), {\n            buttons: this.getToolButtons()\n        });\n\n        this.progress = $('<div><div></div></div>')\n            .addClass('upload-progress')\n            .prependTo(this.toolbar.element);\n\n        this.uploadInput = UploadHelper.addUploadInput(this.getUploadInputOptions());\n\n        this.fileSymbols = $('<ul/>').appendTo(this.element);\n        if (!this.element.attr('id')) {\n            this.element.attr('id', this.uniqueName);\n        }\n\n        this.hiddenInput = $('<input type=\"text\" class=\"s-offscreen\" name=\"' + this.uniqueName +\n            '_Validator\" data-vx-highlight=\"' + this.element.attr('id') + '\" multiple=\"multiple\"></input>').appendTo(this.element);\n\n        this.updateInterface();\n    }\n\n    protected getUploadInputOptions(): UploadInputOptions {\n        var addFileButton = this.toolbar.findButton('add-file-button');\n\n        return {\n            container: addFileButton,\n            zone: this.element,\n            inputName: this.uniqueName,\n            progress: this.progress,\n            uploadIntent: this.options.uploadIntent,\n            uploadUrl: this.options.uploadUrl,\n            allowMultiple: true,\n            fileDone: (response, name) => {\n                if (!UploadHelper.checkImageConstraints(response, this.options)) {\n                    return;\n                }\n                var newEntity = { OriginalName: name, Filename: response.TemporaryFile };\n                this.entities.push(newEntity);\n                this.populate();\n\n                var validator = this.hiddenInput.closest('form').data('validator');\n                if (validator != null) {\n                    validator.element(this.hiddenInput);\n                }\n\n                this.updateInterface();\n            }\n        }\n    }\n\n    protected addFileButtonText(): string {\n        return localText('Controls.ImageUpload.AddFileButton');\n    }\n\n    protected getToolButtons(): ToolButton[] {\n        return [{\n            title: this.addFileButtonText(),\n            action: 'add-file',\n            cssClass: 'add-file-button',\n            onClick: function () {\n            }\n        }];\n    }\n\n    protected populate(): void {\n        UploadHelper.populateFileSymbols(this.fileSymbols, this.entities,\n            true, this.options.urlPrefix);\n\n        this.fileSymbols.children().each((i, e) => {\n            var x = i;\n            $(\"<a class='delete'></a>\").appendTo($(e).children('.filename'))\n                .click(ev => {\n                    ev.preventDefault();\n                    this.entities.splice(x, 1);\n                    this.populate();\n\n                    var validator = this.hiddenInput.closest('form').data('validator');\n                    if (validator != null) {\n                        validator.element(this.hiddenInput);\n                    }\n                });\n        });\n\n        this.hiddenInput.val(trimToNull((this.get_value()[0] || {}).Filename));\n    }\n\n    protected updateInterface(): void {\n        var addButton = this.toolbar.findButton('add-file-button');\n        addButton.toggleClass('disabled', this.get_readOnly());\n        this.fileSymbols.find('a.delete').toggle(!this.get_readOnly());\n    }\n\n    get_readOnly(): boolean {\n        return this.uploadInput.attr('disabled') != null;\n    }\n\n    set_readOnly(value: boolean): void {\n        if (this.get_readOnly() !== value) {\n            if (value) {\n                this.uploadInput.attr('disabled', 'disabled');\n                try {\n                    (this.uploadInput as any).fileupload('disable');\n                }\n                catch {\n                }\n            }\n            else {\n                this.uploadInput.removeAttr('disabled');\n                try {\n                    (this.uploadInput as any).fileupload('enable');\n                } catch {\n                }\n            }\n            this.updateInterface();\n        }\n    }\n\n    get_required(): boolean {\n        return this.hiddenInput.hasClass('required');\n    }\n\n    set_required(value: boolean): void {\n        this.hiddenInput && this.hiddenInput.toggleClass('required', !!value);\n    }\n\n    get_value(): UploadedFile[] {\n        return this.entities.map(function (x) {\n            return extend({}, x);\n        });\n    }\n\n    get value(): UploadedFile[] {\n        return this.get_value();\n    }\n\n    set_value(value: UploadedFile[]) {\n        this.entities = (value || []).map(function (x) {\n            return extend({}, x);\n        });\n        this.populate();\n        this.updateInterface();\n    }\n\n    set value(v: UploadedFile[]) {\n        this.set_value(v);\n    }\n\n    getEditValue(property: PropertyItem, target: any) {\n        if (this.jsonEncodeValue) {\n            target[property.name] = JSON.stringify(this.get_value());\n        }\n        else {\n            target[property.name] = this.get_value();\n        }\n    }\n\n    setEditValue(source: any, property: PropertyItem) {\n        var val = source[property.name];\n        if (isInstanceOfType(val, String)) {\n            var json = trimToNull(val) ?? '[]';\n            if (startsWith(json, '[') && endsWith(json, ']')) {\n                this.set_value($.parseJSON(json));\n            }\n            else {\n                this.set_value([{\n                    Filename: json,\n                    OriginalName: 'UnknownFile'\n                }]);\n            }\n        }\n        else {\n            this.set_value(val as any);\n        }\n    }\n\n    @Decorators.option()\n    public jsonEncodeValue: boolean;\n}\n\n@Decorators.registerEditor('Serenity.MultipleImageUploadEditor')\nexport class MultipleImageUploadEditor extends MultipleFileUploadEditor {\n    constructor(div: JQuery, opt: ImageUploadEditorOptions) {\n        super(div, opt);\n\n        div.addClass('s-MultipleImageUploadEditor');\n    }\n}","import { ArgumentNullException, Criteria, ListRequest, delegateCombine, delegateRemove, formatDate, isEmptyOrNull, isTrimmedEmpty, localText, notifyWarning, parseDate, toId, tryGetText } from \"../../q\";\nimport { Decorators } from \"../../decorators\";\nimport { DateEditor } from \"../editors/dateeditor\";\nimport { DateTimeEditor, DateTimeEditorOptions } from \"../editors/datetimeeditor\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { SelectEditor, SelectEditorOptions } from \"../editors/selecteditor\";\nimport { Widget } from \"../widgets/widget\";\nimport { QuickFilter } from \"./quickfilter\";\n\nexport interface QuickFilterBarOptions {\n    filters: QuickFilter<Widget<any>, any>[];\n    getTitle?: (filter: QuickFilter<Widget<any>, any>) => string;\n    idPrefix?: string;\n}\n\n@Decorators.registerClass('Serenity.QuickFilterBar')\n@Decorators.element(\"<div/>\")\nexport class QuickFilterBar extends Widget<QuickFilterBarOptions> {\n\n    constructor(container: JQuery, options?: QuickFilterBarOptions) {\n        super(container, options);\n\n        container.addClass('quick-filters-bar').addClass('clear');\n\n        var filters = this.options.filters;\n        for (var f = 0; f < filters.length; f++) {\n            var filter = filters[f];\n            this.add(filter);\n        }\n\n        this.options.idPrefix = (this.options.idPrefix ?? this.uniqueName + '_');\n    }\n\n    public addSeparator(): void {\n        this.element.append($('<hr/>'));\n    }\n\n    public add<TWidget extends Widget<any>, TOptions>(opt: QuickFilter<TWidget, TOptions>): TWidget {\n\n        if (opt == null) {\n            throw new ArgumentNullException('opt');\n        }\n\n        if (opt.separator) {\n            this.addSeparator();\n        }\n\n        var item = $(\"<div class='quick-filter-item'><span class='quick-filter-label'></span></div>\")\n            .appendTo(this.element)\n            .data('qffield', opt.field).children();\n\n        var title = tryGetText(opt.title) ?? opt.title;\n        if (title == null) {\n            title = this.options.getTitle ? this.options.getTitle(opt) : null;\n            if (title == null) {\n                title = opt.field;\n            }\n        }\n\n        var quickFilter = item.text(title).parent();\n\n        if (opt.displayText != null) {\n            quickFilter.data('qfdisplaytext', opt.displayText);\n        }\n\n        if (opt.saveState != null) {\n            quickFilter.data('qfsavestate', opt.saveState);\n        }\n\n        if (opt.loadState != null) {\n            quickFilter.data('qfloadstate', opt.loadState);\n        }\n\n        if (!isEmptyOrNull(opt.cssClass)) {\n            quickFilter.addClass(opt.cssClass);\n        }\n\n        var widget = Widget.create({\n            type: opt.type,\n            element: e => {\n                if (!isEmptyOrNull(opt.field)) {\n                    e.attr('id', this.options.idPrefix + opt.field);\n                }\n                e.attr('placeholder', ' ');\n                e.appendTo(quickFilter);\n                if (opt.element != null) {\n                    opt.element(e);\n                }\n            },\n            options: opt.options,\n            init: opt.init\n        });\n\n        var submitHandler = (request: ListRequest) => {\n\n            if (quickFilter.hasClass('ignore')) {\n                return;\n            }\n\n            request.EqualityFilter = request.EqualityFilter || {};\n            var value = EditorUtils.getValue(widget);\n            var active = value != null && !isEmptyOrNull(value.toString());\n            if (opt.handler != null) {\n                var args = {\n                    field: opt.field,\n                    request: request,\n                    equalityFilter: request.EqualityFilter,\n                    value: value,\n                    active: active,\n                    widget: widget,\n                    handled: true\n                };\n                opt.handler(args);\n                quickFilter.toggleClass('quick-filter-active', args.active);\n                if (!args.handled) {\n                    request.EqualityFilter[opt.field] = value;\n                }\n            }\n            else {\n                request.EqualityFilter[opt.field] = value;\n                quickFilter.toggleClass('quick-filter-active', active);\n            }\n        };\n\n        widget.changeSelect2(e1 => {\n            // use timeout give cascaded dropdowns a chance to update / clear themselves\n            window.setTimeout(() => this.onChange && this.onChange(e1), 0);\n        });\n\n        this.add_submitHandlers(submitHandler);\n        widget.element.bind('remove.' + this.uniqueName, x => {\n            this.remove_submitHandlers(submitHandler);\n        });\n\n        return widget;\n    }\n\n    public addDateRange(field: string, title?: string): DateEditor {\n        return this.add(QuickFilterBar.dateRange(field, title)) as DateEditor;\n    }\n\n    public static dateRange(field: string, title?: string): QuickFilter<DateEditor, DateTimeEditorOptions> {\n        var end: DateEditor = null;\n        return <QuickFilter<DateEditor, DateTimeEditorOptions>>{\n            field: field,\n            type: DateEditor,\n            title: title,\n            element: function (e1) {\n                end = Widget.create({\n                    type: DateEditor,\n                    element: function (e2) {\n                        e2.insertAfter(e1);\n                    },\n                    options: null,\n                    init: null\n                });\n\n                end.element.change(function (x) {\n                    e1.triggerHandler('change');\n                });\n\n                $('<span/>').addClass('range-separator').text('-').insertAfter(e1);\n            },\n            handler: function (args) {\n                var date1 = parseDate(args.widget.value);\n                if (date1) {\n                    if (isNaN(date1.valueOf())) {\n                        notifyWarning(localText('Validation.DateInvalid'), '', null);\n                        args.widget.element.val('');\n                        date1 = null;\n                    }\n                    else {\n                        args.request.Criteria = Criteria.and(args.request.Criteria, \n                            Criteria(args.field).ge(args.widget.value));   \n                    }\n                }\n\n                var date2 = parseDate(end.value);\n                if (date2) {\n                    if (isNaN(date2?.valueOf())) {\n                        notifyWarning(localText('Validation.DateInvalid'), '', null);\n                        end.element.val('');\n                        date2 = null;\n                    }\n                    else {\n                        var next = new Date(end.valueAsDate.valueOf());\n                        next.setDate(next.getDate() + 1);\n                        args.request.Criteria = Criteria.and(args.request.Criteria,\n                            Criteria(args.field).lt(formatDate(next, 'yyyy-MM-dd')));\n                    }\n                }\n\n                args.active = !!(date1 || date2);\n            },\n            displayText: function (w, l) {\n                var v1 = EditorUtils.getDisplayText(w);\n                var v2 = EditorUtils.getDisplayText(end);\n                if (isEmptyOrNull(v1) && isEmptyOrNull(v2)) {\n                    return null;\n                }\n                var text1 = l + ' >= ' + v1;\n                var text2 = l + ' <= ' + v2;\n                if (!isEmptyOrNull(v1) && !isEmptyOrNull(v2)) {\n                    return text1 + ' ' + (tryGetText('Controls.FilterPanel.And') ?? 'and') + ' ' + text2;\n                }\n                else if (!isEmptyOrNull(v1)) {\n                    return text1;\n                }\n                else {\n                    return text2;\n                }\n            },\n            saveState: function (w1) {\n                return [EditorUtils.getValue(w1), EditorUtils.getValue(end)];\n            },\n            loadState: function (w2, state) {\n                if (state == null || !Array.isArray(state) || state.length !== 2) {\n                    state = [null, null];\n                }\n\n                EditorUtils.setValue(w2, state[0]);\n                EditorUtils.setValue(end, state[1]);\n            }\n        };\n    }\n\n    public addDateTimeRange(field: string, title?: string) {\n        return this.add(QuickFilterBar.dateTimeRange(field, title)) as DateTimeEditor;\n    }\n\n    public static dateTimeRange(field: string, title?: string, useUtc?: boolean): QuickFilter<DateTimeEditor, DateTimeEditorOptions> {\n        var end: DateTimeEditor = null;\n\n        return <QuickFilter<DateTimeEditor, DateTimeEditorOptions>>{\n            field: field,\n            type: DateTimeEditor,\n            title: title,\n            element: function (e1) {\n                end = Widget.create({\n                    type: DateTimeEditor,\n                    element: function (e2) {\n                        e2.insertAfter(e1);\n                    },\n                    options: useUtc == null ? null : { useUtc },\n                    init: null\n                });\n\n                end.element.change(function (x) {\n                    e1.triggerHandler('change');\n                });\n\n                $('<span/>').addClass('range-separator').text('-').insertAfter(e1);\n            },\n            init: function (i) {\n                i.element.parent().find('.time').change(function (x1) {\n                    i.element.triggerHandler('change');\n                });\n            },\n            handler: function (args) {\n                var date1 = parseDate(args.widget.value);\n                if (date1) {\n                    if (isNaN(date1?.valueOf())) {\n                        notifyWarning(localText('Validation.DateInvalid'), '', null);\n                        args.widget.element.val('');\n                        date1 = null;\n                    } \n                    else {\n                        args.request.Criteria = Criteria.and(args.request.Criteria,\n                            Criteria(args.field).ge(args.widget.value));\n                    }\n                }\n\n                var date2 = parseDate(end.value);\n                if (date2) {\n                    if (isNaN(date2?.valueOf())) {\n                        notifyWarning(localText('Validation.DateInvalid'), '', null);\n                        end.element.val('');\n                        date2 = null;\n                    }\n                    else {\n                        args.request.Criteria = Criteria.and(args.request.Criteria,\n                            Criteria(args.field).le(end.value));\n                    }\n                }\n                \n                args.active = !!(date1 || date2);\n            },\n            displayText: function (w, l) {\n                var v1 = EditorUtils.getDisplayText(w);\n                var v2 = EditorUtils.getDisplayText(end);\n                if (isEmptyOrNull(v1) && isEmptyOrNull(v2)) {\n                    return null;\n                }\n                var text1 = l + ' >= ' + v1;\n                var text2 = l + ' <= ' + v2;\n                if (!isEmptyOrNull(v1) && !isEmptyOrNull(v2)) {\n                    return text1 + ' ' + (tryGetText('Controls.FilterPanel.And') ?? 'and') + ' ' + text2;\n                }\n                else if (!isEmptyOrNull(v1)) {\n                    return text1;\n                }\n                else {\n                    return text2;\n                }\n            },\n            saveState: function (w1) {\n                return [EditorUtils.getValue(w1), EditorUtils.getValue(end)];\n            },\n            loadState: function (w2, state) {\n                if (state == null || !Array.isArray(state) || state.length !== 2) {\n                    state = [null, null];\n                }\n                EditorUtils.setValue(w2, state[0]);\n                EditorUtils.setValue(end, state[1]);\n            },\n            options: useUtc == null ? null : { useUtc }\n        };\n    }\n\n    public addBoolean(field: string, title?: string, yes?: string, no?: string): SelectEditor {\n        return this.add(QuickFilterBar.boolean(field, title, yes, no));\n    }\n\n    public static boolean(field: string, title?: string, yes?: string, no?: string): QuickFilter<SelectEditor, SelectEditorOptions> {\n        var opt: SelectEditorOptions = {};\n        var items = [];\n\n        var trueText = yes;\n        if (trueText == null) {\n            trueText = localText('Controls.FilterPanel.OperatorNames.true');\n        }\n        items.push(['1', trueText]);\n\n        var falseText = no;\n        if (falseText == null) {\n            falseText = localText('Controls.FilterPanel.OperatorNames.false');\n        }\n\n        items.push(['0', falseText]);\n\n        opt.items = items;\n\n        return {\n            field: field,\n            type: SelectEditor,\n            title: title,\n            options: opt,\n            handler: function (args) {\n                args.equalityFilter[args.field] = args.value == null || isEmptyOrNull(args.value.toString()) ?\n                    null : !!toId(args.value);\n            }\n        };\n    }\n\n    public onChange: (e: JQueryEventObject) => void;\n\n    private submitHandlers: any;\n\n    destroy() {\n        this.submitHandlers = null;\n        super.destroy();\n    }\n\n    public onSubmit(request: ListRequest) {\n        this.submitHandlers && this.submitHandlers(request);\n    }\n\n    protected add_submitHandlers(action: (request: ListRequest) => void): void {\n        this.submitHandlers = delegateCombine(this.submitHandlers, action);\n    }\n\n    protected remove_submitHandlers(action: (request: ListRequest) => void): void {\n        this.submitHandlers = delegateRemove(this.submitHandlers, action);\n    }\n\n    protected clear_submitHandlers() {\n    }\n\n    public find<TWidget>(type: { new(...args: any[]): TWidget }, field: string): TWidget {\n        return $('#' + this.options.idPrefix + field).getWidget(type);\n    }\n\n    public tryFind<TWidget>(type: { new(...args: any[]): TWidget }, field: string): TWidget {\n        var el = $('#' + this.options.idPrefix + field);\n        if (!el.length)\n            return null;\n\n        return el.tryGetWidget(type);\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { isEmptyOrNull, isValue, localText, trim } from \"../../q\";\nimport { PopupMenuButton } from \"../widgets/toolbar\";\nimport { Widget } from \"../widgets/widget\";\n\nexport interface QuickSearchField {\n    name: string;\n    title: string;\n}\n\nexport interface QuickSearchInputOptions {\n    typeDelay?: number;\n    loadingParentClass?: string;\n    filteredParentClass?: string;\n    onSearch?: (p1: string, p2: string, p3: (p1: boolean) => void) => void;\n    fields?: QuickSearchField[];\n}\n\n@Decorators.registerClass('Serenity.QuickSearchInput')\nexport class QuickSearchInput extends Widget<QuickSearchInputOptions> {\n    private lastValue: string;\n    private field: QuickSearchField;\n    private fieldChanged: boolean;\n    private timer: number;\n\n    constructor(input: JQuery, opt: QuickSearchInputOptions) {\n        super(input, opt);\n\n        input.attr('title', localText('Controls.QuickSearch.Hint'))\n            .attr('placeholder', localText('Controls.QuickSearch.Placeholder'));\n        this.lastValue = trim(input.val() ?? '');\n\n        var self = this;\n        this.element.bind('keyup.' + this.uniqueName, function () {\n            self.checkIfValueChanged();\n        });\n\n        this.element.bind('change.' + this.uniqueName, function () {\n            self.checkIfValueChanged();\n        });\n\n        $('<span><i></i></span>').addClass('quick-search-icon')\n            .insertBefore(input);\n\n        if (isValue(this.options.fields) && this.options.fields.length > 0) {\n            var a = $('<a/>').addClass('quick-search-field').attr('title',\n                localText('Controls.QuickSearch.FieldSelection')).insertBefore(input);\n\n            var menu = $('<ul></ul>').css('width', '120px');\n\n            for (var item of this.options.fields) {\n                var field = { $: item };\n                $('<li><a/></li>').appendTo(menu).children().attr('href', '#')\n                    .text(item.title ?? '').click(function (e: any) {\n                        e.preventDefault();\n                        this.$this.fieldChanged = self.field !== this.field.$;\n                        self.field = this.field.$;\n                        this.$this.updateInputPlaceHolder();\n                        this.$this.checkIfValueChanged();\n                    }.bind({\n                        field: field,\n                        $this: this\n                    }));\n            }\n\n            new PopupMenuButton(a, {\n                positionMy: 'right top',\n                positionAt: 'right bottom',\n                menu: menu\n            });\n\n            this.field = this.options.fields[0];\n            this.updateInputPlaceHolder();\n        }\n\n        this.element.bind('execute-search.' + this.uniqueName, e1 => {\n            if (!!this.timer) {\n                window.clearTimeout(this.timer);\n            }\n            this.searchNow(trim(this.element.val() ?? ''));\n        });\n    }\n\n    protected checkIfValueChanged(): void {\n        if (this.element.hasClass('ignore-change')) {\n            return;\n        }\n\n        var value = this.get_value();\n        if (value == this.lastValue && (!this.fieldChanged || isEmptyOrNull(value))) {\n            this.fieldChanged = false;\n            return;\n        }\n\n        this.fieldChanged = false;\n\n        if (!!this.timer) {\n            window.clearTimeout(this.timer);\n        }\n\n        var self = this;\n        this.timer = window.setTimeout(function () {\n            self.searchNow(value);\n        }, this.options.typeDelay ?? 500);\n\n        this.lastValue = value;\n    }\n\n    get_value() {\n        return trim(this.element.val() ?? '');\n    }\n\n    get_field(): QuickSearchField {\n        return this.field;\n    }\n\n    set_field(value: QuickSearchField): void {\n        if (this.field !== value) {\n            this.fieldChanged = true;\n            this.field = value;\n            this.updateInputPlaceHolder();\n            this.checkIfValueChanged();\n        }\n    }\n\n    protected updateInputPlaceHolder() {\n        var qsf = this.element.prevAll('.quick-search-field');\n        if (this.field) {\n            qsf.text(this.field.title);\n        }\n        else {\n            qsf.text('');\n        }\n    }\n\n    public restoreState(value: string, field: QuickSearchField) {\n        this.fieldChanged = false;\n        this.field = field;\n        var value = trim(value ?? '');\n        this.element.val(value);\n        this.lastValue = value;\n        if (!!this.timer) {\n            window.clearTimeout(this.timer);\n            this.timer = null;\n        }\n        this.updateInputPlaceHolder();\n    }\n\n    protected searchNow(value: string) {\n        this.element.parent().toggleClass(\n            (this.options.filteredParentClass ?? 's-QuickSearchFiltered'), !!(value.length > 0));\n\n        this.element.parent().addClass(this.options.loadingParentClass ?? 's-QuickSearchLoading')\n                .addClass(this.options.loadingParentClass ?? 's-QuickSearchLoading');\n\n        var done = (results: any) => {\n            this.element.removeClass(this.options.loadingParentClass ?? 's-QuickSearchLoading')\n            .parent().removeClass(this.options.loadingParentClass ?? 's-QuickSearchLoading');\n\n            if (!results) {\n                var el = this.element.closest('.s-QuickSearchBar')\n                    .find('.quick-search-icon i')[0] as HTMLElement;\n                if (el) {\n                    el.classList.add('s-shake-effect');\n                    setTimeout(() => el.classList.remove('s-shake-effect'), 2000);\n                }\n            }\n        };\n\n        if (this.options.onSearch != null) {\n            this.options.onSearch(((this.field != null &&\n                !isEmptyOrNull(this.field.name)) ? this.field.name : null), value, done);\n        }\n        else {\n            done(true);\n        }\n    }\n}","export {}\n\nexport interface FilterOperator {\n    key?: string;\n    title?: string;\n    format?: string;\n}\n\nexport namespace FilterOperators {\n\n    export const isTrue = 'true';\n    export const isFalse = 'false';\n    export const contains = 'contains';\n    export const startsWith = 'startswith';\n    export const EQ = 'eq';\n    export const NE = 'ne';\n    export const GT = 'gt';\n    export const GE = 'ge';\n    export const LT = 'lt';\n    export const LE = 'le';\n    export const BW = 'bw';\n    export const IN = 'in';\n    export const isNull = 'isnull';\n    export const isNotNull = 'isnotnull';\n\n    export const toCriteriaOperator: { [key: string]: string } = {\n        eq: '=',\n        ne: '!=',\n        gt: '>',\n        ge: '>=',\n        lt: '<',\n        le: '<='\n    };\n}","import { Decorators } from \"../../decorators\";\nimport { ArgumentNullException, Criteria, Culture, delegateCombine, delegateRemove, PropertyItem, localText, tryGetText } from \"../../q\";\nimport { FilterLine } from \"./filterline\";\n\n@Decorators.registerClass('Serenity.FilterStore')\nexport class FilterStore {\n\n    constructor(fields: PropertyItem[]) {\n\n        this.items = [];\n\n        if (fields == null) {\n            throw new ArgumentNullException('source');\n        }\n\n        this.fields = fields.slice();\n\n        this.get_fields().sort(function (x, y) {\n            var titleX = tryGetText(x.title);\n            if (titleX == null) {\n                titleX = x.title;\n                if (titleX == null)\n                    titleX = x.name;\n            }\n\n            var titleY = tryGetText(y.title);\n            if (titleY == null) {\n                titleY = y.title;\n                if (titleY == null)\n                    titleY = y.name;\n            }\n\n            return Culture.stringCompare(titleX, titleY);\n        });\n\n        this.fieldByName = {};\n\n        for (var field of fields) {\n            this.get_fieldByName()[field.name] = field;\n        }\n    }\n\n    static getCriteriaFor(items: FilterLine[]): any[] {\n\n        if (items == null)\n            return [''];\n\n        var inParens = false;\n        var currentBlock = [''];\n        var isBlockOr = false;\n        var criteria = [''];\n\n        for (var i = 0; i < items.length; i++) {\n            var line = items[i];\n\n            if (line.leftParen || inParens && line.rightParen) {\n\n                if (!Criteria.isEmpty(currentBlock)) {\n\n                    if (inParens)\n                        currentBlock = Criteria.paren(currentBlock);\n\n                    if (isBlockOr)\n                        criteria = Criteria.or(criteria, currentBlock);\n                    else\n                        criteria = Criteria.and(criteria, currentBlock);\n\n                    currentBlock = [''];\n                }\n\n                inParens = false;\n            }\n\n            if (line.leftParen) {\n                isBlockOr = line.isOr;\n                inParens = true;\n            }\n\n            if (line.isOr)\n                currentBlock = Criteria.or(currentBlock, line.criteria);\n            else\n                currentBlock = Criteria.and(currentBlock, line.criteria);\n        }\n\n        if (!Criteria.isEmpty(currentBlock)) {\n            if (isBlockOr)\n                criteria = Criteria.or(criteria, Criteria.paren(currentBlock));\n            else\n                criteria = Criteria.and(criteria, Criteria.paren(currentBlock));\n        }\n\n        return criteria;\n    }\n\n    static getDisplayTextFor(items: FilterLine[]): string {\n\n        if (items == null)\n            return '';\n\n        var inParens = false;\n        var displayText = '';\n\n        for (var i = 0; i < items.length; i++) {\n            var line = items[i];\n\n            if (inParens && (line.rightParen || line.leftParen)) {\n                displayText += ')';\n                inParens = false;\n            }\n\n            if (displayText.length > 0) {\n                displayText += ' ' + localText('Controls.FilterPanel.' +\n                    (line.isOr ? 'Or' : 'And')) + ' ';\n            }\n\n            if (line.leftParen) {\n                displayText += '(';\n                inParens = true;\n            }\n\n            displayText += line.displayText;\n        }\n\n        if (inParens) {\n            displayText += ')';\n        }\n\n        return displayText;\n    }\n\n    private changed: any;\n    private displayText: string;\n    private fields: PropertyItem[];\n    private fieldByName: { [key: string]: PropertyItem }\n    private items: FilterLine[];\n\n    get_fields(): PropertyItem[] {\n        return this.fields;\n    }\n\n    get_fieldByName(): { [key: string]: PropertyItem } {\n        return this.fieldByName;\n    }\n\n    get_items(): FilterLine[] {\n        return this.items;\n    }\n\n    raiseChanged(): void {\n        this.displayText = null;\n        this.changed && this.changed(this, {});\n    }\n\n    add_changed(value: (e: JQueryEventObject, a: any) => void): void {\n        this.changed = delegateCombine(this.changed, value);\n    }\n\n    remove_changed(value: (e: JQueryEventObject, a: any) => void): void {\n        this.changed = delegateRemove(this.changed, value);\n    }\n\n    get_activeCriteria(): any[] {\n        return FilterStore.getCriteriaFor(this.items);\n    }\n\n    get_displayText(): string {\n        if (this.displayText == null)\n            this.displayText = FilterStore.getDisplayTextFor(this.items);\n        \n        return this.displayText;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { ArgumentNullException, Config, Criteria, deepClone, endsWith, Exception, extend, format, formatDate, getInstanceType, getTypeFullName, getTypeShortName, getTypes, isAssignableFrom, isEmptyOrNull, parseISODateTime, PropertyItem, startsWith, localText, tryGetText } from \"../../q\";\nimport { EditorTypeRegistry } from \"../../types/editortyperegistry\";\nimport { QuickFilter } from \"../datagrid/quickfilter\";\nimport { DateEditor } from \"../editors/dateeditor\";\nimport { DateTimeEditor } from \"../editors/datetimeeditor\";\nimport { DecimalEditor } from \"../editors/decimaleditor\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { EnumEditor } from \"../editors/enumeditor\";\nimport { IntegerEditor } from \"../editors/integereditor\";\nimport { LookupEditor } from \"../editors/lookupeditor\";\nimport { ServiceLookupEditor } from \"../editors/servicelookupeditor\";\nimport { StringEditor } from \"../editors/stringeditor\";\nimport { Widget } from \"../widgets/widget\";\nimport { FilterOperator, FilterOperators } from \"./filteroperator\";\n\nexport interface IFiltering {\n    createEditor(): void;\n    getCriteria(): CriteriaWithText;\n    getOperators(): FilterOperator[];\n    loadState(state: any): void;\n    saveState(): any;\n    get_field(): PropertyItem;\n    set_field(value: PropertyItem): void;\n    get_container(): JQuery;\n    set_container(value: JQuery): void;\n    get_operator(): FilterOperator;\n    set_operator(value: FilterOperator): void;\n}\n\n@Decorators.registerInterface('Serenity.IFiltering')\nexport class IFiltering {\n}\n\nexport interface CriteriaWithText {\n    criteria?: any[];\n    displayText?: string;\n}\n\nexport interface IQuickFiltering {\n    initQuickFilter(filter: QuickFilter<Widget<any>, any>): void;\n}\n\n@Decorators.registerInterface('Serenity.IQuickFiltering')\nexport class IQuickFiltering {\n}\n\n@Decorators.registerClass('Serenity.BaseFiltering', [IFiltering, IQuickFiltering])\nexport abstract class BaseFiltering implements IFiltering, IQuickFiltering {\n\n    private field: PropertyItem;\n\n    public get_field() {\n        return this.field;\n    }\n\n    set_field(value: PropertyItem) {\n        this.field = value;\n    }\n\n    private container: JQuery;\n\n    get_container(): JQuery {\n        return this.container;\n    }\n\n    set_container(value: JQuery) {\n        this.container = value;\n    }\n\n    private operator: FilterOperator;\n\n    get_operator() {\n        return this.operator;\n    }\n\n    set_operator(value: FilterOperator) {\n        this.operator = value;\n    }\n\n    abstract getOperators(): FilterOperator[];\n\n    protected appendNullableOperators(list: FilterOperator[]) {\n        if (!this.isNullable()) {\n            return list;\n        }\n        list.push({ key: FilterOperators.isNotNull });\n        list.push({ key: FilterOperators.isNull });\n        return list;\n    }\n\n    protected appendComparisonOperators(list: FilterOperator[]) {\n        list.push({ key: FilterOperators.EQ });\n        list.push({ key: FilterOperators.NE });\n        list.push({ key: FilterOperators.LT });\n        list.push({ key: FilterOperators.LE });\n        list.push({ key: FilterOperators.GT });\n        list.push({ key: FilterOperators.GE });\n        return list;\n    }\n\n    protected isNullable() {\n        return this.get_field().required !== true;\n    }\n\n    public createEditor() {\n        switch (this.get_operator().key) {\n            case 'true':\n            case 'false':\n            case 'isnull':\n            case 'isnotnull': {\n                return;\n            }\n            case 'contains':\n            case 'startswith':\n            case 'eq':\n            case 'ne':\n            case 'lt':\n            case 'le':\n            case 'gt':\n            case 'ge': {\n                this.get_container().html('<input type=\"text\"/>');\n                return;\n            }\n        }\n\n        throw new Exception(format(\"Filtering '{0}' has no editor for '{1}' operator\",\n            getTypeFullName(getInstanceType(this)), this.get_operator().key));\n    }\n\n    protected operatorFormat(op: FilterOperator) {\n        return op.format ?? tryGetText('Controls.FilterPanel.OperatorFormats.' + op.key) ?? op.key;\n    }\n\n    protected getTitle(field: PropertyItem) {\n        return tryGetText(field.title) ??(field.title ?? field.name);\n    }\n\n    protected displayText(op: FilterOperator, values?: any[]) {\n        if (!values || values.length === 0) {\n            return format(this.operatorFormat(op), this.getTitle(this.field));\n        }\n        else if (values.length === 1) {\n            return format(this.operatorFormat(op), this.getTitle(this.field), values[0]);\n        }\n        else {\n            return format(this.operatorFormat(op), this.getTitle(this.field), values[0], values[1]);\n        }\n    }\n\n    protected getCriteriaField() {\n        return this.field.name;\n    }\n\n    public getCriteria(): CriteriaWithText {\n        var result: CriteriaWithText = {};\n        var text: string;\n        var field = Criteria(this.getCriteriaField());\n        var op = this.get_operator().key;\n        switch (op) {\n            case 'true': {\n                result.displayText = this.displayText(this.get_operator(), []);\n                result.criteria = field.eq(true);\n                return result;\n            }\n\n            case 'false': {\n                result.displayText = this.displayText(this.get_operator(), []);\n                result.criteria = field.eq(false);\n                return result;\n            }\n\n            case 'isnull': {\n                result.displayText = this.displayText(this.get_operator(), []);\n                result.criteria = field.isNull();\n                return result;\n            }\n\n            case 'isnotnull': {\n                result.displayText = this.displayText(this.get_operator(), []);\n                result.criteria = field.isNotNull();\n                return result;\n            }\n\n            case 'contains': {\n                text = this.getEditorText();\n                result.displayText = this.displayText(this.get_operator(), [text]);\n                result.criteria = field.contains(text);\n                return result;\n            }\n\n            case 'startswith': {\n                text = this.getEditorText();\n                result.displayText = this.displayText(this.get_operator(), [text]);\n                result.criteria = field.startsWith(text);\n                return result;\n            }\n\n            case 'eq':\n            case 'ne':\n            case 'lt':\n            case 'le':\n            case 'gt':\n            case 'ge': {\n                text = this.getEditorText();\n                result.displayText = this.displayText(this.get_operator(), [text]);\n                result.criteria = field[op](this.getEditorValue());\n                return result;\n            }\n        }\n\n        throw new Exception(format(\"Filtering '{0}' has no handler for '{1}' operator\",\n            getTypeFullName(getInstanceType(this)), this.get_operator().key));\n    }\n\n    loadState(state: any) {\n        var input = this.get_container().find(':input').first();\n        input.val(state);\n    }\n\n    saveState() {\n        switch (this.get_operator().key) {\n            case 'contains':\n            case 'startswith':\n            case 'eq':\n            case 'ne':\n            case 'lt':\n            case 'le':\n            case 'gt':\n            case 'ge': {\n                var input = this.get_container().find(':input').first();\n                return input.val();\n            }\n        }\n        return null;\n    }\n\n    protected argumentNull() {\n        return new Error(localText('Controls.FilterPanel.ValueRequired'));\n    }\n\n    validateEditorValue(value: string) {\n        if (value.length === 0) {\n            throw this.argumentNull();\n        }\n        return value;\n    }\n\n    getEditorValue() {\n        var input = this.get_container().find(':input').not('.select2-focusser').first();\n        if (input.length !== 1) {\n            throw new Exception(format(\"Couldn't find input in filter container for {0}\",\n                (this.field.title ?? this.field.name)));\n        }\n\n        var value;\n        if (input.data('select2') != null) {\n            value = input.select2('val');\n        }\n        else {\n            value = input.val();\n        }\n\n        value = (value ?? '').trim();\n\n        return this.validateEditorValue(value);\n    }\n\n    getEditorText() {\n        var input = this.get_container().find(':input').not('.select2-focusser').not('.select2-input').first();\n        if (input.length === 0) {\n            return this.get_container().text().trim();\n        }\n        var value;\n        if (input.data('select2') != null) {\n            value = (input.select2('data') ?? {}).text;\n        }\n        else {\n            value = input.val();\n        }\n        return value;\n    }\n\n    initQuickFilter(filter: QuickFilter<Widget<any>, any>) {\n        filter.field = this.getCriteriaField();\n        filter.type = StringEditor;\n        filter.title = this.getTitle(this.field);\n        filter.options = deepClone(this.get_field().quickFilterParams);\n    }\n}\n\nfunction Filtering(name: string) {\n    return Decorators.registerClass('Serenity.' + name + 'Filtering')\n}\n\n@Filtering('BaseEditor')\nexport abstract class BaseEditorFiltering<TEditor extends Widget<any>> extends BaseFiltering {\n    constructor(public editorType: any) {\n        super();\n    }\n\n    protected useEditor() {\n        switch (this.get_operator().key) {\n            case 'eq':\n            case 'ne':\n            case 'lt':\n            case 'le':\n            case 'gt':\n            case 'ge':\n                return true;\n        }\n        return false;\n    }\n\n    protected editor: TEditor;\n\n    createEditor() {\n        if (this.useEditor()) {\n            this.editor = Widget.create({\n                type: this.editorType,\n                container: this.get_container(),\n                options: this.getEditorOptions(),\n                init: null\n            }) as any;\n            return;\n        }\n        this.editor = null;\n        super.createEditor();\n    }\n\n    protected useIdField() {\n        return false;\n    }\n\n    getCriteriaField() {\n        if (this.useEditor() &&\n            this.useIdField() &&\n            !isEmptyOrNull(this.get_field().filteringIdField)) {\n            return this.get_field().filteringIdField;\n        }\n\n        return super.getCriteriaField();\n    }\n\n    getEditorOptions() {\n        var opt = deepClone(this.get_field().editorParams || {});\n        delete opt['cascadeFrom'];\n        // currently can't support cascadeFrom in filtering\n        return extend(opt, this.get_field().filteringParams);\n    }\n\n    loadState(state: any) {\n        if (this.useEditor()) {\n            if (state == null) {\n                return;\n            }\n\n            EditorUtils.setValue(this.editor, state);\n            return;\n        }\n\n        super.loadState(state);\n    }\n\n    saveState() {\n        if (this.useEditor()) {\n            return EditorUtils.getValue(this.editor);\n        }\n\n        return super.saveState();\n    }\n\n    getEditorValue() {\n        if (this.useEditor()) {\n            var value = EditorUtils.getValue(this.editor);\n\n            if (value == null || (typeof value == \"string\" && value.trim().length === 0))\n                throw this.argumentNull();\n\n            return value;\n        }\n\n        return super.getEditorValue();\n    }\n\n    initQuickFilter(filter: QuickFilter<Widget<any>, any>) {\n        super.initQuickFilter(filter);\n\n        filter.type = this.editorType;\n        filter.options = extend(extend({}, deepClone(this.getEditorOptions())), deepClone(this.get_field().quickFilterParams));\n    }\n}\n\n@Filtering('Date')\nexport class DateFiltering extends BaseEditorFiltering<DateEditor> {\n\n    constructor() {\n        super(DateEditor)\n    }\n\n    getOperators(): FilterOperator[] {\n        return this.appendNullableOperators(this.appendComparisonOperators([]));\n    }\n}\n\n@Filtering('Boolean')\nexport class BooleanFiltering extends BaseFiltering {\n    getOperators() {\n        return this.appendNullableOperators([\n            { key: FilterOperators.isTrue },\n            { key: FilterOperators.isFalse }\n        ]);\n    }\n}\n\n@Filtering('DateTime')\nexport class DateTimeFiltering extends BaseEditorFiltering<DateEditor> {\n\n    constructor() {\n        super(DateTimeEditor)\n    }\n\n    getOperators(): FilterOperator[] {\n        return this.appendNullableOperators(\n            this.appendComparisonOperators([]));\n    }\n\n    getCriteria() {\n        var result: CriteriaWithText = {};\n\n        switch (this.get_operator().key) {\n            case 'eq':\n            case 'ne':\n            case 'lt':\n            case 'le':\n            case 'gt':\n            case 'ge': {\n                {\n                    var text = this.getEditorText();\n                    result.displayText = this.displayText(this.get_operator(), [text]);\n                    var date = parseISODateTime(this.getEditorValue());\n                    date = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n                    var next = new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1);\n                    var criteria = Criteria(this.getCriteriaField());\n                    var dateValue = formatDate(date, 'yyyy-MM-dd');\n                    var nextValue = formatDate(next, 'yyyy-MM-dd');\n                    switch (this.get_operator().key) {\n                        case 'eq': {\n                            result.criteria = Criteria.and(criteria.ge(dateValue), criteria.lt(nextValue));\n                            return result;\n                        }\n                        case 'ne': {\n                            result.criteria = Criteria.paren(Criteria.or(criteria.lt(dateValue), criteria.gt(nextValue)));\n                            return result;\n                        }\n                        case 'lt': {\n                            result.criteria = criteria.lt(dateValue);\n                            return result;\n                        }\n                        case 'le': {\n                            result.criteria = criteria.lt(nextValue);\n                        }\n                        case 'gt': {\n                            result.criteria = criteria.ge(nextValue);\n                            return result;\n                        }\n                        case 'ge': {\n                            result.criteria = criteria.ge(dateValue);\n                            return result;\n                        }\n                    }\n                }\n                break;\n            }\n        }\n\n        return super.getCriteria();\n    }\n}\n\n@Filtering('Decimal')\nexport class DecimalFiltering extends BaseEditorFiltering<DecimalEditor> {\n    constructor() {\n        super(DecimalEditor);\n    }\n\n    getOperators(): FilterOperator[] {\n        return this.appendNullableOperators(\n            this.appendComparisonOperators([]));\n    }\n}\n\n@Filtering('Editor')\nexport class EditorFiltering extends BaseEditorFiltering<Widget<any>> {\n\n    constructor() {\n        super(Widget)\n    }\n\n    @Decorators.option()\n    editorType: string;\n\n    @Decorators.option()\n    useRelative: boolean;\n\n    @Decorators.option()\n    useLike: boolean;\n\n    getOperators(): FilterOperator[] {\n        var list = [];\n\n        list.push({ key: FilterOperators.EQ });\n        list.push({ key: FilterOperators.NE });\n\n        if (this.useRelative) {\n            list.push({ key: FilterOperators.LT });\n            list.push({ key: FilterOperators.LE });\n            list.push({ key: FilterOperators.GT });\n            list.push({ key: FilterOperators.GE });\n        }\n\n        if (this.useLike) {\n            list.push({ key: FilterOperators.contains });\n            list.push({ key: FilterOperators.startsWith });\n        }\n\n        this.appendNullableOperators(list);\n\n        return list;\n    }\n\n    protected useEditor() {\n        var op = this.get_operator().key;\n\n        return op === FilterOperators.EQ ||\n            op === FilterOperators.NE ||\n            (this.useRelative && (\n                op === FilterOperators.LT ||\n                op === FilterOperators.LE ||\n                op === FilterOperators.GT ||\n                op === FilterOperators.GE));\n    }\n\n    getEditorOptions() {\n        var opt = super.getEditorOptions();\n        if (this.useEditor() && this.editorType === (this.get_field().editorType ?? 'String')) {\n            opt = extend(opt, this.get_field().editorParams);\n        }\n\n        return opt;\n    }\n\n    createEditor() {\n        if (this.useEditor()) {\n            var editorType = EditorTypeRegistry.get(this.editorType);\n\n            this.editor = Widget.create({\n                type: editorType ,\n                element: e => e.appendTo(this.get_container()),\n                options: this.getEditorOptions()\n            });\n\n            return;\n        }\n\n        super.createEditor();\n    }\n\n    protected useIdField(): boolean {\n        return this.useEditor();\n    }\n\n    initQuickFilter(filter: QuickFilter<Widget<any>, any>) {\n        super.initQuickFilter(filter);\n\n        filter.type = EditorTypeRegistry.get(this.editorType);\n    }\n}\n\n@Filtering('Enum')\nexport class EnumFiltering extends BaseEditorFiltering<EnumEditor> {\n    constructor() {\n        super(EnumEditor);\n    }\n\n    getOperators() {\n        var op = [{ key: FilterOperators.EQ }, { key: FilterOperators.NE }];\n        return this.appendNullableOperators(op);\n    }\n}\n\n@Filtering('Integer')\nexport class IntegerFiltering extends BaseEditorFiltering<IntegerEditor> {\n    constructor() {\n        super(IntegerEditor);\n    }\n\n    getOperators(): FilterOperator[] {\n        return this.appendNullableOperators(this.appendComparisonOperators([]));\n    }\n}\n\n@Filtering('Lookup')\nexport class LookupFiltering extends BaseEditorFiltering<LookupEditor> {\n\n    constructor() {\n        super(LookupEditor);\n    }\n\n    getOperators(): FilterOperator[] {\n        var ops = [{ key: FilterOperators.EQ }, { key: FilterOperators.NE }, { key: FilterOperators.contains }, { key: FilterOperators.startsWith }]\n        return this.appendNullableOperators(ops);\n    }\n\n    protected useEditor(): boolean {\n        var op = this.get_operator().key;\n        return op == FilterOperators.EQ || op == FilterOperators.NE;\n    }\n\n    protected useIdField(): boolean {\n        return this.useEditor();\n    }\n\n    getEditorText(): string {\n        if (this.useEditor()) {\n            return this.editor.text;\n        }\n\n        return super.getEditorText();\n    }\n}\n\n@Filtering('ServiceLookup')\nexport class ServiceLookupFiltering extends BaseEditorFiltering<ServiceLookupEditor> {\n\n    constructor() {\n        super(ServiceLookupEditor);\n    }\n\n    getOperators(): FilterOperator[] {\n        var ops = [{ key: FilterOperators.EQ }, { key: FilterOperators.NE }, { key: FilterOperators.contains }, { key: FilterOperators.startsWith }]\n        return this.appendNullableOperators(ops);\n    }\n\n    protected useEditor(): boolean {\n        var op = this.get_operator().key;\n        return op == FilterOperators.EQ || op == FilterOperators.NE;\n    }\n\n    protected useIdField(): boolean {\n        return this.useEditor();\n    }\n\n    getEditorText(): string {\n        if (this.useEditor()) {\n            return this.editor.text;\n        }\n\n        return super.getEditorText();\n    }\n}\n\n@Filtering('String')\nexport class StringFiltering extends BaseFiltering {\n\n    getOperators(): FilterOperator[] {\n        var ops = [\n            { key: FilterOperators.contains }, \n            { key: FilterOperators.startsWith }, \n            { key: FilterOperators.EQ },\n            { key: FilterOperators.NE }\n        ];\n        return this.appendNullableOperators(ops);\n    }\n\n    validateEditorValue(value: string) {\n        if (value.length === 0) {\n            return value;\n        }\n\n        return super.validateEditorValue(value);\n    }\n}\n\nexport namespace FilteringTypeRegistry {\n\n    let knownTypes: { [key: string]: Function };\n\n    function initialize(): void {\n\n        if (knownTypes != null)\n            return;\n        \n        knownTypes = {};\n\n        for (var type of getTypes()) {\n            if (!isAssignableFrom(IFiltering, type))\n                continue;\n                \n            var fullName = getTypeFullName(type).toLowerCase();\n\n            knownTypes[fullName] = type;\n\n            for (var k of Config.rootNamespaces) {\n                if (startsWith(fullName, k.toLowerCase() + '.')) {\n                    var kx = fullName.substr(k.length + 1).toLowerCase();\n\n                    if (knownTypes[kx] == null) {\n                        knownTypes[kx] = type;\n                    }\n                }\n            }\n        }\n\n        setTypeKeysWithoutFilterHandlerSuffix();\n    }\n\n    function setTypeKeysWithoutFilterHandlerSuffix() {\n        var suffix = 'filtering';\n        \n        for (var k of Object.keys(knownTypes)) {\n            if (!endsWith(k, suffix))\n                continue;\n            \n            var p = k.substr(0, k.length - suffix.length);\n            if (isEmptyOrNull(p))\n                continue;\n\n            if (knownTypes[p] != null)\n                continue;\n            \n            knownTypes[p] = knownTypes[k];\n        }\n    }\n\n    function reset(): void {\n        knownTypes = null;\n    }\n\n    export function get(key: string): Function {\n\n        if (isEmptyOrNull(key))\n            throw new ArgumentNullException('key');\n\n        initialize();\n        var formatterType = knownTypes[key.toLowerCase()];\n        if (formatterType == null)\n            throw new Exception(format(\n                \"Can't find {0} filter handler type!\", key));\n\n        return formatterType;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { TemplatedWidget } from \"../widgets/templatedwidget\";\nimport { FilterStore } from \"./filterstore\";\n\n@Decorators.registerClass('Serenity.FilterWidgetBase')\nexport class FilterWidgetBase<TOptions> extends TemplatedWidget<TOptions> {\n    private store: FilterStore;\n\n    private onFilterStoreChanged: () => void;\n\n    constructor(div: JQuery, opt?: TOptions) {\n        super(div, opt);\n\n        this.store = new FilterStore([]);\n        this.onFilterStoreChanged = () => this.filterStoreChanged();\n        this.store.add_changed(this.onFilterStoreChanged);\n    }\n\n    destroy() {\n\n        if (this.store) {\n            this.store.remove_changed(this.onFilterStoreChanged);\n            this.onFilterStoreChanged = null;\n            this.store = null;\n        }\n\n        super.destroy();\n    }\n\n    protected filterStoreChanged() {\n    }\n\n    get_store(): FilterStore {\n        return this.store;\n    }\n\n    set_store(value: FilterStore): void {\n        if (this.store !== value) {\n            if (this.store != null) \n                this.store.remove_changed(this.onFilterStoreChanged);\n\n            this.store = value || new FilterStore([]);\n            this.store.add_changed(this.onFilterStoreChanged);\n            this.filterStoreChanged();\n        }\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { cast, isEmptyOrNull, PropertyItem, localText, tryGetText } from \"../../q\";\nimport { Select2Editor } from \"../editors/select2editor\";\nimport { ReflectionOptionsSetter } from \"../widgets/reflectionoptionssetter\";\nimport { FilteringTypeRegistry, IFiltering } from \"./filtering\";\nimport { FilterLine } from \"./filterline\";\nimport { FilterOperator } from \"./filteroperator\";\nimport { FilterWidgetBase } from \"./filterwidgetbase\";\n\n@Decorators.registerClass('Serenity.FilterFieldSelect')\nclass FilterFieldSelect extends Select2Editor<any, PropertyItem> {\n    constructor(hidden: JQuery, fields: PropertyItem[]) {\n        super(hidden);\n\n        for (var field of fields) {\n            this.addOption(field.name, (tryGetText(field.title) ??\n                field.title ?? field.name), field);\n        }\n    }\n\n    emptyItemText() {\n        if (isEmptyOrNull(this.value)) {\n            return localText('Controls.FilterPanel.SelectField');\n        }\n\n        return null;\n    }\n\n    getSelect2Options() {\n        var opt = super.getSelect2Options();\n        opt.allowClear = false;\n        return opt;\n    }\n}\n\n@Decorators.registerClass('Serenity.FilterOperatorSelect')\nclass FilterOperatorSelect extends Select2Editor<any, FilterOperator> {\n    constructor(hidden: JQuery, source: FilterOperator[]) {\n        super(hidden);\n\n        for (var op of source) {\n            var title = (op.title ?? (\n                tryGetText(\"Controls.FilterPanel.OperatorNames.\" + op.key) ?? op.key));\n            this.addOption(op.key, title, op);\n        }\n\n        if (source.length && source[0])\n            this.value = source[0].key;\n    }\n\n    emptyItemText(): string {\n        return null;\n    }\n\n    getSelect2Options() {\n        var opt = super.getSelect2Options();\n        opt.allowClear = false;\n        return opt;\n    }\n}\n\n@Decorators.registerClass(\"Serenity.FilterPanel\")\nexport class FilterPanel extends FilterWidgetBase<any> {\n\n    private rowsDiv: JQuery;\n\n    constructor(div: JQuery) {\n        super(div);\n\n        this.element.addClass('s-FilterPanel');\n        this.rowsDiv = this.byId('Rows');\n        this.initButtons();\n        this.updateButtons();\n    }\n\n    private showInitialLine: boolean;\n\n    get_showInitialLine() {\n        return this.showInitialLine;\n    }\n\n    set_showInitialLine(value: boolean) {\n        if (this.showInitialLine !== value) {\n            this.showInitialLine = value;\n            if (this.showInitialLine && this.rowsDiv.children().length === 0) {\n                this.addEmptyRow(false);\n            }\n        }\n    }\n\n    protected filterStoreChanged() {\n        super.filterStoreChanged();\n        this.updateRowsFromStore();\n    }\n\n    updateRowsFromStore() {\n        this.rowsDiv.empty();\n\n        var items = this.get_store().get_items();\n        for (var item of items) {\n            this.addEmptyRow(false);\n\n            var row = this.rowsDiv.children().last();\n\n            var divl = row.children('div.l');\n            divl.children('.leftparen').toggleClass('active', !!item.leftParen);\n            divl.children('.rightparen').toggleClass('active', !!item.rightParen);\n            divl.children('.andor').toggleClass('or', !!item.isOr)\n                .text(localText((!!item.isOr ? 'Controls.FilterPanel.Or' :\n                    'Controls.FilterPanel.And')));\n\n            var fieldSelect = row.children('div.f')\n                .find('input.field-select').getWidget(FilterFieldSelect);\n\n            fieldSelect.value = item.field;\n            this.rowFieldChange(row);\n            var operatorSelect = row.children('div.o')\n                .find('input.op-select').getWidget(FilterOperatorSelect);\n\n            operatorSelect.set_value(item.operator);\n            this.rowOperatorChange(row);\n\n            var filtering = this.getFilteringFor(row);\n            if (filtering != null) {\n                filtering.set_operator({ key: item.operator });\n                filtering.loadState(item.state);\n            }\n        }\n\n        if (this.get_showInitialLine() && this.rowsDiv.children().length === 0) {\n            this.addEmptyRow(false);\n        }\n\n        this.updateParens();\n    }\n\n    private showSearchButton: boolean;\n\n    get_showSearchButton(): boolean {\n        return this.showSearchButton;\n    }\n\n    set_showSearchButton(value: boolean): void {\n        if (this.showSearchButton !== value) {\n            this.showSearchButton = value;\n            this.updateButtons();\n        }\n    }\n\n    private updateStoreOnReset: boolean;\n\n    get_updateStoreOnReset() {\n        return this.updateStoreOnReset;\n    }\n\n    set_updateStoreOnReset(value: boolean): void {\n        if (this.updateStoreOnReset !== value) {\n            this.updateStoreOnReset = value;\n        }\n    }\n\n    protected getTemplate(): string {\n        return \"<div id='~_Rows' class='filter-lines'>\" +\n            \"</div>\" +\n            \"<div id='~_Buttons' class='buttons'>\" +\n            \"<button id='~_AddButton' class='btn btn-primary add'></button>\" +\n            \"<button id='~_SearchButton' class='btn btn-success search'></button>\" +\n            \"<button id='~_ResetButton' class='btn btn-danger reset'></button>\" +\n            \"</div>\" +\n            \"<div style='clear: both'>\" +\n            \"</div>\"\n    }\n\n    protected initButtons(): void {\n        this.byId('AddButton').text(localText('Controls.FilterPanel.AddFilter'))\n            .click((e) => this.addButtonClick(e));\n\n        this.byId('SearchButton').text(localText('Controls.FilterPanel.SearchButton'))\n            .click((e) => this.searchButtonClick(e));\n\n        this.byId('ResetButton').text(localText('Controls.FilterPanel.ResetButton'))\n            .click((e) => this.resetButtonClick(e));\n    }\n\n    protected searchButtonClick(e: JQueryEventObject) {\n        e.preventDefault();\n        this.search();\n    }\n\n    get_hasErrors(): boolean {\n        return this.rowsDiv.children().children('div.v')\n            .children('span.error').length > 0;\n    }\n\n    search() {\n        this.rowsDiv.children().children('div.v')\n            .children('span.error').remove();\n\n        var filterLines = [];\n        var errorText = null;\n        var row = null;\n        for (var i = 0; i < this.rowsDiv.children().length; i++) {\n            row = this.rowsDiv.children().eq(i);\n            var filtering = this.getFilteringFor(row);\n            if (filtering == null) {\n                continue;\n            }\n\n            var field = this.getFieldFor(row);\n            var op = row.children('div.o').find('input.op-select')\n                .getWidget(FilterOperatorSelect).value;\n\n            if (op == null || op.length === 0) {\n                errorText = localText('Controls.FilterPanel.InvalidOperator');\n                break;\n            }\n\n            var line: FilterLine = {};\n            line.field = field.name;\n            line.operator = op;\n            line.isOr = row.children('div.l')\n                .children('a.andor').hasClass('or');\n            line.leftParen = row.children('div.l')\n                .children('a.leftparen').hasClass('active');\n            line.rightParen = row.children('div.l')\n                .children('a.rightparen').hasClass('active');\n            filtering.set_operator({ key: op });\n            var criteria;\n            try {\n                criteria = filtering.getCriteria();\n            }\n            catch (ex) {\n                errorText = ex.message ?? ex.toString();\n                break;\n            }\n            line.criteria = criteria.criteria;\n            line.state = filtering.saveState();\n            line.displayText = criteria.displayText;\n            filterLines.push(line);\n        }\n\n        // if an error occurred, display it, otherwise set current filters\n        if (errorText != null) {\n            $('<span/>').addClass('error')\n                .attr('title', errorText).appendTo(row.children('div.v'));\n            row.children('div.v').find('input:first').focus();\n            return;\n        }\n\n        var items = this.get_store().get_items();\n        items.length = 0;\n        items.push.apply(items, filterLines);\n        this.get_store().raiseChanged();\n    }\n\n    protected addButtonClick(e: JQueryEventObject) {\n        this.addEmptyRow(true);\n        e.preventDefault();\n    }\n\n    protected resetButtonClick(e: JQueryEventObject) {\n        e.preventDefault();\n\n        if (this.get_updateStoreOnReset()) {\n            if (this.get_store().get_items().length > 0) {\n                this.get_store().get_items().length = 0;\n                this.get_store().raiseChanged();\n            }\n        }\n\n        this.rowsDiv.empty();\n        this.updateButtons();\n        if (this.get_showInitialLine()) {\n            this.addEmptyRow(false);\n        }\n    }\n\n    protected findEmptyRow(): JQuery {\n        var result: JQuery = null;\n\n        this.rowsDiv.children().each(function (index, row) {\n            var fieldInput = $(row).children('div.f')\n                .children('input.field-select').first();\n            if (fieldInput.length === 0) {\n                return true;\n            }\n            var val = fieldInput.val();\n            if (val == null || val.length === 0) {\n                result = $(row);\n                return false;\n            }\n            return true;\n        });\n\n        return result;\n    }\n\n    protected addEmptyRow(popupField: boolean): JQuery {\n        var emptyRow = this.findEmptyRow();\n\n        if (emptyRow != null) {\n            emptyRow.find('input.field-select').select2('focus');\n            if (popupField) {\n                emptyRow.find('input.field-select').select2('open');\n            }\n            return emptyRow;\n        }\n\n        var isLastRowOr = this.rowsDiv.children().last()\n            .children('a.andor').hasClass('or');\n\n        var row = $(\n            \"<div class='filter-line'>\" +\n            \"<a class='delete'><span></span></a>\" +\n            \"<div class='l'>\" +\n            \"<a class='rightparen' href='#'>)</a>\" +\n            \"<a class='andor' href='#'></a>\" +\n            \"<a class='leftparen' href='#'>(</a>\" +\n            \"</div>\" +\n            \"<div class='f'>\" +\n            \"<input type='hidden' class='field-select'>\" +\n            \"</div>\" +\n            \"<div class='o'></div>\" +\n            \"<div class='v'></div>\" +\n            \"<div style='clear: both'></div>\" +\n            \"</div>\").appendTo(this.rowsDiv);\n\n        var parenDiv = row.children('div.l').hide();\n\n        parenDiv.children('a.leftparen, a.rightparen')\n            .click((e) => this.leftRightParenClick(e));\n\n        var andor = parenDiv.children('a.andor').attr('title', localText('Controls.FilterPanel.ChangeAndOr'));\n        if (isLastRowOr) {\n            andor.addClass('or').text(localText('Controls.FilterPanel.Or'));\n        }\n        else {\n            andor.text(localText('Controls.FilterPanel.And'));\n        }\n\n        andor.click((e) => this.andOrClick(e));\n\n        row.children('a.delete')\n            .attr('title', localText('Controls.FilterPanel.RemoveField'))\n            .click((e) => this.deleteRowClick(e));\n\n        var fieldSel = new FilterFieldSelect(row.children('div.f')\n            .children('input'), this.get_store().get_fields())\n            .changeSelect2(e => this.onRowFieldChange(e));\n\n        this.updateParens();\n        this.updateButtons();\n\n        row.find('input.field-select').select2('focus');\n\n        if (popupField) {\n            row.find('input.field-select').select2('open');\n        }\n\n        return row;\n    }\n\n    protected onRowFieldChange(e: JQueryEventObject) {\n        var row = $(e.target).closest('div.filter-line');\n        this.rowFieldChange(row);\n        var opSelect = row.children('div.o').find('input.op-select');\n        opSelect.select2('focus');\n    }\n\n    protected rowFieldChange(row: JQuery) {\n        row.removeData('Filtering');\n        var select = row.children('div.f').find('input.field-select')\n            .getWidget(FilterFieldSelect);\n        var fieldName = select.get_value();\n        var isEmpty = fieldName == null || fieldName === '';\n        this.removeFiltering(row);\n        this.populateOperatorList(row);\n        this.rowOperatorChange(row);\n        this.updateParens();\n        this.updateButtons();\n    }\n\n    protected removeFiltering(row: JQuery): void {\n        row.data('Filtering', null);\n        row.data('FilteringField', null);\n    }\n\n    protected populateOperatorList(row: JQuery): void {\n        row.children('div.o').html('');\n\n        var filtering = this.getFilteringFor(row);\n        if (filtering == null)\n            return;\n\n        var hidden = row.children('div.o').html('<input/>')\n            .children().attr('type', 'hidden').addClass('op-select');\n\n        var operators = filtering.getOperators();\n        var opSelect = new FilterOperatorSelect(hidden, operators);\n        opSelect.changeSelect2(e => this.onRowOperatorChange(e));\n    }\n\n    protected getFieldFor(row: JQuery) {\n        if (row.length === 0) {\n            return null;\n        }\n        var select = row.children('div.f').find('input.field-select')\n            .getWidget(FilterFieldSelect);\n\n        if (isEmptyOrNull(select.value)) {\n            return null;\n        }\n\n        return this.get_store().get_fieldByName()[select.get_value()];\n    }\n\n    protected getFilteringFor(row: JQuery): IFiltering {\n        var field = this.getFieldFor(row);\n\n        if (field == null)\n            return null;\n\n        var filtering = cast(row.data('Filtering'), IFiltering);\n\n        if (filtering != null)\n            return filtering;\n\n        var filteringType = FilteringTypeRegistry.get(\n            (field.filteringType ?? 'String'));\n\n        var editorDiv = row.children('div.v');\n        filtering = new (filteringType as any)() as IFiltering;\n        ReflectionOptionsSetter.set(filtering, field.filteringParams);\n        filtering.set_container(editorDiv);\n        filtering.set_field(field);\n        row.data('Filtering', filtering);\n        return filtering;\n    }\n\n    protected onRowOperatorChange(e: JQueryEventObject) {\n        var row = $(e.target).closest('div.filter-line');\n        this.rowOperatorChange(row);\n        var firstInput = row.children('div.v').find(':input:visible').first();\n        try {\n            firstInput.focus();\n        }\n        catch ($t1) {\n        }\n    }\n\n    protected rowOperatorChange(row: JQuery): void {\n\n        if (row.length === 0) {\n            return;\n        }\n\n        var editorDiv = row.children('div.v');\n        editorDiv.html('');\n        var filtering = this.getFilteringFor(row);\n        if (filtering == null)\n            return;\n        \n        var operatorSelect = row.children('div.o').find('input.op-select')\n            .getWidget(FilterOperatorSelect);\n\n        if (isEmptyOrNull(operatorSelect.get_value()))\n            return;\n        \n        var ops = filtering.getOperators().filter(function (x) {\n            return x.key === operatorSelect.value;\n        });\n\n        var op = ((ops.length > 0) ? ops[0] : null);\n        if (op == null)\n            return;\n\n        filtering.set_operator(op);\n        filtering.createEditor();\n    }\n\n    protected deleteRowClick(e: JQueryEventObject): void {\n        e.preventDefault();\n        var row = $(e.target).closest('div.filter-line');\n        row.remove();\n\n        if (this.rowsDiv.children().length === 0) {\n            this.search();\n        }\n\n        this.updateParens();\n        this.updateButtons();\n    }\n\n    protected updateButtons(): void {\n        this.byId('SearchButton').toggle(\n            this.rowsDiv.children().length >= 1 && this.showSearchButton);\n        this.byId('ResetButton').toggle(\n            this.rowsDiv.children().length >= 1);\n    }\n\n    protected andOrClick(e: JQueryEventObject): void {\n        e.preventDefault();\n        var andor = $(e.target).toggleClass('or');\n        andor.text(localText('Controls.FilterPanel.' +\n            (andor.hasClass('or') ? 'Or' : 'And')));\n    }\n\n    protected leftRightParenClick(e: JQueryEventObject): void {\n        e.preventDefault();\n        $(e.target).toggleClass('active');\n        this.updateParens();\n    }\n\n    protected updateParens() {\n        var rows = this.rowsDiv.children();\n        if (rows.length === 0) {\n            return;\n        }\n        rows.removeClass('paren-start');\n        rows.removeClass('paren-end');\n        rows.children('div.l').css('display', ((rows.length === 1) ? 'none' : 'block'));\n        rows.first().children('div.l').children('a.rightparen, a.andor')\n            .css('visibility', 'hidden');\n\n        for (var i = 1; i < rows.length; i++) {\n            var row = rows.eq(i);\n            row.children('div.l').css('display', 'block')\n                .children('a.lefparen, a.andor').css('visibility', 'visible');\n        }\n\n        var inParen = false;\n        for (var i1 = 0; i1 < rows.length; i1++) {\n            var row1 = rows.eq(i1);\n            var divParen = row1.children('div.l');\n            var lp = divParen.children('a.leftparen');\n            var rp = divParen.children('a.rightparen');\n            if (rp.hasClass('active') && inParen) {\n                inParen = false;\n                if (i1 > 0) {\n                    rows.eq(i1 - 1).addClass('paren-end');\n                }\n            }\n            if (lp.hasClass('active')) {\n                inParen = true;\n                if (i1 > 0) {\n                    row1.addClass('paren-start');\n                }\n            }\n        }\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { notifyError, localText } from \"../../q\";\nimport { TemplatedDialog } from \"../dialogs/templateddialog\";\nimport { FilterPanel } from \"./filterpanel\";\n\n@Decorators.registerClass('Serenity.FilterDialog')\nexport class FilterDialog extends TemplatedDialog<any> {\n\n    private filterPanel: FilterPanel;\n\n    constructor() {\n        super();\n\n        this.filterPanel = new FilterPanel(this.byId('FilterPanel'));\n        this.filterPanel.set_showInitialLine(true);\n        this.filterPanel.set_showSearchButton(false);\n        this.filterPanel.set_updateStoreOnReset(false);\n\n        this.dialogTitle = localText('Controls.FilterPanel.DialogTitle');\n    }\n\n    get_filterPanel(): FilterPanel {\n        return this.filterPanel;\n    }\n\n    protected getTemplate(): string {\n        return '<div id=\"~_FilterPanel\"/>';\n    }\n\n    protected getDialogButtons() {\n        return [\n            {\n                text: localText('Dialogs.OkButton'),\n                click: () => {\n                    this.filterPanel.search();\n                    if (this.filterPanel.get_hasErrors()) {\n                        notifyError(localText('Controls.FilterPanel.FixErrorsMessage'), '', null);\n                        return;\n                    }\n\n                    this.dialogClose();\n                }\n            },\n            {\n                text: localText('Dialogs.CancelButton'),\n                click: () => this.dialogClose()\n            }\n        ];\n    }\n}\n","import { Decorators } from \"../../decorators\";\nimport { localText, trimToNull } from \"../../q\";\nimport { FilterDialog } from \"./filterdialog\";\nimport { FilterWidgetBase } from \"./filterwidgetbase\";\n\n@Decorators.registerClass('Serenity.FilterDisplayBar')\nexport class FilterDisplayBar extends FilterWidgetBase<any> {\n\n    constructor(div: JQuery) {\n        super(div);\n\n        this.element.find('.cap').text(\n            localText('Controls.FilterPanel.EffectiveFilter'));\n\n        this.element.find('.edit').text(\n            localText('Controls.FilterPanel.EditFilter'));\n\n        this.element.find('.reset').attr('title',\n            localText('Controls.FilterPanel.ResetFilterHint'));\n\n        var openFilterDialog = (e: JQueryEventObject) => {\n            e.preventDefault();\n            var dialog = new FilterDialog();\n            dialog.get_filterPanel().set_store(this.get_store());\n            dialog.dialogOpen(null);\n        };\n\n        this.element.find('.edit').click(openFilterDialog);\n        this.element.find('.txt').click(openFilterDialog);\n\n        this.element.find('.reset').click(e1 => {\n            e1.preventDefault();\n            this.get_store().get_items().length = 0;\n            this.get_store().raiseChanged();\n        });\n    }\n\n    protected filterStoreChanged() {\n        super.filterStoreChanged();\n\n        var displayText = trimToNull(this.get_store().get_displayText());\n\n        this.element.find('.current').toggle(displayText != null);\n        this.element.find('.reset').toggle(displayText != null);\n\n        if (displayText == null)\n            displayText = localText('Controls.FilterPanel.EffectiveEmpty');\n\n        this.element.find('.txt').text('[' + displayText + ']');\n    }\n\n    protected getTemplate() {\n        return \"<div><a class='reset'></a><a class='edit'></a>\" + \n            \"<div class='current'><span class='cap'></span>\" +\n            \"<a class='txt'></a></div></div>\";\n    }\n}\n","import { htmlEncode, extend, localText } from \"../../q\";\nimport { PagerOptions } from \"../../slick\";\nimport { Decorators } from \"../../decorators\";\nimport { Widget } from \"../widgets/widget\";\n\n@Decorators.registerClass(\"Serenity.SlickPager\")\nexport class SlickPager extends Widget<PagerOptions> {\n\n    constructor(div: JQuery, o: PagerOptions) {\n        super(div, extend({\n            showRowsPerPage: true,\n            rowsPerPageOptions: [20, 100, 500, 2000]\n        } as any, o));\n\n        o = this.options;\n        var v = o.view;\n\n        if (!v)\n            throw \"SlickPager requires view option to be set!\";\n\n        this.element.addClass('s-SlickPager slick-pg')\n            .html(`<div class=\"slick-pg-in\">\n    <div class=\"slick-pg-grp slick-pg-grp-firstprev\">\n        <div class=\"slick-pg-first slick-pg-btn\"><span class=\"slick-pg-btn-span\"></span></div>\n        <div class=\"slick-pg-prev slick-pg-btn\"><span class=\"slick-pg-btn-span\"></span></div>\n    </div>\n    <div class=\"slick-pg-grp slick-pg-grp-control\">\n        <span class=\"slick-pg-control\">\n            <span class=\"slick-pg-pagetext\">${htmlEncode(localText(\"Controls.Pager.Page\"))}</span>\n            <input id=\"${this.idPrefix}CurrentPage\" class=\"slick-pg-current\" type=\"text\" size=\"4\" value=\"1\" />\n            <span class=\"slick-pg-pagesep\">/</span>\n            <span class=\"slick-pg-total\">1</span>\n        </span>\n    </div>\n    <div class=\"slick-pg-grp slick-pg-grp-nextlast\">\n        <div class=\"slick-pg-next slick-pg-btn\"><span class=\"slick-pg-btn-span\"></span></div>\n        <div class=\"slick-pg-last slick-pg-btn\"><span class=\"slick-pg-btn-span\"></span></div>\n    </div>\n    <div class=\"slick-pg-grp slick-pg-grp-reload\">\n        <div class=\"slick-pg-reload slick-pg-btn\"><span class=\"slick-pg-btn-span\"></span></div>\n    </div>\n    <div class=\"slick-pg-grp slick-pg-grp-stat\">\n        <span class=\"slick-pg-stat\"></span>\n    </div>\n</div>`);\n\n        var self = this;\n        $('.slick-pg-reload', this.element).click(function () { v.populate() });\n        $('.slick-pg-first', this.element).click(function () { self._changePage('first') });\n        $('.slick-pg-prev', this.element).click(function () { self._changePage('prev') });\n        $('.slick-pg-next', this.element).click(function () { self._changePage('next') });\n        $('.slick-pg-last', this.element).click(function () { self._changePage('last') });\n        $('.slick-pg-current', this.element).keydown(function (e) { if (e.keyCode == 13) self._changePage('input') });\n\n        if (self.options.showRowsPerPage) {\n            var opt: string = \"\", sel = \"\";\n            for (var nx = 0; nx < o.rowsPerPageOptions.length; nx++) {\n                if (v.rowsPerPage == o.rowsPerPageOptions[nx])\n                    sel = 'selected=\"selected\"'; else sel = '';\n                opt += \"<option value='\" + o.rowsPerPageOptions[nx] + \"' \" + sel + \" >\" + o.rowsPerPageOptions[nx] + \"&nbsp;&nbsp;</option>\";\n            };\n            $('.slick-pg-in', this.element).prepend('<div class=\"slick-pg-grp\"><select class=\"slick-pg-size\" name=\"rp\">' + opt + '</select></div>');\n            $('select.slick-pg-size', this.element).change(\n                function (this: HTMLSelectElement) {\n                    if (o.onRowsPerPageChange)\n                        o.onRowsPerPageChange(+this.value);\n                    else {\n                        v[\"newp\"] = 1;\n                        v.setPagingOptions({\n                            page: 1,\n                            rowsPerPage: +this.value\n                        });\n                    }\n                }\n            );\n        }\n\n        v.onPagingInfoChanged.subscribe(function () {\n            self._updatePager();\n        });\n    }\n\n    _changePage(ctype: string) { //change page\n\n        var view = this.options.view;\n\n        if (!view || view.loading)\n            return true;\n\n        var info = view.getPagingInfo();\n        var pages = (!info.rowsPerPage || !info.totalCount) ? 1 : Math.ceil(info.totalCount / info.rowsPerPage);\n\n        var newp: number;\n\n        switch (ctype) {\n            case 'first': newp = 1; break;\n            case 'prev': if (info.page > 1) newp = parseInt(info.page as any) - 1; break;\n            case 'next': if (info.page < pages) newp = parseInt(info.page as any) + 1; break;\n            case 'last': newp = pages; break;\n            case 'input':\n                var nv = parseInt($('input.slick-pg-current', this.element).val());\n                if (isNaN(nv))\n                    nv = 1;\n                else if (nv < 1)\n                    nv = 1;\n                else if (nv > pages)\n                    nv = pages;\n\n                $('.slick-pg-current', this.element).val(nv);\n\n                newp = nv;\n                break;\n        }\n\n        if (newp == info.page)\n            return false;\n\n        if (this.options.onChangePage)\n            this.options.onChangePage(newp);\n        else {\n            view.setPagingOptions({ page: newp });\n        }\n    }\n\n    _updatePager() {\n\n        var view = this.options.view;\n        var info = view.getPagingInfo();\n        var pages = (!info.rowsPerPage || !info.totalCount) ? 1 : Math.ceil(info.totalCount / info.rowsPerPage);\n\n        $('.slick-pg-current', this.element).val(info.page);\n        $('.slick-pg-total', this.element).html(pages as any);\n\n        var r1 = (info.page - 1) * info.rowsPerPage + 1;\n        var r2 = r1 + info.rowsPerPage - 1;\n\n        if (info.totalCount < r2)\n            r2 = info.totalCount;\n\n        var stat: string;\n\n        if (info.loading) {\n            stat = htmlEncode(localText(\"Controls.Pager.LoadingStatus\"));\n        }\n        else if (info.error) {\n            stat = info.error;\n        }\n        else if (info.totalCount > 0) {\n            stat = htmlEncode(localText(\"Controls.Pager.PageStatus\"));\n            stat = stat.replace(/{from}/, <any>r1);\n            stat = stat.replace(/{to}/, <any>r2);\n            stat = stat.replace(/{total}/, <any>info.totalCount);\n        }\n        else\n            stat = htmlEncode(localText(\"Controls.Pager.NoRowStatus\"));\n\n        $('.slick-pg-stat', this.element).html(stat);\n        $('.slick-pg-size', this.element).val((info.rowsPerPage || 0).toString());\n    }\n}","import { Culture, Enum, format, formatDate, formatNumber, getAttributes, getTypeFullName, htmlEncode, isEmptyOrNull, ISlickFormatter, parseDecimal, parseISODateTime, replaceAll, resolveUrl, safeCast, startsWith, tryGetText } from \"../../q\";\nimport { Formatter } from \"../../slick\";\nimport { Column, FormatterContext } from \"@serenity-is/sleekgrid\";\nimport { Decorators, EnumKeyAttribute } from \"../../decorators\";\nimport { EnumTypeRegistry } from \"../../types/enumtyperegistry\";\n\nexport interface IInitializeColumn {\n    initializeColumn(column: Column): void;\n}\n\n@Decorators.registerInterface('Serenity.IInitializeColumn')\nexport class IInitializeColumn {\n}\n\n@Decorators.registerFormatter('Serenity.BooleanFormatter')\nexport class BooleanFormatter implements Formatter {\n    format(ctx: FormatterContext) {\n\n        if (ctx.value == null) {\n            return '';\n        }\n\n        var text;\n        if (!!ctx.value) {\n            text = tryGetText(this.trueText);\n            if (text == null) {\n                text = this.trueText;\n                if (text == null) {\n                    text = tryGetText('Dialogs.YesButton') ?? 'Yes';\n                }\n            }\n        }\n        else {\n            text = tryGetText(this.falseText);\n            if (text == null) {\n                text = this.falseText;\n                if (text == null) {\n                    text = tryGetText('Dialogs.NoButton') ?? 'No';\n                }\n            }\n        }\n\n        return htmlEncode(text);\n    }\n\n    @Decorators.option()\n    public falseText: string;\n\n    @Decorators.option()\n    public trueText: string;\n}\n\n@Decorators.registerFormatter('Serenity.CheckboxFormatter')\nexport class CheckboxFormatter implements Formatter {\n    format(ctx: FormatterContext) {\n        return '<span class=\"check-box no-float readonly slick-edit-preclick ' + (!!ctx.value ? ' checked' : '') + '\"></span>';\n    }\n}\n\n@Decorators.registerFormatter('Serenity.DateFormatter')\nexport class DateFormatter implements Formatter {\n    constructor() {\n        this.displayFormat = Culture.dateFormat;\n    }\n\n    static format(value: any, format?: string) {\n        if (value == null) {\n            return '';\n        }\n\n        var date: Date;\n\n        if (value instanceof Date) {\n            date = value;\n        }\n        else if (typeof value === 'string') {\n            date = parseISODateTime(value);\n\n            if (date == null || isNaN(date.valueOf())) {\n                return htmlEncode(value);\n            }\n        }\n        else {\n            return value.toString();\n        }\n\n        return htmlEncode(formatDate(date, format));\n    }\n\n    @Decorators.option()\n    public displayFormat: string;\n\n    format(ctx: FormatterContext): string {\n        return DateFormatter.format(ctx.value, this.displayFormat);\n    }\n}\n\n@Decorators.registerFormatter('Serenity.DateTimeFormatter')\nexport class DateTimeFormatter extends DateFormatter {\n    constructor() {\n        super();\n        this.displayFormat = Culture.dateTimeFormat;\n    }\n}\n\n@Decorators.registerFormatter('Serenity.EnumFormatter')\nexport class EnumFormatter implements Formatter {\n\n    format(ctx: FormatterContext): string {\n        return EnumFormatter.format(EnumTypeRegistry.get(this.enumKey), ctx.value);\n    }\n\n    @Decorators.option()\n    enumKey: string;\n\n    static format(enumType: any, value: any) {\n\n        if (value == null) {\n            return '';\n        }\n\n        var name = Enum.toString(enumType, value);\n        var enumKeyAttr = getAttributes(enumType, EnumKeyAttribute, false);\n        var enumKey = ((enumKeyAttr.length > 0) ? enumKeyAttr[0].value : getTypeFullName(enumType));\n        return EnumFormatter.getText(enumKey, name);\n    }\n\n    static getText(enumKey: string, name: string) {\n        if (isEmptyOrNull(name)) {\n            return '';\n        }\n\n        return htmlEncode(tryGetText('Enums.' + enumKey + '.' + name) ?? name);\n    }\n\n    static getName(enumType: any, value: any) {\n        if (value == null) {\n            return '';\n        }\n        return Enum.toString(enumType, value);\n    }\n}\n\n@Decorators.registerFormatter('Serenity.FileDownloadFormatter', [ISlickFormatter, IInitializeColumn])\nexport class FileDownloadFormatter implements Formatter, IInitializeColumn {\n\n    format(ctx: FormatterContext): string {\n        var dbFile = safeCast(ctx.value, String);\n        if (isEmptyOrNull(dbFile)) {\n            return '';\n        }\n\n        var downloadUrl = FileDownloadFormatter.dbFileUrl(dbFile);\n        var originalName = (!isEmptyOrNull(this.originalNameProperty) ?\n            safeCast(ctx.item[this.originalNameProperty], String) : null);\n\n        originalName = (originalName ?? '');\n        var text = format((this.displayFormat ?? '{0}'),\n            originalName, dbFile, downloadUrl);\n\n        var iconClass = this.iconClass ?? \"fa fa-download\";\n\n        if (iconClass.startsWith(\"fa-\"))\n            iconClass = \"fa \" + iconClass;\n\n        return \"<a class='file-download-link' target='_blank' href='\" +\n            htmlEncode(downloadUrl) + \"'><i class='\" + iconClass + \"'></i> \" + htmlEncode(text) + '</a>';\n    }\n\n    static dbFileUrl(filename: string): string {\n        filename = replaceAll((filename ?? ''), '\\\\', '/');\n        return resolveUrl('~/upload/') + filename;\n    }\n\n    initializeColumn(column: Column): void {\n        column.referencedFields = column.referencedFields || [];\n        if (!isEmptyOrNull(this.originalNameProperty)) {\n            column.referencedFields.push(this.originalNameProperty);\n            return;\n        }\n    }\n\n    @Decorators.option()\n    displayFormat: string;\n\n    @Decorators.option()\n    originalNameProperty: string;\n\n    @Decorators.option()\n    iconClass: string;\n}\n\n@Decorators.registerFormatter('Serenity.MinuteFormatter')\nexport class MinuteFormatter implements Formatter {\n\n    format(ctx: FormatterContext) {\n        return MinuteFormatter.format(ctx.value);\n    }\n\n    static format(value: number): string {\n        var hour = Math.floor(value / 60);\n        var minute = value - hour * 60;\n        var hourStr, minuteStr;\n\n        if (value == null || isNaN(value))\n            return '';\n\n        if (hour < 10)\n            hourStr = '0' + hour;\n        else\n            hourStr = hour.toString();\n\n        if (minute < 10)\n            minuteStr = '0' + minute;\n        else\n            minuteStr = minute.toString();\n\n        return format('{0}:{1}', hourStr, minuteStr);\n    }\n}\n\n@Decorators.registerFormatter('Serenity.NumberFormatter')\nexport class NumberFormatter {\n    format(ctx: FormatterContext): string {\n        return NumberFormatter.format(ctx.value, this.displayFormat);\n    }\n\n    static format(value: any, format?: string): string {\n        format = (format ?? '0.##');\n        if (value == null)\n            return '';\n\n        if (typeof (value) === 'number') {\n            if (isNaN(value))\n                return '';\n\n            return htmlEncode(formatNumber(value, format));\n        }\n\n        var dbl = parseDecimal(value.toString());\n        if (dbl == null || isNaN(dbl))\n            return value?.toString() ?? '';\n\n        return htmlEncode(formatNumber(dbl, format));\n    }\n\n    @Decorators.option()\n    displayFormat: string;\n}\n\n@Decorators.registerFormatter('Serenity.UrlFormatter', [ISlickFormatter, IInitializeColumn])\nexport class UrlFormatter implements Formatter, IInitializeColumn {\n\n    format(ctx: FormatterContext): string {\n        var url = (!isEmptyOrNull(this.urlProperty) ?\n            (ctx.item[this.urlProperty] ?? '').toString() :\n            (ctx.value ?? '').toString());\n\n        if (isEmptyOrNull(url))\n            return '';\n\n        if (!isEmptyOrNull(this.urlFormat))\n            url = format(this.urlFormat, url);\n\n        if (url != null && startsWith(url, '~/'))\n            url = resolveUrl(url);\n\n        var display = (!isEmptyOrNull(this.displayProperty) ?\n            (ctx.item[this.displayProperty] ?? '').toString() :\n            (ctx.value ?? '').toString());\n\n        if (!isEmptyOrNull(this.displayFormat))\n            display = format(this.displayFormat, display);\n\n        var s = \"<a href='\" + htmlEncode(url) + \"'\";\n        if (!isEmptyOrNull(this.target))\n            s += \" target='\" + this.target + \"'\";\n\n        s += '>' + htmlEncode(display) + '</a>';\n\n        return s;\n    }\n\n    initializeColumn(column: Column): void {\n        column.referencedFields = column.referencedFields || [];\n\n        if (!isEmptyOrNull(this.displayProperty)) {\n            column.referencedFields.push(this.displayProperty);\n        }\n\n        if (!isEmptyOrNull(this.urlProperty)) {\n            column.referencedFields.push(this.urlProperty);\n        }\n    }\n\n    @Decorators.option()\n    displayProperty: string;\n\n    @Decorators.option()\n    displayFormat: string;\n\n    @Decorators.option()\n    urlProperty: string;\n\n    @Decorators.option()\n    urlFormat: string;\n\n    @Decorators.option()\n    target: string;\n}","import { ArgumentNullException, Exception, htmlEncode, isAssignableFrom, isEmptyOrNull, ISlickFormatter, notifyError } from \"../q\";\nimport { commonTypeRegistry } from \"./commontyperegistry\";\n\nexport namespace FormatterTypeRegistry {\n\n    let registry = commonTypeRegistry(\n        type => isAssignableFrom(ISlickFormatter, type), \n        null, \"Formatter\");\n\n    export function get(key: string): any {\n        if (isEmptyOrNull(key)) \n            throw new ArgumentNullException('key');\n        \n        var type = registry.tryGet(key);\n        if (type)\n            return type;\n\n        var message = `\"${htmlEncode(key)}\" formatter class not found! \nMake sure there is such a formatter type under the project root namespace,\nand its namespace parts start with capital letters like MyProject.MyModule.MyFormatter.\n\nIf using ES modules, make sure the formatter type has a decorator like \n@Decorators.registerFormatter('MyProject.MyModule.MyFormatter') with the full name \nof your formatter type and \"side-effect-import\" this formatter class from the current \n\"page.ts/grid.ts/dialog.ts file (import \"./path/to/MyFormatter.ts\").\n\nAfter applying fixes, build and run \"node ./tsbuild.js\" (or \"tsc\" if using namespaces) \nfrom the project folder.`;\n\n        notifyError(message.replace(/\\r?\\n\\r?\\n/g, '<br/><br/>'), '', { escapeHtml: false, timeOut: 5000 });\n        throw new Exception(message);\n    }\n\n    export function reset() {\n        registry.reset();\n    }\n\n    export function tryGet(key: string) {\n        return registry.tryGet(key);\n    }\n}","import { Column, FormatterContext, Grid, IPlugin } from \"@serenity-is/sleekgrid\";\nimport { Decorators } from \"../../decorators\";\nimport { Authorization, clearKeys, Culture, htmlEncode, isEmptyOrNull, PropertyItem, replaceAll, safeCast, SaveRequest, serviceCall, startsWith, localText, tryGetText, tryFirst } from \"../../q\";\nimport { Format, Formatter, RemoteView } from \"../../slick\";\nimport { IDataGrid } from \"../datagrid/idatagrid\";\nimport { QuickSearchField, QuickSearchInput } from \"../datagrid/quicksearchinput\";\nimport { DateFormatter, EnumFormatter, IInitializeColumn, NumberFormatter } from \"../formatters/formatters\";\nimport { ReflectionOptionsSetter } from \"../widgets/reflectionoptionssetter\";\nimport { Toolbar, ToolButton } from \"../widgets/toolbar\";\nimport { FormatterTypeRegistry } from \"../../types/formattertyperegistry\";\n\nexport interface GridRowSelectionMixinOptions {\n    selectable?: (item: any) => boolean;\n}\n\n@Decorators.registerClass('Serenity.GridRowSelectionMixin')\nexport class GridRowSelectionMixin {\n\n    private idField: string;\n    private include: { [key: string]: boolean}\n    private grid: IDataGrid;\n    private options: GridRowSelectionMixinOptions;\n\n    constructor(grid: IDataGrid, options?: GridRowSelectionMixinOptions) {\n\n        this.include = {};\n        this.grid = grid;\n        this.idField = (grid.getView() as any).idField;\n        this.options = options || {};\n\n        grid.getGrid().onClick.subscribe((e, p) => {\n            if ($(e.target).hasClass('select-item')) {\n                e.preventDefault();\n                var item = grid.getView().getItem(p.row);\n                var id = item[this.idField].toString();\n\n                if (this.include[id]) {\n                    delete this.include[id];\n                }\n                else {\n                    this.include[id] = true;\n                }\n\n                for (var i = 0; i < (grid.getView() as any).getLength(); i++) {\n                    grid.getGrid().updateRow(i);\n                }\n\n                this.updateSelectAll();\n            }\n        });\n\n        grid.getGrid().onHeaderClick.subscribe((e1, u) => {\n            if (e1.isDefaultPrevented())\n                return;\n            if ($(e1.target).hasClass('select-all-items')) {\n                e1.preventDefault();\n                if (Object.keys(this.include).length > 0) {\n                    clearKeys(this.include);\n                }\n                else {\n                    var items = grid.getView().getItems();\n                    for (var x of items.filter(this.isSelectable.bind(this))) {\n                        var id1 = x[this.idField];\n                        this.include[id1] = true;\n                    }\n                }\n                this.updateSelectAll();\n                grid.getView().setItems(grid.getView().getItems(), true);\n                setTimeout(this.updateSelectAll.bind(this), 0);\n            }\n        });\n\n        (grid.getView() as any).onRowsChanged.subscribe(() => {\n            return this.updateSelectAll();\n        });\n    }\n\n    updateSelectAll(): void {\n        var selectAllButton = this.grid.getElement()\n            .find('.select-all-header .slick-column-name .select-all-items');\n\n        if (selectAllButton) {\n            var keys = Object.keys(this.include);\n            selectAllButton.toggleClass('checked',\n                keys.length > 0 &&\n                this.grid.getView().getItems().filter(\n                    this.isSelectable.bind(this)).length <= keys.length);\n        }\n    }\n\n    clear(): void {\n        clearKeys(this.include);\n        this.updateSelectAll();\n    }\n\n    resetCheckedAndRefresh(): void {\n        this.include = {};\n        this.updateSelectAll();\n        this.grid.getView().populate();\n    }\n\n    selectKeys(keys: string[]): void {\n        for (var k of keys) {\n            this.include[k] = true;\n        }\n\n        this.updateSelectAll();\n    }\n\n    getSelectedKeys(): string[] {\n        return Object.keys(this.include);\n    }\n\n    getSelectedAsInt32(): number[] {\n        return Object.keys(this.include).map(function (x) {\n            return parseInt(x, 10);\n        });\n    }\n\n    getSelectedAsInt64(): number[] {\n        return Object.keys(this.include).map(function (x) {\n            return parseInt(x, 10);\n        });\n    }\n\n    setSelectedKeys(keys: string[]): void {\n        this.clear();\n        for (var k of keys) {\n            this.include[k] = true;\n        }\n\n        this.updateSelectAll();\n    }\n\n    private isSelectable(item: any) {\n        return item && (\n            this.options.selectable == null ||\n            this.options.selectable(item));\n    }\n\n    static createSelectColumn(getMixin: () => GridRowSelectionMixin): Column {\n        return {\n            name: '<span class=\"select-all-items check-box no-float \"></span>',\n            nameIsHtml: true,\n            toolTip: ' ',\n            field: '__select__',\n            width: 27,\n            minWidth: 27,\n            headerCssClass: 'select-all-header',\n            sortable: false,\n            format: function (ctx) {\n                var item = ctx.item;\n                var mixin = getMixin();\n                if (!mixin || !mixin.isSelectable(item)) {\n                    return '';\n                }\n                var isChecked = mixin.include[ctx.item[mixin.idField]];\n                return '<span class=\"select-item check-box no-float ' + (isChecked ? ' checked' : '') + '\"></span>';\n            }\n        };\n    }\n}\n\nexport interface GridRadioSelectionMixinOptions {\n    selectable?: (item: any) => boolean;\n}\n\n@Decorators.registerClass('GridRadioSelectionMixin')\nexport class GridRadioSelectionMixin {\n\n    private idField: string;\n    private include: { [key: string]: boolean };\n    private grid: IDataGrid;\n    private options: GridRadioSelectionMixinOptions;\n\n    constructor(grid: IDataGrid, options?: GridRadioSelectionMixinOptions) {\n\n        this.include = {};\n        this.grid = grid;\n        this.idField = (grid.getView() as any).idField;\n        this.options = options || {};\n\n        grid.getGrid().onClick.subscribe((e, p) => {\n            if ($(e.target).hasClass('rad-select-item')) {\n                e.preventDefault();\n                var item = grid.getView().getItem(p.row);\n\n                if (!this.isSelectable(item)) {\n                    return;\n                }\n\n                var id = item[this.idField].toString();\n\n                if (this.include[id] == true) {\n                    clearKeys(this.include);\n                }\n                else {\n                    clearKeys(this.include);\n                    this.include[id] = true;\n                }\n\n                for (var i = 0; i < (grid.getView() as any).getLength(); i++) {\n                    grid.getGrid().updateRow(i);\n                }\n            }\n        });\n    }\n\n    private isSelectable(item: any) {\n        return item && (\n            this.options.selectable == null ||\n            this.options.selectable(item));\n    }\n\n    clear(): void {\n        clearKeys(this.include);\n    }\n\n    resetCheckedAndRefresh(): void {\n        this.include = {};\n        this.grid.getView().populate();\n    }\n\n    getSelectedKey(): string {\n        var items = Object.keys(this.include);\n        if (items != null && items.length > 0) {\n            return items[0];\n        }\n\n        return null;\n    }\n\n    getSelectedAsInt32(): number {\n        var items = Object.keys(this.include).map(function (x) {\n            return parseInt(x, 10);\n        });\n\n        if (items != null && items.length > 0) {\n            return items[0];\n        }\n\n        return null;\n    }\n\n    getSelectedAsInt64(): number {\n        var items = Object.keys(this.include).map(function (x) {\n            return parseInt(x, 10);\n        });\n\n        if (items != null && items.length > 0) {\n            return items[0];\n        }\n\n        return null;\n    }\n\n    setSelectedKey(key: string): void {\n        this.clear();\n        this.include[key] = true;\n    }\n\n    static createSelectColumn(getMixin: () => GridRadioSelectionMixin): Column {\n        return {\n            name: '',\n            toolTip: ' ',\n            field: '__select__',\n            width: 27,\n            minWidth: 27,\n            headerCssClass: '',\n            sortable: false,\n            formatter: function (row, cell, value, column, item) {\n                var mixin = getMixin();\n                if (!mixin || !mixin.isSelectable(item)) {\n                    return '';\n                }\n\n                var isChecked = mixin.include[item[mixin.idField]];\n                return '<input type=\"radio\" name=\"radio-selection-group\" class=\"rad-select-item no-float\" style=\"cursor: pointer;width: 13px; height:13px;\" ' + (isChecked ? ' checked' : '') + ' /> ';\n            }\n        };\n    }\n}\n\nexport namespace GridSelectAllButtonHelper {\n    export function update(grid: IDataGrid, getSelected: (p1: any) => boolean): void {\n        var toolbar = (grid as any).element.children('.s-Toolbar') as JQuery;\n        if (toolbar.length === 0) {\n            return;\n        }\n        var btn = toolbar.getWidget(Toolbar).findButton('select-all-button');\n        var items = grid.getView().getItems();\n        btn.toggleClass('checked', items.length > 0 && !items.some(function (x) {\n            return !getSelected(x);\n        }));\n    }\n\n    export function define(getGrid: () => IDataGrid, getId: (p1: any) => any,\n        getSelected: (p1: any) => boolean,\n        setSelected: (p1: any, p2: boolean) => void,\n        text?: string, onClick?: () => void): ToolButton {\n\n        if (text == null) {\n            text = tryGetText('Controls.CheckTreeEditor.SelectAll') ??\n                'Select All';\n        }\n        return {\n            title: text,\n            action: \"select-all\",\n            cssClass: 'select-all-button',\n            onClick: function () {\n                var grid = getGrid();\n                var view = grid.getView();\n                var btn = (grid as any).element.children('.s-Toolbar')\n                    .getWidget(Toolbar).findButton('select-all-button');\n                var makeSelected = !btn.hasClass('checked');\n                view.beginUpdate();\n                try {\n                    for (var item of view.getItems()) {\n                        setSelected(item, makeSelected);\n                        view.updateItem(getId(item), item);\n                    }\n                    onClick && onClick();\n                }\n                finally {\n                    view.endUpdate();\n                }\n\n                btn.toggleClass('checked', makeSelected);\n            }\n        };\n    }\n}\n\nexport namespace GridUtils {\n    export function addToggleButton(toolDiv: JQuery, cssClass: string,\n        callback: (p1: boolean) => void, hint: string, initial?: boolean): void {\n\n        var div = $('<div><a href=\"#\"></a></div>')\n            .addClass('s-ToggleButton').addClass(cssClass)\n            .prependTo(toolDiv);\n        div.children('a').click(function (e) {\n            e.preventDefault();\n            div.toggleClass('pressed');\n            var pressed = div.hasClass('pressed');\n            callback && callback(pressed);\n        }).attr('title', hint ?? '');\n        if (initial) {\n            div.addClass('pressed');\n        }\n    }\n\n    export function addIncludeDeletedToggle(toolDiv: JQuery,\n        view: RemoteView<any>, hint?: string, initial?: boolean): void {\n\n        var includeDeleted = false;\n        var oldSubmit = view.onSubmit;\n        view.onSubmit = function (v) {\n            v.params.IncludeDeleted = includeDeleted;\n            if (oldSubmit != null) {\n                return oldSubmit(v);\n            }\n            return true;\n        };\n\n        if (hint == null) \n            hint = localText('Controls.EntityGrid.IncludeDeletedToggle');\n        \n        addToggleButton(toolDiv, 's-IncludeDeletedToggle',\n            function (pressed) {\n                includeDeleted = pressed;\n                view.seekToPage = 1;\n                view.populate();\n            }, hint, initial);\n        toolDiv.bind('remove', function () {\n            view.onSubmit = null;\n            oldSubmit = null;\n        });\n    }\n\n    export function addQuickSearchInput(toolDiv: JQuery,\n        view: RemoteView<any>, fields?: QuickSearchField[], onChange?: () => void): QuickSearchInput {\n\n        var oldSubmit = view.onSubmit;\n        var input: QuickSearchInput;\n        view.onSubmit = function (v) {\n            if (input) {\n                var searchText = input.get_value();\n                if (searchText && searchText.length > 0) {\n                    v.params.ContainsText = searchText;\n                }\n                else {\n                    delete v.params['ContainsText'];\n                }\n                var searchField = input.get_field()?.name;\n                if (searchField != null && searchField.length > 0) {\n                    v.params.ContainsField = searchField;\n                }\n                else {\n                    delete v.params['ContainsField'];\n                }\n            }\n\n            if (oldSubmit != null) \n                return oldSubmit(v);\n            \n            return true;\n        };\n\n        var lastDoneEvent: any = null;\n        input = addQuickSearchInputCustom(toolDiv, (field, query, done) => {\n            onChange && onChange();\n            view.seekToPage = 1;\n            lastDoneEvent = done;\n            view.populate();\n        }, fields);\n\n        view.onDataLoaded.subscribe(function (e, ui) {\n            if (lastDoneEvent != null) {\n                lastDoneEvent(view.getLength() > 0);\n                lastDoneEvent = null;\n            }\n        });\n\n        return input;\n    }\n\n    export function addQuickSearchInputCustom(container: JQuery,\n        onSearch: (p1: string, p2: string, done: (p3: boolean) => void) => void,\n        fields?: QuickSearchField[]): QuickSearchInput {\n\n        var div = $('<div><input type=\"text\"/></div>')\n            .addClass('s-QuickSearchBar').prependTo(container);\n\n        if (fields != null && fields.length > 0) {\n            div.addClass('has-quick-search-fields');\n        }\n\n        return new QuickSearchInput(div.children(), {\n            fields: fields,\n            onSearch: onSearch as any\n        });\n    }\n\n    export function makeOrderable(grid: Grid,\n        handleMove: (p1: any, p2: number) => void): void {\n\n        var moveRowsPlugin = new Slick.RowMoveManager({ cancelEditOnDrag: true });\n        moveRowsPlugin.onBeforeMoveRows.subscribe(function (e, data) {\n            for (var i = 0; !!(i < data.rows.length); i++) {\n                if (!!(data.rows[i] === data.insertBefore ||\n                    data.rows[i] === data.insertBefore - 1)) {\n                    e.stopPropagation();\n                    return false;\n                }\n            }\n\n            return true;\n        });\n\n        moveRowsPlugin.onMoveRows.subscribe(function (e1, data1) {\n            handleMove(data1.rows, data1.insertBefore);\n            try {\n                grid.setSelectedRows([]);\n            }\n            catch ($t1) {\n            }\n        });\n        grid.registerPlugin(moveRowsPlugin);\n    }\n\n    export function makeOrderableWithUpdateRequest(grid: IDataGrid,\n        getId: (p1: any) => number, getDisplayOrder: (p1: any) => any, service: string,\n        getUpdateRequest: (p1: number, p2: number) => SaveRequest<any>): void {\n\n        makeOrderable(grid.getGrid(), function (rows, insertBefore) {\n            if (rows.length === 0) {\n                return;\n            }\n\n            var order: number;\n            var index = insertBefore;\n            if (index < 0) {\n                order = 1;\n            }\n            else if (insertBefore >= grid.getGrid().getDataLength()) {\n                order = (getDisplayOrder(grid.getGrid().getDataItem(grid.getGrid().getDataLength() - 1)) ?? 0);\n                if (order === 0) {\n                    order = insertBefore + 1;\n                }\n                else {\n                    order = order + 1;\n                }\n            }\n            else {\n                order = (getDisplayOrder(grid.getGrid().getDataItem(insertBefore)) ?? 0);\n                if (order === 0) {\n                    order = insertBefore + 1;\n                }\n            }\n\n            var i = 0;\n            var next: any = null;\n            next = function () {\n                serviceCall({\n                    service: service,\n                    request: getUpdateRequest(getId(\n                        grid.getGrid().getDataItem(rows[i])), order++),\n                    onSuccess: function (response) {\n                        i++;\n                        if (i < rows.length) {\n                            next();\n                        }\n                        else {\n                            grid.getView().populate();\n                        }\n                    }\n                });\n            };\n            next();\n        });\n    }\n}\n\nexport namespace PropertyItemSlickConverter {\n\n    export function toSlickColumns(items: PropertyItem[]): Column[] {\n        var result: Column[] = [];\n        if (items == null) {\n            return result;\n        }\n        for (var i = 0; i < items.length; i++) {\n            result.push(PropertyItemSlickConverter.toSlickColumn(items[i]));\n        }\n        return result;\n    }\n\n    export function toSlickColumn(item: PropertyItem): Column {\n        var result: Column = {\n            field: item.name,\n            sourceItem: item,\n            cssClass: item.cssClass,\n            headerCssClass: item.headerCssClass,\n            sortable: item.sortable !== false,\n            sortOrder: item.sortOrder ?? 0,\n            width: item.width != null ? item.width : 80,\n            minWidth: item.minWidth ?? 30,\n            maxWidth: (item.maxWidth == null || item.maxWidth === 0) ? null : item.maxWidth,\n            resizable: item.resizable == null || !!item.resizable\n        };\n\n        result.visible = item.visible !== false && item.filterOnly !== true &&\n            (item.readPermission == null || Authorization.hasPermission(item.readPermission));\n\n        var name = tryGetText(item.title);\n        if (name == null)\n            name = item.title;\n        result.name = name;\n\n        if (item.alignment != null && item.alignment.length > 0) {\n            if (!isEmptyOrNull(result.cssClass)) {\n                result.cssClass += ' align-' + item.alignment;\n            }\n            else {\n                result.cssClass = 'align-' + item.alignment;\n            }\n        }\n\n        if (item.formatterType != null && item.formatterType.length > 0) {\n\n            var formatterType = FormatterTypeRegistry.get(item.formatterType) as any;\n            var formatter = new formatterType() as Formatter;\n\n            if (item.formatterParams != null) {\n                ReflectionOptionsSetter.set(formatter, item.formatterParams);\n            }\n\n            var initializer = safeCast(formatter, IInitializeColumn);\n            if (initializer != null) {\n                initializer.initializeColumn(result);\n            }\n\n            result.format = (ctx) => formatter.format(ctx);\n        }\n\n        return result;\n    }\n}\n\nexport namespace SlickFormatting {\n    export function getEnumText(enumKey: string, name: string): string {\n        return EnumFormatter.getText(enumKey, name);\n    }\n\n    export function treeToggle(getView: () => RemoteView<any>, getId: (x: any) => any,\n        formatter: Format): Format {\n        return function (ctx: FormatterContext) {\n            var text = formatter(ctx);\n            var view = getView();\n            var indent = (ctx.item as any)._indent ?? 0;\n            var spacer = '<span class=\"s-TreeIndent\" style=\"width:' + 15 * indent + 'px\"></span>';\n            var id = getId(ctx.item);\n            var idx = view.getIdxById(id);\n            var next = view.getItemByIdx(idx + 1);\n            if (next != null) {\n                var nextIndent = next._indent ?? 0;\n                if (nextIndent > indent) {\n                    if (!!!!(ctx.item as any)._collapsed) {\n                        return spacer + '<span class=\"s-TreeToggle s-TreeExpand\"></span>' + text;\n                    }\n                    else {\n                        return spacer + '<span class=\"s-TreeToggle s-TreeCollapse\"></span>' + text;\n                    }\n                }\n            }\n            return spacer + '<span class=\"s-TreeToggle\"></span>' + text;\n        };\n    }\n\n    export function date(format?: string): Format {\n        if (format == null) {\n            format = Culture.dateFormat;\n        }\n\n        return function (ctx: FormatterContext) {\n            return htmlEncode(DateFormatter.format(ctx.value, format));\n        };\n    }\n\n    export function dateTime(format?: string): Format {\n        if (format == null) {\n            format = Culture.dateTimeFormat;\n        }\n        return function (ctx: FormatterContext) {\n            return htmlEncode(DateFormatter.format(ctx.value, format));\n        };\n    }\n\n    export function checkBox(): Format {\n        return function (ctx: FormatterContext) {\n            return '<span class=\"check-box no-float ' + (!!ctx.value ? ' checked' : '') + '\"></span>';\n        };\n    }\n\n    export function number(format: string): Format {\n        return function (ctx: FormatterContext) {\n            return NumberFormatter.format(ctx.value, format);\n        };\n    }\n\n    export function getItemType(link: JQuery): string {\n        return link.data('item-type');\n    }\n\n    export function getItemId(link: JQuery): string {\n        var value = link.data('item-id');\n        return value == null ? null : value.toString();\n    }\n\n    export function itemLinkText(itemType: string, id: any, text: any,\n        extraClass: string, encode: boolean): string {\n        return '<a' + (id != null ? (' href=\"#' + replaceAll(itemType, '.', '-') +\n            '/' + id + '\"') : '') + ' data-item-type=\"' +\n            htmlEncode(itemType) + '\"' + ' data-item-id=\"' +\n            htmlEncode(id) + '\"' + ' class=\"s-EditLink s-' +\n            replaceAll(itemType, '.', '-') + 'Link' +\n            (isEmptyOrNull(extraClass) ? '' : (' ' + extraClass)) + '\">' +\n            (encode ? htmlEncode(text ?? '') : text ?? '') + '</a>';\n    }\n\n    export function itemLink<TItem = any>(itemType: string, idField: string, getText: Format<TItem>,\n        cssClass?: Format<TItem>, encode?: boolean): Format<TItem> {\n        return function (ctx: FormatterContext<TItem>) {\n            var text = (getText == null ? ctx.value : getText(ctx)) ?? '';\n            if ((ctx.item as any)?.__nonDataRow) {\n                return encode ? htmlEncode(text) : text;\n            }\n\n            return itemLinkText(itemType, (ctx.item as any)[idField],\n                (getText == null ? ctx.value : getText(ctx)),\n                (cssClass == null ? '' : cssClass(ctx)), encode);\n        };\n    }\n}\n\nexport namespace SlickHelper {\n    export function setDefaults(columns: Column[], localTextPrefix?: string): any {\n        for (var col of columns) {\n            col.sortable = (col.sortable != null ? col.sortable : true);\n            var id = col.id;\n            if (id == null) {\n                id = col.field;\n            }\n            col.id = id;\n\n            if (localTextPrefix != null && col.id != null &&\n                (col.name == null || startsWith(col.name, '~'))) {\n                var key = (col.name != null ? col.name.substr(1) : col.id);\n                col.name = localText(localTextPrefix + key);\n            }\n        }\n\n        return columns;\n    }\n}\n\nexport namespace SlickTreeHelper {\n    export function filterCustom<TItem>(item: TItem, getParent: (x: TItem) => any): boolean {\n        var parent = getParent(item);\n        var loop = 0;\n        while (parent != null) {\n            if (!!parent._collapsed) {\n                return false;\n            }\n            parent = getParent(parent);\n            if (loop++ > 1000) {\n                throw new Error(\n                    'Possible infinite loop, check parents has no circular reference!');\n            }\n        }\n        return true;\n    }\n\n    export function filterById<TItem>(item: TItem, view: RemoteView<TItem>,\n        getParentId: (x: TItem) => any): boolean {\n        return filterCustom(item, function (x) {\n            var parentId = getParentId(x);\n            if (parentId == null) {\n                return null;\n            }\n            return view.getItemById(parentId);\n        });\n    }\n\n    export function setCollapsed<TItem>(items: TItem[], collapsed: boolean): void {\n        if (items != null) {\n            for (var item of items) {\n                (item as any)._collapsed = collapsed;\n            }\n        }\n    }\n\n    export function setCollapsedFlag<TItem>(item: TItem, collapsed: boolean): void {\n        (item as any)._collapsed = collapsed;\n    }\n\n    export function setIndents<TItem>(items: TItem[], getId: (x: TItem) => any,\n        getParentId: (x: TItem) => any, setCollapsed?: boolean): void {\n        var depth = 0;\n        var depths: Record<any, any> = {};\n        for (var line = 0; line < items.length; line++) {\n            var item = items[line];\n            if (line > 0) {\n                var parentId = getParentId(item);\n                if (parentId != null && parentId === getId(items[line - 1])) {\n                    depth += 1;\n                }\n                else if (parentId == null) {\n                    depth = 0;\n                }\n                else if (parentId !== getParentId(items[line - 1])) {\n                    if (depths[parentId] != null) {\n                        depth = depths[parentId] + 1;\n                    }\n                    else {\n                        depth = 0;\n                    }\n                }\n            }\n            depths[getId(item)] = depth;\n            (item as any)._indent = depth;\n            if (setCollapsed != null) {\n                (item as any)._collapsed = setCollapsed;\n            }\n        }\n    }\n\n    export function toggleClick<TItem>(e: JQueryEventObject, row: number, cell: number,\n        view: RemoteView<TItem>, getId: (x: TItem) => any): void {\n        var target = $(e.target);\n        if (!target.hasClass('s-TreeToggle')) {\n            return;\n        }\n        if (target.hasClass('s-TreeCollapse') || target.hasClass('s-TreeExpand')) {\n            var item = view.getItem(row);\n            if (item != null) {\n                if (!!!item._collapsed) {\n                    item._collapsed = true;\n                }\n                else {\n                    item._collapsed = false;\n                }\n                view.updateItem(getId(item), item);\n            }\n            if (e.shiftKey) {\n                view.beginUpdate();\n                try {\n                    setCollapsed(view.getItems(), !!item._collapsed);\n                    view.setItems(view.getItems(), true);\n                }\n                finally {\n                    view.endUpdate();\n                }\n            }\n        }\n    }\n}\n\n\nexport class ColumnsBase<TRow = any> {\n    constructor(items: Column<TRow>[]) {\n        (this as any).__items = items;\n        for (var col of items) {\n            let id = col.id;\n            if (id && !(this as any)[id])\n                (this as any)[id] = col;\n        }\n        for (var col of items) {\n            let id = col.sourceItem?.name;\n            if (id && !(this as any)[id])\n                (this as any)[id] = col;\n        }\n        for (var col of items) {\n            let id = col.field;\n            if (id && !(this as any)[id])\n                (this as any)[id] = col;\n        }\n    }\n\n    valueOf(): Column<TRow>[] {\n        return (this as any).__items;\n    }\n}\n","import { Authorization, Criteria, debounce, deepClone, endsWith, extend, getAttributes, getColumnsData, getColumnsDataAsync, getInstanceType, getTypeFullName, htmlEncode, indexOf, isEmptyOrNull, isInstanceOfType, layoutFillHeight, LayoutTimer, ListResponse, PropertyItem, PropertyItemsData, ScriptData, setEquality, startsWith, trimEnd, trimToNull, tryGetText } from \"../../q\";\nimport { Format, PagerOptions, RemoteView, RemoteViewOptions } from \"../../slick\";\nimport { AutoTooltips, Column, ColumnSort, EventEmitter, FormatterContext, Grid, GridOptions, GroupItemMetadataProvider, IPlugin, Range, SelectionModel } from \"@serenity-is/sleekgrid\";\nimport { ColumnsKeyAttribute, Decorators, FilterableAttribute, IdPropertyAttribute, IsActivePropertyAttribute, LocalTextPrefixAttribute } from \"../../decorators\";\nimport { IReadOnly } from \"../../interfaces\";\nimport { DateEditor } from \"../editors/dateeditor\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { SelectEditor } from \"../editors/selecteditor\";\nimport { FilterDisplayBar } from \"../filtering/filterdisplaybar\";\nimport { BooleanFiltering, DateFiltering, DateTimeFiltering, FilteringTypeRegistry, IFiltering, IQuickFiltering } from \"../filtering/filtering\";\nimport { FilterLine } from \"../filtering/filterline\";\nimport { FilterOperators } from \"../filtering/filteroperator\";\nimport { FilterStore } from \"../filtering/filterstore\";\nimport { LazyLoadHelper } from \"../helpers/lazyloadhelper\";\nimport { GridUtils, PropertyItemSlickConverter, SlickFormatting, SlickHelper } from \"../helpers/slickhelpers\";\nimport { ReflectionOptionsSetter } from \"../widgets/reflectionoptionssetter\";\nimport { Toolbar, ToolButton } from \"../widgets/toolbar\";\nimport { Widget } from \"../widgets/widget\";\nimport { IDataGrid } from \"./idatagrid\";\nimport { IRowDefinition } from \"./irowdefinition\";\nimport { QuickFilter } from \"./quickfilter\";\nimport { QuickFilterBar } from \"./quickfilterbar\";\nimport { QuickSearchField, QuickSearchInput } from \"./quicksearchinput\";\nimport { SlickPager } from \"./slickpager\";\n\ntype GroupItemMetadataProviderType = typeof GroupItemMetadataProvider;\n\ndeclare global {\n    namespace Slick {\n        namespace Data {\n            /** @obsolete use the type exported from @serenity-is/sleekgrid */\n            export const GroupItemMetadataProvider: GroupItemMetadataProviderType;\n        }\n   \n        interface RowMoveManagerOptions {\n            cancelEditOnDrag: boolean;\n        }\n    \n        class RowMoveManager implements IPlugin {\n            constructor(options: RowMoveManagerOptions);\n            init(): void;\n            onBeforeMoveRows: EventEmitter;\n            onMoveRows: EventEmitter;\n        }\n\n        class RowSelectionModel implements SelectionModel {\n            init(grid: Grid): void;\n            destroy?: () => void;\n            setSelectedRanges(ranges: Range[]): void;\n            onSelectedRangesChanged: EventEmitter<Range[]>;\n            refreshSelections?(): void;\n        }        \n    }\n}\n\nexport interface SettingStorage {\n    getItem(key: string): string | Promise<string>;\n    setItem(key: string, value: string): void | Promise<void>;\n}\n\nexport interface PersistedGridColumn {\n    id: string;\n    width?: number;\n    sort?: number;\n    visible?: boolean;\n}\n\nexport interface PersistedGridSettings {\n    columns?: PersistedGridColumn[];\n    filterItems?: FilterLine[];\n    quickFilters?: { [key: string]: any };\n    quickFilterText?: string;\n    quickSearchField?: QuickSearchField;\n    quickSearchText?: string;\n    includeDeleted?: boolean;\n}\n\nexport interface GridPersistanceFlags {\n    columnWidths?: boolean;\n    columnVisibility?: boolean;\n    sortColumns?: boolean;\n    filterItems?: boolean;\n    quickFilters?: boolean;\n    quickFilterText?: boolean;\n    quickSearch?: boolean;\n    includeDeleted?: boolean;\n}\n\n@Decorators.registerClass('Serenity.DataGrid', [IReadOnly])\n@Decorators.element(\"<div/>\")\nexport class DataGrid<TItem, TOptions> extends Widget<TOptions> implements IDataGrid, IReadOnly {\n\n    private _isDisabled: boolean;\n    private _layoutTimer: number; \n    private _slickGridOnSort: any;\n    private _slickGridOnClick: any;\n    protected titleDiv: JQuery;\n    protected toolbar: Toolbar;\n    protected filterBar: FilterDisplayBar;\n    protected quickFiltersDiv: JQuery;\n    protected quickFiltersBar: QuickFilterBar;\n    protected slickContainer: JQuery;\n    protected allColumns: Column[];\n    protected propertyItemsData: PropertyItemsData;\n    protected initialSettings: PersistedGridSettings;\n    protected restoringSettings: number = 0;\n    public view: RemoteView<TItem>;\n    public slickGrid: Grid;\n    public openDialogsAsPanel: boolean;\n\n    public static defaultRowHeight: number;\n    public static defaultHeaderHeight: number;\n    public static defaultPersistanceStorage: SettingStorage;\n    public static defaultColumnWidthScale: number;\n    public static defaultColumnWidthDelta: number;\n\n    constructor(container: JQuery, options?: TOptions) {\n        super(container, options);\n\n        var self = this;\n\n        this.element.addClass('s-DataGrid').html('');\n\n        var layout = function() {\n            self.layout();\n            if (self._layoutTimer != null)\n                LayoutTimer.store(self._layoutTimer);\n        }\n        this.element.addClass('require-layout').on('layout.' + this.uniqueName, layout);\n\n        if (this.useLayoutTimer())\n            this._layoutTimer = LayoutTimer.onSizeChange(() => this.element && this.element[0], debounce(layout, 50));\n\n        this.setTitle(this.getInitialTitle());\n\n        var buttons = this.getButtons();\n        if (buttons != null) {\n            this.createToolbar(buttons);\n        }\n\n        this.slickContainer = this.createSlickContainer();\n        this.view = this.createView();\n\n        if (this.useAsync())\n            this.initAsync();\n        else \n            this.initSync();\n    }\n\n    protected internalInit() {\n        this.allColumns = this.allColumns ?? this.getColumns();\n        this.slickGrid = this.createSlickGrid();\n\n        if (this.enableFiltering()) {\n            this.createFilterBar();\n        }\n\n        if (this.usePager()) {\n            this.createPager();\n        }\n        this.bindToSlickEvents();\n        this.bindToViewEvents();\n\n        if (this.toolbar) {\n            this.createToolbarExtensions();\n        }\n\n        this.createQuickFilters();\n\n        this.updateDisabledState();\n        this.updateInterface();\n\n        this.initialSettings = this.getCurrentSettings(null);\n        \n        var restoreResult = this.restoreSettings(null, null);\n        if ((restoreResult as any)?.then)\n            (restoreResult as Promise<void>).then(() => window.setTimeout(() => this.initialPopulate(), 0));\n        else\n            window.setTimeout(() => this.initialPopulate(), 0);\n    }\n\n    protected initSync() {\n        this.propertyItemsData = this.getPropertyItemsData();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected async initAsync() {\n        this.propertyItemsData = await this.getPropertyItemsDataAsync();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected afterInit() {\n    }\n\n    protected useAsync() {\n        return false;\n    }\n\n    protected useLayoutTimer() {\n        return true;\n    }\n\n    protected attrs<TAttr>(attrType: { new(...args: any[]): TAttr }): TAttr[] {\n        return getAttributes(getInstanceType(this), attrType, true);\n    }\n\n    protected layout(): void {\n        if (!this.element || !this.element.is(':visible') || !this.slickContainer || !this.slickGrid)\n            return;\n\n        var responsiveHeight = this.element.hasClass('responsive-height');\n        var madeAutoHeight = this.slickGrid != null && this.slickGrid.getOptions().autoHeight;\n        var shouldAutoHeight = responsiveHeight && window.innerWidth < 768;\n\n        if (shouldAutoHeight) {\n            if (!madeAutoHeight) {\n                this.slickGrid.setOptions({ autoHeight: true });\n            }\n        }\n        else if (madeAutoHeight) {\n            this.slickContainer.css('height', '');\n            this.slickContainer.children('.slick-viewport').css('height', '');\n            this.slickGrid.setOptions({ autoHeight: false });\n        }\n\n        this.slickGrid.resizeCanvas();\n    }\n\n    protected getInitialTitle(): string {\n        return null;\n    }\n\n    protected createToolbarExtensions(): void {\n    }\n\n    protected ensureQuickFilterBar(): QuickFilterBar {\n\n        if (this.quickFiltersDiv == null)\n            this.createQuickFilters([]);\n\n        return this.quickFiltersBar;\n    }\n\n    protected createQuickFilters(filters?: QuickFilter<Widget<any>, any>[]): void {\n\n        if (this.quickFiltersDiv == null && (filters != null ||\n            ((filters = this.getQuickFilters()) && filters != null && filters.length))) {\n            this.quickFiltersDiv = $('<div/>').addClass('quick-filters-bar');\n            if (this.toolbar) {\n                $('<div/>').addClass('clear').appendTo(this.toolbar.element);\n                this.quickFiltersDiv.appendTo(this.toolbar.element);\n            }\n            else {\n                this.quickFiltersDiv.appendTo($('<div/>').addClass('s-Toolbar').insertBefore(this.slickContainer));\n            }\n\n            this.quickFiltersBar = new QuickFilterBar(this.quickFiltersDiv, {\n                filters: filters,\n                getTitle: (filter: QuickFilter<Widget<any>, any>) => this.determineText(pre => pre + filter.field),\n                idPrefix: this.uniqueName + '_QuickFilter_'\n            });\n            this.quickFiltersBar.onChange = (e) => this.quickFilterChange(e);\n        }\n    }\n\n    protected getQuickFilters(): QuickFilter<Widget<any>, any>[] {\n        return this.allColumns.filter(function (x) {\n            return x.sourceItem &&\n                x.sourceItem.quickFilter === true &&\n                (x.sourceItem.readPermission == null ||\n                    Authorization.hasPermission(x.sourceItem.readPermission));\n        }).map(x => DataGrid.propertyItemToQuickFilter(x.sourceItem))\n            .filter(x => x != null);\n    }\n\n    public static propertyItemToQuickFilter(item: PropertyItem) {\n        var quick: any = {};\n\n        var name = item.name;\n        var title = tryGetText(item.title);\n        if (title == null) {\n            title = item.title;\n            if (title == null) {\n                title = name;\n            }\n        }\n\n        var filteringType = FilteringTypeRegistry.get((item.filteringType ?? 'String'));\n        if (filteringType === DateFiltering) {\n            quick = QuickFilterBar.dateRange(name, title);\n        }\n        else if (filteringType === DateTimeFiltering) {\n            quick = QuickFilterBar.dateTimeRange(name, title, item.editorParams?.useUtc);\n        }\n        else if (filteringType === BooleanFiltering) {\n            var q = item.quickFilterParams || {};\n            var f = item.filteringParams || {};\n            var trueText = q['trueText'];\n            if (trueText == null) {\n                trueText = f['trueText'];\n            }\n            var falseText = q['falseText'];\n            if (falseText == null) {\n                falseText = f['falseText'];\n            }\n            quick = QuickFilterBar.boolean(name, title, trueText, falseText);\n        }\n        else {\n            var filtering = new (filteringType as any)() as IFiltering;\n            if (filtering && isInstanceOfType(filtering, IQuickFiltering)) {\n                ReflectionOptionsSetter.set(filtering, item.filteringParams);\n                filtering.set_field(item);\n                filtering.set_operator({ key: FilterOperators.EQ });\n                (filtering as any).initQuickFilter(quick);\n                quick.options = extend(deepClone(quick.options), item.quickFilterParams);\n            }\n            else {\n                return null;\n            }\n        }\n\n        if (!!item.quickFilterSeparator) {\n            quick.separator = true;\n        }\n\n        quick.cssClass = item.quickFilterCssClass;\n        return quick;\n    }\n\n    protected findQuickFilter<TWidget>(type: { new(...args: any[]): TWidget }, field: string): TWidget {\n        if (this.quickFiltersBar != null)\n            return this.quickFiltersBar.find(type, field);\n\n        return $('#' + this.uniqueName + '_QuickFilter_' + field).getWidget(type);\n    }\n\n    protected tryFindQuickFilter<TWidget>(type: { new(...args: any[]): TWidget }, field: string): TWidget {\n        if (this.quickFiltersBar != null)\n            return this.quickFiltersBar.tryFind(type, field);\n\n        var el = $('#' + this.uniqueName + '_QuickFilter_' + field);\n        if (!el.length)\n            return null;\n\n        return el.tryGetWidget(type);\n    }\n\n    protected createIncludeDeletedButton(): void {\n        if (!isEmptyOrNull(this.getIsActiveProperty()) ||\n            !isEmptyOrNull(this.getIsDeletedProperty())) {\n            GridUtils.addIncludeDeletedToggle(this.toolbar.element, this.view, null, false);\n        }\n    }\n\n    protected getQuickSearchFields(): QuickSearchField[] {\n        return null;\n    }\n\n    protected createQuickSearchInput(): void {\n        var input = GridUtils.addQuickSearchInput(this.toolbar.element, this.view, this.getQuickSearchFields(), () => this.persistSettings(null));\n        input?.element?.attr('id', this.idPrefix + 'QuickSearchInput');\n    }\n\n    public destroy() {\n        if (this._layoutTimer) {\n            this._layoutTimer = LayoutTimer.off(this._layoutTimer);\n        }\n        if (this.quickFiltersBar) {\n            this.quickFiltersBar.destroy();\n            this.quickFiltersBar = null;\n        }\n\n        if (this.toolbar) {\n            this.toolbar.destroy();\n            this.toolbar = null;\n        }\n\n        if (this.slickGrid) {\n            this.slickGrid.onClick.clear();\n            this.slickGrid.onSort.clear();\n            this.slickGrid.onColumnsResized.clear();\n            this.slickGrid.onColumnsReordered.clear();\n            this.slickGrid.destroy();\n            this.slickGrid = null;\n        }\n\n        if (this.view) {\n            this.view.onDataChanged.clear();\n            this.view.onSubmit = null;\n            this.view.setFilter(null);\n            this.view = null;\n        }\n\n        this.titleDiv = null;\n        super.destroy();\n    }\n\n    protected getItemCssClass(item: TItem, index: number): string {\n        var activeFieldName = this.getIsActiveProperty();\n        var deletedFieldName = this.getIsDeletedProperty();\n        if (isEmptyOrNull(activeFieldName) && isEmptyOrNull(deletedFieldName)) {\n            return null;\n        }\n\n        if (activeFieldName) {\n            var value = (item as any)[activeFieldName];\n            if (value == null) {\n                return null;\n            }\n\n            if (typeof (value) === 'number') {\n                if (value < 0) {\n                    return 'deleted';\n                }\n                else if (value === 0) {\n                    return 'inactive';\n                }\n            }\n            else if (typeof (value) === 'boolean') {\n                if (value === false) {\n                    return 'deleted';\n                }\n            }\n        }\n        else {\n            return (item as any)[deletedFieldName] ? 'deleted' : null;\n        }\n\n        return null;\n    }\n\n    protected getItemMetadata(item: TItem, index: number): any {\n        var itemClass = this.getItemCssClass(item, index);\n        if (isEmptyOrNull(itemClass)) {\n            return new Object();\n        }\n        return { cssClasses: itemClass };\n    }\n\n    protected postProcessColumns(columns: Column[]): Column[] {\n        SlickHelper.setDefaults(columns, this.getLocalTextDbPrefix());\n\n        var delta = this.getColumnWidthDelta();\n        var scale = this.getColumnWidthScale();\n        if (scale < 0)\n            scale = 1;\n        if (delta !== 0 || scale !== 1) {\n            for (var col of columns) {\n                if (typeof col.width === \"number\")\n                    col.width = Math.round(col.width * scale + delta);\n                if (typeof col.minWidth === \"number\")\n                    col.minWidth = Math.round(col.minWidth * scale + delta);\n                if (typeof col.maxWidth === \"number\")\n                    col.maxWidth = Math.round(col.maxWidth * scale + delta);\n            }\n        }\n\n        return columns;\n    }\n\n    protected getColumnWidthDelta() {\n        return DataGrid.defaultColumnWidthDelta ?? 0;\n    }\n\n    protected getColumnWidthScale() {\n        return DataGrid.defaultColumnWidthScale ?? 1;\n    }\n\n    protected initialPopulate(): void {\n        var self = this;\n        if (this.populateWhenVisible()) {\n            LazyLoadHelper.executeEverytimeWhenShown(this.element, function () {\n                self.refreshIfNeeded();\n            }, false);\n            if (this.element.is(':visible') && this.view) {\n                this.view.populate();\n            }\n        }\n        else if (this.view) {\n            this.view.populate();\n        }\n    }\n\n    protected canFilterColumn(column: Column): boolean {\n        return (column.sourceItem != null && \n            column.sourceItem.notFilterable !== true &&\n            (column.sourceItem.readPermission == null ||\n                Authorization.hasPermission(column.sourceItem.readPermission)));\n    }\n\n    protected initializeFilterBar() {\n\n        this.filterBar.set_store(new FilterStore(\n            this.allColumns\n                .filter(c => this.canFilterColumn(c))\n                .map(x => x.sourceItem)));\n\n        this.filterBar.get_store().add_changed((s: JQueryEventObject, e: any) => {\n            if (this.restoringSettings <= 0) {\n                this.persistSettings(null);\n                this.view && (this.view.seekToPage = 1);\n                this.refresh();\n            }\n        });\n    }\n\n    protected createSlickGrid(): Grid {\n\n        var visibleColumns = this.postProcessColumns(this.allColumns).filter(function (x) {\n            return x.visible !== false;\n        });\n\n        var slickOptions = this.getSlickOptions();\n        var grid = new Grid(this.slickContainer, this.view as any, visibleColumns, slickOptions) as Grid;\n        grid.registerPlugin(new AutoTooltips({\n            enableForHeaderCells: true\n        }));\n\n        this.slickGrid = grid;\n        \n        this.setInitialSortOrder();\n\n        return grid;\n    }\n\n    protected setInitialSortOrder(): void {\n        var sortBy = this.getDefaultSortBy();\n\n        if (this.view) {\n            this.view.sortBy = Array.prototype.slice.call(sortBy);\n        }\n\n        var mapped = sortBy.map(function (s): ColumnSort {\n            var x: ColumnSort;\n            if (s && endsWith(s.toLowerCase(), ' desc')) {\n                return {\n                    columnId: trimEnd(s.substr(0, s.length - 5)),\n                    sortAsc: false\n                }\n            }\n            else return {\n                columnId: s,\n                sortAsc: true\n            }\n            return x;\n        });\n\n        this.slickGrid.setSortColumns(mapped);\n    }\n\n    itemAt(row: number): TItem {\n        return this.slickGrid.getDataItem(row);\n    }\n\n    rowCount() {\n        return this.slickGrid.getDataLength();\n    }\n\n    getItems(): TItem[] {\n        return this.view.getItems();\n    }\n\n    setItems(value: TItem[]) {\n        this.view.setItems(value, true);\n    }\n\n    protected bindToSlickEvents() {\n        var self = this;\n        this._slickGridOnSort = (e: JQuery, p: any) => {\n            self.view.populateLock();\n            try {\n                var sortBy = [];\n                var col: any;\n                if (!!p.multiColumnSort) {\n                    for (var i = 0; !!(i < p.sortCols.length); i++) {\n                        var x = p.sortCols[i];\n                        col = x.sortCol;\n                        if (col == null) {\n                            col = {};\n                        }\n                        sortBy.push(col.field + (!!x.sortAsc ? '' : ' DESC'));\n                    }\n                }\n                else {\n                    var col = p.sortCol;\n                    if (col == null) {\n                        col = {};\n                    }\n                    sortBy.push(col.field + (!!p.sortAsc ? '' : ' DESC'));\n                }\n\n                self.view.seekToPage = 1;\n                self.view.sortBy = sortBy;\n            }\n            finally {\n                self.view.populateUnlock();\n            }\n\n            if (self.view.getLocalSort && self.view.getLocalSort()) {\n                self.view.sort();\n            }\n            else {\n                self.view.populate();\n            }\n            this.persistSettings(null);\n        };\n\n        this.slickGrid.onSort.subscribe(this._slickGridOnSort);\n\n        this._slickGridOnClick = (e1: JQueryEventObject, p1: any) => {\n            self.onClick(e1, p1.row, p1.cell);\n        }\n\n        this.slickGrid.onClick.subscribe(this._slickGridOnClick);\n\n        this.slickGrid.onColumnsReordered.subscribe((e2: JQueryEventObject, p2: any) => {\n            return this.persistSettings(null);\n        });\n\n        this.slickGrid.onColumnsResized.subscribe((e3: JQueryEventObject, p3: any) => {\n            return this.persistSettings(null);\n        });\n    }\n\n    protected getAddButtonCaption(): string {\n        return tryGetText('Controls.DataGrid.NewButton') ?? 'New';\n    }\n\n    protected getButtons(): ToolButton[] {\n        return [];\n    }\n\n    protected editItem(entityOrId: any): void {\n        throw new Error(\"Not Implemented!\");\n    }\n\n    protected editItemOfType(itemType: string, entityOrId: any): void {\n        if (itemType === this.getItemType()) {\n            this.editItem(entityOrId);\n            return;\n        }\n\n        throw new Error(\"Not Implemented!\");\n    }\n\n    protected onClick(e: JQueryEventObject, row: number, cell: number): void {\n        if (e.isDefaultPrevented()) {\n            return;\n        }\n\n        var target = $(e.target);\n        if (!target.hasClass('s-EditLink')) {\n            target = target.closest('a');\n        }\n\n        if (target.hasClass('s-EditLink')) {\n            e.preventDefault();\n            this.editItemOfType(SlickFormatting.getItemType(target), SlickFormatting.getItemId(target));\n        }\n    }\n\n    protected viewDataChanged(e: any, rows: TItem[]): void {\n        this.markupReady();\n        this.layout();\n    }\n\n    protected bindToViewEvents(): void {\n        var self = this;\n\n        this.view.onDataChanged.subscribe(function (e, d) {\n            return self.viewDataChanged(e, d);\n        });\n\n        this.view.onSubmit = function (view) {\n            return self.onViewSubmit();\n        };\n\n        this.view.setFilter(function (item, view1) {\n            return self.onViewFilter(item);\n        });\n\n        this.view.onProcessData = function (response, view2) {\n            return self.onViewProcessData(response);\n        }\n    }\n\n    protected onViewProcessData(response: ListResponse<TItem>): ListResponse<TItem> {\n        return response;\n    }\n\n    protected onViewFilter(item: TItem): boolean {\n        return true;\n    }\n\n    protected getIncludeColumns(include: { [key: string]: boolean }): void {\n        var columns = this.slickGrid.getColumns();\n        for (var column of columns) {\n            if (column.field) {\n                include[column.field] = true;\n            }\n\n            if (column.referencedFields) {\n                for (var x of column.referencedFields) {\n                    include[x] = true;\n                }\n            }\n        }\n    }\n\n    protected setCriteriaParameter(): void {\n        delete this.view.params['Criteria'];\n        if (this.filterBar) {\n            var criteria = this.filterBar.get_store().get_activeCriteria();\n            if (!Criteria.isEmpty(criteria)) {\n                this.view.params.Criteria = criteria;\n            }\n        }\n    }\n\n    protected setEquality(field: string, value: any): void {\n        setEquality(this.view.params, field, value);\n    }\n\n    protected setIncludeColumnsParameter(): void {\n        var include = {};\n        this.getIncludeColumns(include);\n        var array = [];\n        for (var key of Object.keys(include)) {\n            array.push(key);\n        }\n        this.view.params.IncludeColumns = array;\n    }\n\n    protected onViewSubmit(): boolean {\n        if (this._isDisabled || !this.getGridCanLoad()) {\n            return false;\n        }\n\n        this.setCriteriaParameter();\n        this.setIncludeColumnsParameter();\n        this.invokeSubmitHandlers();\n\n        return true;\n    }\n\n    protected markupReady(): void {\n    }\n\n    protected createSlickContainer(): JQuery {\n        return $('<div class=\"grid-container\"></div>').appendTo(this.element);\n    }\n\n    protected createView(): RemoteView<TItem> {\n        var opt = this.getViewOptions();\n        return new RemoteView<TItem>(opt) as any;\n    }\n\n    protected getDefaultSortBy(): any[] {\n        if (this.slickGrid) {\n\n            var columns = this.slickGrid.getColumns().filter(function (x) {\n                return x.sortOrder && x.sortOrder !== 0;\n            });\n\n            if (columns.length > 0) {\n                columns.sort(function (x1, y) {\n                    return Math.abs(x1.sortOrder) < Math.abs(y.sortOrder) ? -1 : (Math.abs(x1.sortOrder) > Math.abs(y.sortOrder) ? 1 : 0);\n                });\n\n                var list = [];\n                for (var i = 0; i < columns.length; i++) {\n                    var col = columns[i];\n                    list.push(col.field + ((col.sortOrder < 0) ? ' DESC' : ''));\n                }\n\n                return list;\n            }\n        }\n\n        return [];\n    }\n\n    protected usePager(): boolean {\n        return false;\n    }\n\n    protected enableFiltering(): boolean {\n        var attr = this.attrs(FilterableAttribute);\n        return attr.length > 0 && attr[0].value;\n    }\n\n    protected populateWhenVisible(): boolean {\n        return false;\n    }\n\n    protected createFilterBar(): void {\n        var filterBarDiv = $('<div/>').appendTo(this.element);\n        this.filterBar = new FilterDisplayBar(filterBarDiv);\n        this.initializeFilterBar();\n    }\n\n    protected getPagerOptions(): PagerOptions {\n        return {\n            view: this.view,\n            rowsPerPage: 20,\n            rowsPerPageOptions: [20, 100, 500, 2500]\n        };\n    }\n\n    protected createPager(): void {\n        var pagerDiv = $('<div></div>').appendTo(this.element);\n        new SlickPager(pagerDiv, this.getPagerOptions());\n    }\n\n    protected getViewOptions() {\n        var opt: RemoteViewOptions = {};\n        opt.idField = this.getIdProperty();\n        opt.sortBy = this.getDefaultSortBy();\n\n        if (!this.usePager()) {\n            opt.rowsPerPage = 0;\n        }\n        else if (this.element.hasClass('responsive-height')) {\n            opt.rowsPerPage = (($(window.window).width() < 768) ? 20 : 100);\n        }\n        else {\n            opt.rowsPerPage = 100;\n        }\n\n        opt.getItemMetadata = (item, index) => {\n            return this.getItemMetadata(item, index);\n        };\n\n        return opt;\n    }\n\n    protected createToolbar(buttons: ToolButton[]): void {\n        var toolbarDiv = $('<div class=\"grid-toolbar\"></div>').appendTo(this.element);\n        this.toolbar = new Toolbar(toolbarDiv, { buttons: buttons, hotkeyContext: this.element[0] });\n    }\n\n    getTitle(): string {\n        if (!this.titleDiv) {\n            return null;\n        }\n\n        return this.titleDiv.children('.title-text').text();\n    }\n\n    setTitle(value: string) {\n        if (value !== this.getTitle()) {\n            if (value == null) {\n                if (this.titleDiv) {\n                    this.titleDiv.remove();\n                    this.titleDiv = null;\n                }\n            }\n            else {\n                if (!this.titleDiv) {\n                    this.titleDiv = $('<div class=\"grid-title\"><div class=\"title-text\"></div></div>')\n                        .prependTo(this.element);\n                }\n                this.titleDiv.children('.title-text').text(value);\n            }\n\n            this.layout();\n        }\n    }\n\n    protected getItemType(): string {\n        return 'Item';\n    }\n\n    protected itemLink(itemType?: string, idField?: string, text?: (ctx: FormatterContext) => string,\n        cssClass?: (ctx: FormatterContext) => string, encode: boolean = true): Format<TItem> {\n\n        if (itemType == null) {\n            itemType = this.getItemType();\n        }\n\n        if (idField == null) {\n            idField = this.getIdProperty();\n        }\n\n        return SlickFormatting.itemLink(itemType, idField, text, cssClass, encode);\n    }\n\n    protected getColumnsKey(): string {\n        var attr = this.attrs(ColumnsKeyAttribute);\n        if (attr && attr.length > 0) {\n            return attr[0].value;\n        }\n\n        return null;\n    }\n\n    protected getPropertyItems() {\n        return this.propertyItemsData?.items || [];\n    }\n\n    protected getPropertyItemsData(): PropertyItemsData {\n        var columnsKey = this.getColumnsKey();\n\n        if (this.getColumnsKey === DataGrid.prototype.getColumnsKey &&\n            this.getPropertyItems !== DataGrid.prototype.getPropertyItems &&\n            !ScriptData.canLoad('Columns.' + columnsKey)) {\n            return {\n                items: this.getPropertyItems(),\n                additionalItems: []\n            }\n        }\n\n\n        if (!isEmptyOrNull(columnsKey)) {\n            return getColumnsData(columnsKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }\n\n    protected async getPropertyItemsDataAsync(): Promise<PropertyItemsData> {\n        var columnsKey = this.getColumnsKey();\n        if (!isEmptyOrNull(columnsKey)) {\n            return await getColumnsDataAsync(columnsKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }\n\n    protected getColumns(): Column<TItem>[] {\n        return this.propertyItemsToSlickColumns(this.getPropertyItems());\n    }\n\n    protected propertyItemsToSlickColumns(propertyItems: PropertyItem[]): Column[] {\n        var columns = PropertyItemSlickConverter.toSlickColumns(propertyItems);\n        for (var i = 0; i < propertyItems.length; i++) {\n            var item = propertyItems[i];\n            var column = columns[i];\n            if (item.editLink === true) {\n                var oldFormat = { $: column.format };\n                var css = { $: (item.editLinkCssClass) != null ? item.editLinkCssClass : null };\n                column.format = this.itemLink(\n                    item.editLinkItemType != null ? item.editLinkItemType : null,\n                    item.editLinkIdField != null ? item.editLinkIdField : null,\n                    function(ctx: FormatterContext) {\n                        if (this.oldFormat.$ != null) {\n                            return this.oldFormat.$(ctx);\n                        }\n                        return htmlEncode(ctx.value);\n                    }.bind({ oldFormat: oldFormat }),\n                    function(ctx1: FormatterContext) {\n                        return (this.css.$ ?? '');\n                    }.bind({ css: css }), false);\n\n                if (!isEmptyOrNull(item.editLinkIdField)) {\n                    column.referencedFields = column.referencedFields || [];\n                    column.referencedFields.push(item.editLinkIdField);\n                }\n            }\n        }\n        return columns;\n    }\n\n    protected getSlickOptions(): GridOptions {\n        var opt: GridOptions = {};\n        opt.multiSelect = false;\n        opt.multiColumnSort = true;\n        opt.enableCellNavigation = false;\n        if (DataGrid.defaultHeaderHeight)\n            opt.headerRowHeight = DataGrid.defaultHeaderHeight;\n        if (DataGrid.defaultRowHeight)\n            opt.rowHeight = DataGrid.defaultRowHeight;\n        return opt;\n    }\n\n    protected populateLock(): void {\n        this.view.populateLock();\n    }\n\n    protected populateUnlock(): void {\n        this.view.populateUnlock();\n    }\n\n    protected getGridCanLoad(): boolean {\n        return true;\n    }\n\n    public refresh() {\n        if (!this.populateWhenVisible()) {\n            this.internalRefresh();\n            return;\n        }\n        if (this.slickContainer.is(':visible')) {\n            this.slickContainer.data('needsRefresh', false);\n            this.internalRefresh();\n            return;\n        }\n        this.slickContainer.data('needsRefresh', true);\n    }\n\n    protected refreshIfNeeded(): void {\n        if (!!this.slickContainer.data('needsRefresh')) {\n            this.slickContainer.data('needsRefresh', false);\n            this.internalRefresh();\n        }\n    }\n\n    protected internalRefresh(): void {\n        this.view.populate();\n    }\n\n    public setIsDisabled(value: boolean): void {\n        if (this._isDisabled !== value) {\n            this._isDisabled = value;\n            if (this._isDisabled) {\n                this.view.setItems([], true);\n            }\n\n            this.updateDisabledState();\n        }\n    }\n\n    private _readonly: boolean;\n\n    public get readOnly(): boolean {\n        return this.get_readOnly();\n    }\n\n    public set readOnly(value: boolean) {\n        this.set_readOnly(value);\n    }\n\n    public get_readOnly() {\n        return !!this._readonly;\n    }\n\n    public set_readOnly(value: boolean) {\n        if (!!this._readonly != !!value) {\n            this._readonly = !!value;\n            this.updateInterface();\n        }\n    }\n\n    public updateInterface() {\n        this.toolbar && this.toolbar.updateInterface();\n    }\n\n    protected getRowDefinition(): IRowDefinition {\n        return null;\n    }\n\n    private _localTextDbPrefix: string;\n\n    protected getLocalTextDbPrefix(): string {\n\n        if (this._localTextDbPrefix != null)\n            return this._localTextDbPrefix;\n\n        this._localTextDbPrefix = this.getLocalTextPrefix() ?? '';\n        if (this._localTextDbPrefix.length > 0 && !endsWith(this._localTextDbPrefix, '.'))\n            this._localTextDbPrefix = 'Db.' + this._localTextDbPrefix + '.';\n\n        return this._localTextDbPrefix;\n    }\n\n    protected getLocalTextPrefix(): string {\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return rowDefinition.localTextPrefix;\n\n        var attr = this.attrs(LocalTextPrefixAttribute);\n\n        if (attr.length >= 1)\n            return attr[0].value;\n    }\n   \n    private _idProperty: string;\n\n    protected getIdProperty(): string {\n        if (this._idProperty != null)\n            return this._idProperty;\n\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return this._idProperty = rowDefinition.idProperty ?? '';\n\n        var attr = this.attrs(IdPropertyAttribute);\n        if (attr.length === 1)\n            return this._idProperty = attr[0].value ?? '';\n\n        return this._idProperty = 'ID';\n    }\n\n    protected getIsDeletedProperty(): string {\n        return this.getRowDefinition()?.isDeletedProperty;\n    }\n\n    private _isActiveProperty: string;\n\n    protected getIsActiveProperty(): string {\n        if (this._isActiveProperty != null)\n            return this._isActiveProperty;\n\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return this._isActiveProperty = rowDefinition.isActiveProperty ?? '';\n\n        var attr = this.attrs(IsActivePropertyAttribute);\n        if (attr.length === 1)\n            return this._isActiveProperty = attr[0].value ?? '';\n\n        return this._isActiveProperty = '';\n    }\n\n    protected updateDisabledState(): void {\n        this.slickContainer.toggleClass('ui-state-disabled', !!this._isDisabled);\n    }\n\n    protected resizeCanvas(): void {\n        this.slickGrid?.resizeCanvas();\n    }\n\n    protected subDialogDataChange(): void {\n        this.refresh();\n    }\n\n    protected addFilterSeparator(): void {\n        this.ensureQuickFilterBar().addSeparator();\n    }\n\n    protected determineText(getKey: (prefix: string) => string) {\n        var localTextPrefix = this.getLocalTextDbPrefix();\n        if (!isEmptyOrNull(localTextPrefix)) {\n            var local = tryGetText(getKey(localTextPrefix));\n            if (local != null) {\n                return local;\n            }\n        }\n\n        return null;\n    }\n\n    protected addQuickFilter<TWidget extends Widget<any>, TOptions>(opt: QuickFilter<TWidget, TOptions>): TWidget {\n        return this.ensureQuickFilterBar().add(opt);\n    }\n\n    protected addDateRangeFilter(field: string, title?: string): DateEditor {\n        return this.ensureQuickFilterBar().addDateRange(field, title);\n    }\n\n    protected dateRangeQuickFilter(field: string, title?: string) {\n        return QuickFilterBar.dateRange(field, title);\n    }\n\n    protected addDateTimeRangeFilter(field: string, title?: string) {\n        return this.ensureQuickFilterBar().addDateTimeRange(field, title);\n    }\n\n    protected dateTimeRangeQuickFilter(field: string, title?: string) {\n        return QuickFilterBar.dateTimeRange(field, title);\n    }\n\n    protected addBooleanFilter(field: string, title?: string, yes?: string, no?: string): SelectEditor {\n        return this.ensureQuickFilterBar().addBoolean(field, title, yes, no);\n    }\n\n    protected booleanQuickFilter(field: string, title?: string, yes?: string, no?: string) {\n        return QuickFilterBar.boolean(field, title, yes, no);\n    }\n\n    protected invokeSubmitHandlers() {\n        if (this.quickFiltersBar != null) {\n            this.quickFiltersBar.onSubmit(this.view.params);\n        }\n    }\n\n    protected quickFilterChange(e: JQueryEventObject) {\n        this.persistSettings(null);\n        this.view && (this.view.seekToPage = 1);\n        this.refresh();\n    }\n\n    protected getPersistanceStorage(): SettingStorage {\n        return DataGrid.defaultPersistanceStorage;\n    }\n\n    protected getPersistanceKey(): string {\n        var key = 'GridSettings:';\n        var path = window.location.pathname;\n        if (!isEmptyOrNull(path)) {\n            key += path.substr(1).split(String.fromCharCode(47)).slice(0, 2).join('/') + ':';\n        }\n\n        key += getTypeFullName(getInstanceType(this));\n        return key;\n    }\n\n    protected gridPersistanceFlags(): GridPersistanceFlags {\n        return {};\n    }\n\n    protected canShowColumn(column: Column) {\n        if (column == null) {\n            return false;\n        }\n\n        var item = column.sourceItem;\n        if (item == null) {\n            return true;\n        }\n\n        if (item.filterOnly === true) {\n            return false;\n        }\n\n        if (item.readPermission == null) {\n            return true;\n        }\n\n        return Authorization.hasPermission(item.readPermission);\n    }\n\n    protected getPersistedSettings(): PersistedGridSettings | Promise<PersistedGridSettings> {\n        var storage = this.getPersistanceStorage();\n        if (storage == null)\n            return null;\n\n        function fromJson(json: string) {\n            json = trimToNull(json as string);\n            if (json != null && startsWith(json, '{') && endsWith(json, '}'))\n                return JSON.parse(json);\n            return null;\n        }\n\n        var jsonOrPromise = storage.getItem(this.getPersistanceKey());\n        if ((jsonOrPromise as any)?.then)\n            return (jsonOrPromise as Promise<string>).then(json => fromJson(json));\n\n        return fromJson(jsonOrPromise as string);\n    }\n\n    protected restoreSettings(settings?: PersistedGridSettings, flags?: GridPersistanceFlags): void | Promise<void> {\n        if (settings != null)\n            return this.restoreSettingsFrom(settings, flags);\n\n        var settingsOrPromise = this.getPersistedSettings();\n        if ((settingsOrPromise as any)?.then)\n            return (settingsOrPromise as Promise<PersistedGridSettings>).then((s) => this.restoreSettingsFrom(s));\n\n        this.restoreSettingsFrom(settingsOrPromise as PersistedGridSettings);\n    }\n\n    protected restoreSettingsFrom(settings: PersistedGridSettings, flags?: GridPersistanceFlags): void {\n        if (!this.slickGrid || !settings)\n            return;\n\n        var columns = this.slickGrid.getColumns();\n        var colById: { [key: string]: Column } = null;\n        var updateColById = function(cl: Column[]) {\n            colById = {};\n            for (var $t1 = 0; $t1 < cl.length; $t1++) {\n                var c = cl[$t1];\n                colById[c.id] = c;\n            }\n        };\n\n        this.view.beginUpdate();\n        this.restoringSettings++;\n        try {\n            flags = flags || this.gridPersistanceFlags();\n            if (settings.columns != null) {\n                if (flags.columnVisibility !== false) {\n                    var visible = {};\n                    updateColById(this.allColumns);\n                    var newColumns = [];\n                    for (var $t2 = 0; $t2 < settings.columns.length; $t2++) {\n                        var x = settings.columns[$t2];\n                        if (x.id != null && x.visible === true) {\n                            var column = colById[x.id];\n                            if (this.canShowColumn(column)) {\n                                column.visible = true;\n                                newColumns.push(column);\n                                delete colById[x.id];\n                            }\n                        }\n                    }\n                    for (var $t3 = 0; $t3 < this.allColumns.length; $t3++) {\n                        var c1 = this.allColumns[$t3];\n                        if (colById[c1.id] != null) {\n                            c1.visible = false;\n                            newColumns.push(c1);\n                        }\n                    }\n                    this.allColumns = newColumns;\n                    columns = this.allColumns.filter(function (x1) {\n                        return x1.visible === true;\n                    });\n                }\n                if (flags.columnWidths !== false) {\n                    updateColById(columns);\n                    for (var $t4 = 0; $t4 < settings.columns.length; $t4++) {\n                        var x2 = settings.columns[$t4];\n                        if (x2.id != null && x2.width != null && x2.width !== 0) {\n                            var column1 = colById[x2.id];\n                            if (column1 != null) {\n                                column1.width = x2.width;\n                            }\n                        }\n                    }\n                }\n\n                if (flags.sortColumns !== false) {\n                    updateColById(columns);\n                    var list = [];\n                    var sortColumns = settings.columns.filter(function (x3) {\n                        return x3.id != null && (x3.sort ?? 0) !== 0;\n                    });\n\n                    sortColumns.sort(function (a, b) {\n                        // sort holds two informations:\n                        // absoulte value: order of sorting\n                        // sign: positive = ascending, negativ = descending\n                        // so we have to compare absolute values here\n                        return Math.abs(a.sort) - Math.abs(b.sort);\n                    });\n\n                    for (var $t5 = 0; $t5 < sortColumns.length; $t5++) {\n                        var x4 = sortColumns[$t5];\n                        var column2 = colById[x4.id];\n                        if (column2 != null) {\n                            list.push({\n                                columnId: x4.id,\n                                sortAsc: x4.sort > 0\n                            });\n                        }\n                    }\n                    this.view.sortBy = list.map(function (x5) {\n                        return x5.columnId + ((x5.sortAsc === false) ? ' DESC' : '');\n                    });\n                    this.slickGrid.setSortColumns(list);\n                }\n                this.slickGrid.setColumns(columns);\n                this.slickGrid.invalidate();\n            }\n\n            if (settings.filterItems != null &&\n                flags.filterItems !== false &&\n                this.filterBar != null &&\n                this.filterBar.get_store() != null) {\n                var items = this.filterBar.get_store().get_items();\n                items.length = 0;\n                items.push.apply(items, settings.filterItems);\n                this.filterBar.get_store().raiseChanged();\n            }\n\n            if (settings.includeDeleted != null &&\n                flags.includeDeleted !== false) {\n                var includeDeletedToggle = this.element.find('.s-IncludeDeletedToggle');\n                if (!!settings.includeDeleted !== includeDeletedToggle.hasClass('pressed')) {\n                    includeDeletedToggle.children('a').click();\n                }\n            }\n\n            if (settings.quickFilters != null &&\n                flags.quickFilters !== false &&\n                this.quickFiltersDiv != null &&\n                this.quickFiltersDiv.length > 0) {\n                this.quickFiltersDiv.find('.quick-filter-item').each((i, e) => {\n                    var field = $(e).data('qffield');\n\n                    if (isEmptyOrNull(field)) {\n                        return;\n                    }\n\n                    var widget = $('#' + this.uniqueName + '_QuickFilter_' + field).tryGetWidget(Widget);\n                    if (widget == null) {\n                        return;\n                    }\n\n                    var state = settings.quickFilters[field];\n                    var loadState = $(e).data('qfloadstate');\n                    if (loadState != null) {\n                        loadState(widget, state);\n                    }\n                    else {\n                        EditorUtils.setValue(widget, state);\n                    }\n                });\n            }\n\n            if (flags.quickSearch === true && (settings.quickSearchField !== undefined || settings.quickSearchText !== undefined)) {\n                var qsInput = this.toolbar.element.find('.s-QuickSearchInput').first();\n                if (qsInput.length > 0) {\n                    var qsWidget = qsInput.tryGetWidget(QuickSearchInput);\n                    qsWidget && qsWidget.restoreState(settings.quickSearchText, settings.quickSearchField);\n                }\n            }\n        }\n        finally {\n            this.restoringSettings--;\n            this.view.endUpdate();\n        }\n    }\n\n    protected persistSettings(flags?: GridPersistanceFlags): void | Promise<void> {\n        var storage = this.getPersistanceStorage();\n        if (!storage) {\n            return;\n        }\n\n        var settings = this.getCurrentSettings(flags);\n        return storage.setItem(this.getPersistanceKey(), JSON.stringify(settings));\n    }\n\n    protected getCurrentSettings(flags?: GridPersistanceFlags) {\n        flags = flags || this.gridPersistanceFlags();\n        var settings: PersistedGridSettings = {};\n        if (flags.columnVisibility !== false || flags.columnWidths !== false || flags.sortColumns !== false) {\n            settings.columns = [];\n            var sortColumns = this.slickGrid.getSortColumns() as any[];\n            var columns = this.slickGrid.getColumns();\n            for (var column of columns) {\n                var p: PersistedGridColumn = {\n                    id: column.id\n                };\n\n                if (flags.columnVisibility !== false) {\n                    p.visible = true;\n                }\n                if (flags.columnWidths !== false) {\n                    p.width = column.width;\n                }\n\n                if (flags.sortColumns !== false) {\n                    var sort = indexOf(sortColumns, x => x.columnId == column.id);\n                    p.sort = ((sort >= 0) ? ((sortColumns[sort].sortAsc !== false) ? (sort + 1) : (-sort - 1)) : 0);\n                }\n                settings.columns.push(p);\n            }\n        }\n\n        if (flags.includeDeleted !== false) {\n            settings.includeDeleted = this.element.find('.s-IncludeDeletedToggle').hasClass('pressed');\n        }\n\n        if (flags.filterItems !== false && (this.filterBar != null) && (this.filterBar.get_store() != null)) {\n            settings.filterItems = this.filterBar.get_store().get_items().slice();\n        }\n\n        if (flags.quickSearch === true) {\n            var qsInput = this.toolbar.element.find('.s-QuickSearchInput').first();\n            if (qsInput.length > 0) {\n                var qsWidget = qsInput.tryGetWidget(QuickSearchInput);\n                if (qsWidget != null) {\n                    settings.quickSearchField = qsWidget.get_field();\n                    settings.quickSearchText = qsWidget.element.val();\n                }\n            }\n        }\n\n        if (flags.quickFilters !== false && (this.quickFiltersDiv != null) && this.quickFiltersDiv.length > 0) {\n            settings.quickFilters = {};\n            this.quickFiltersDiv.find('.quick-filter-item').each((i, e) => {\n                var field = $(e).data('qffield');\n                if (isEmptyOrNull(field)) {\n                    return;\n                }\n\n                var widget = $('#' + this.uniqueName + '_QuickFilter_' + field).tryGetWidget(Widget);\n                if (widget == null) {\n                    return;\n                }\n\n                var saveState = $(e).data('qfsavestate');\n                var state = (saveState != null) ? saveState(widget) : EditorUtils.getValue(widget);\n                settings.quickFilters[field] = state;\n                if (flags.quickFilterText === true && $(e).hasClass('quick-filter-active')) {\n\n                    var getDisplayText = $(e).data('qfdisplaytext');\n                    var filterLabel = $(e).find('.quick-filter-label').text();\n\n                    var displayText;\n                    if (getDisplayText != null) {\n                        displayText = getDisplayText(widget, filterLabel);\n                    }\n                    else {\n                        displayText = filterLabel + ' = ' + EditorUtils.getDisplayText(widget);\n                    }\n\n                    if (!isEmptyOrNull(displayText)) {\n                        if (!isEmptyOrNull(settings.quickFilterText)) {\n                            settings.quickFilterText += ' ' + (tryGetText('Controls.FilterPanel.And') ?? 'and') + ' ';\n                            settings.quickFilterText += displayText;\n                        }\n                        else {\n                            settings.quickFilterText = displayText;\n                        }\n                    }\n                }\n            });\n        }\n        return settings;\n    }\n\n    getElement(): JQuery {\n        return this.element;\n    }\n\n    getGrid(): Grid {\n        return this.slickGrid;\n    }\n\n    getView(): RemoteView<TItem> {\n        return this.view;\n    }\n\n    getFilterStore(): FilterStore {\n        return (this.filterBar == null) ? null : this.filterBar.get_store();\n    }\n}\n","import { Column } from \"@serenity-is/sleekgrid\";\nimport { Decorators } from \"../../decorators\";\nimport { Authorization, centerDialog, Culture, htmlEncode, Router, localText, trimToNull } from \"../../q\";\nimport { QuickSearchInput } from \"../datagrid/quicksearchinput\";\nimport { TemplatedDialog } from \"../dialogs/templateddialog\";\nimport { ToolButton } from \"../widgets/toolbar\";\nimport { IDataGrid } from \"./idatagrid\";\n\n@Decorators.registerClass('Serenity.ColumnPickerDialog')\n@Decorators.resizable()\n@Decorators.responsive()\nexport class ColumnPickerDialog extends TemplatedDialog<any> {\n\n    private ulVisible: JQuery;\n    private ulHidden: JQuery;\n    private colById: { [key: string]: Column };\n\n    public allColumns: Column[];\n    public visibleColumns: string[];\n    public defaultColumns: string[];\n    public done: () => void;\n\n    constructor() {\n        super();\n\n        new QuickSearchInput(this.byId(\"Search\"), {\n            onSearch: (fld, txt, done) => {\n                txt = trimToNull(txt);\n                if (txt != null)\n                    txt = Select2.util.stripDiacritics(txt.toLowerCase());\n\n                this.element.find('li').each((x, e) => {\n                    $(e).toggle(!txt || Select2.util.stripDiacritics(\n                        $(e).text().toLowerCase()).indexOf(txt) >= 0);\n                });\n                done && done(true);\n            }\n        });\n\n        this.ulVisible = this.byId(\"VisibleCols\");\n        this.ulHidden = this.byId(\"HiddenCols\");\n        this.dialogTitle = localText(\"Controls.ColumnPickerDialog.Title\");\n    }\n\n    public static createToolButton(grid: IDataGrid): ToolButton {\n        function onClick() {\n            var picker = new ColumnPickerDialog();\n            picker.allColumns = (grid as any).allColumns;\n            if ((grid as any).initialSettings) {\n                var initialSettings = (grid as any).initialSettings;\n                if (initialSettings.columns && initialSettings.columns.length)\n                    picker.defaultColumns = initialSettings.columns.map((x: any) => x.id);\n            }\n            picker.visibleColumns = grid.getGrid().getColumns().map(x => x.id);\n            picker.done = () => {\n                (grid as any).allColumns = picker.allColumns;\n                var visible = picker.allColumns.filter(x => x.visible === true);\n                grid.getGrid().setColumns(visible);\n                Promise.resolve((grid as any).persistSettings()).then(() => grid.getView().populate());\n            };\n\n            Router && Router.dialog && Router.dialog((grid as any).element, picker.element, () => \"columns\");\n            picker.dialogOpen();\n        }\n\n        (grid as any).element.on('handleroute.' + (grid as any).uniqueName, (e: any, arg: any) => {\n            if (arg && !arg.handled && arg.route == \"columns\") {\n                onClick();\n            }\n        });\n\n        return {\n            hint: localText(\"Controls.ColumnPickerDialog.Title\"),\n            action: 'column-picker',\n            cssClass: \"column-picker-button\",\n            icon: 'fa-th-list text-blue',\n            onClick: onClick\n        }\n    }\n\n    protected getDialogButtons() {\n        return [\n            {\n                text: localText(\"Controls.ColumnPickerDialog.RestoreDefaults\"),\n                click: () => {\n                    let liByKey: { [key: string]: JQuery } = {};\n                    this.ulVisible.children().add(this.ulHidden.children()).each((x, e) => {\n                        let el = $(e);\n                        liByKey[el.data('key')] = el;\n                    });\n\n                    let last: JQuery = null;\n                    for (let id of this.defaultColumns) {\n                        let li = liByKey[id];\n                        if (!li)\n                            continue;\n\n                        if (last == null)\n                            li.prependTo(this.ulVisible);\n                        else\n                            li.insertAfter(last);\n\n                        last = li;\n                        let key: string = li.data('key');\n                        delete liByKey[key];\n                    }\n\n                    for (let key in liByKey)\n                        liByKey[key].appendTo(this.ulHidden);\n\n                    this.updateListStates();\n                }\n            },\n            {\n                text: localText(\"Dialogs.OkButton\"),\n                click: () => {\n                    let newColumns: Column[] = [];\n\n                    for (var col of this.allColumns)\n                        col.visible = false;\n\n                    this.visibleColumns = this.ulVisible.children().toArray().map(x => {\n                        let id = $(x).data(\"key\");\n                        var col = this.colById[id];\n                        col.visible = true;\n                        newColumns.push(col);\n                        return id;\n                    });\n\n                    for (var col of this.allColumns) {\n                        if (!col.visible)\n                            newColumns.push(col);\n                    }\n\n                    this.allColumns = newColumns;\n                    this.done && this.done();\n                    this.dialogClose()\n                }\n            },\n            {\n                text: localText(\"Dialogs.CancelButton\"),\n                click: () => {\n                    this.dialogClose()\n                }\n            }\n        ];\n    }\n\n    protected getDialogOptions() {\n        var opt = super.getDialogOptions();\n        opt.width = 600;\n        return opt;\n    }\n\n    private getTitle(col: Column) {\n        if (col.id == \"__select__\")\n            return \"[x]\";\n\n        return col.name || col.toolTip || col.id;\n    }\n\n    private allowHide(col: Column): boolean {\n        return col.sourceItem == null || col.sourceItem.allowHide == null || col.sourceItem.allowHide;\n    }\n\n    private createLI(col: Column): JQuery {\n        var allowHide = this.allowHide(col);\n        return $(`\n<li data-key=\"${col.id}\" class=\"${allowHide ? \"\" : \"cant-hide\"}\">\n<span class=\"drag-handle\"></span>\n${ htmlEncode(this.getTitle(col)) }\n${ allowHide ? `<i class=\"js-hide fa fa-eye-slash\" title=\"${htmlEncode(localText(\"Controls.ColumnPickerDialog.HideHint\"))}\"></i>` : '' }\n<i class=\"js-show fa fa-eye\" title=\"${ htmlEncode(localText(\"Controls.ColumnPickerDialog.ShowHint\")) }\"></i>\n</li>`);\n    }\n\n    private updateListStates() {\n        this.ulVisible.children().removeClass(\"bg-info\").addClass(\"bg-success\");\n        this.ulHidden.children().removeClass(\"bg-success\").addClass(\"bg-info\");\n    }\n\n    protected setupColumns(): void {\n        this.allColumns = this.allColumns || [];\n        this.visibleColumns = this.visibleColumns || [];\n\n        let visible: { [key: string]: boolean } = {};\n        for (let id of this.visibleColumns) {\n            visible[id] = true;\n        }\n\n        this.colById = {};\n        for (let c of this.allColumns) {\n            this.colById[c.id] = c;\n        }\n\n        if (this.defaultColumns == null)\n            this.defaultColumns = this.visibleColumns.slice(0);\n\n        let hidden: Column[] = [];\n\n        for (let c of this.allColumns) {\n            if (!visible[c.id] && (!c.sourceItem ||\n                (c.sourceItem.filterOnly !== true &&\n                    (c.sourceItem.readPermission == null || Authorization.hasPermission(c.sourceItem.readPermission))))) {\n                hidden.push(c);\n            }\n        }\n\n        let hiddenColumns = hidden.sort((a, b) => Culture.stringCompare(this.getTitle(a), this.getTitle(b)));\n\n        for (let id of this.visibleColumns) {\n            var c = this.colById[id];\n            if (!c)\n                continue;\n\n            this.createLI(c).appendTo(this.ulVisible);\n        }\n\n        for (let c of hiddenColumns) {\n            this.createLI(c).appendTo(this.ulHidden);\n        }\n\n        this.updateListStates();\n\n        // @ts-ignore\n        if (typeof Sortable !== \"undefined\" && Sortable.create) {\n\n            // @ts-ignore\n            Sortable.create(this.ulVisible[0], {\n                group: this.uniqueName + \"_group\",\n                filter: '.js-hide',\n                onFilter: (evt: any) => {\n                    $(evt.item).appendTo(this.ulHidden);\n                    this.updateListStates();\n                },\n                onMove: (x: any) => {\n                    if ($(x.dragged).hasClass('cant-hide') &&\n                        x.from == this.ulVisible[0] &&\n                        x.to !== x.from)\n                        return false;\n                    return true;\n                },\n                onEnd: (evt: any) => this.updateListStates()\n            });\n\n            // @ts-ignore\n            Sortable.create(this.ulHidden[0], {\n                group: this.uniqueName + \"_group\",\n                sort: false,\n                filter: '.js-show',\n                onFilter: (evt: any) => {\n                    $(evt.item).appendTo(this.ulVisible);\n                    this.updateListStates();\n                },\n                onEnd: () => this.updateListStates()\n            });\n        }\n    }\n\n    protected onDialogOpen(): void {\n        super.onDialogOpen();\n        this.element.find(\"input\").removeAttr(\"disabled\")\n        this.element.closest('.ui-dialog').children(\".ui-dialog-buttonpane\")\n            .find('button').eq(0).addClass(\"restore-defaults\")\n            .next().focus();\n\n        this.setupColumns();\n        centerDialog(this.element);\n    }\n\n    protected getTemplate() {\n        return `\n<div class=\"search\"><input id=\"~_Search\" type=\"text\" disabled /></div>\n<div class=\"columns-container\">\n<div class=\"column-list visible-list bg-success\">\n<h5><i class=\"fa fa-eye\"></i> ${htmlEncode(localText(\"Controls.ColumnPickerDialog.VisibleColumns\"))}</h5>\n<ul id=\"~_VisibleCols\"></ul>\n</div>\n<div class=\"column-list hidden-list bg-info\">\n<h5><i class=\"fa fa-eye-slash\"></i> ${htmlEncode(localText(\"Controls.ColumnPickerDialog.HiddenColumns\"))}</h5>\n<ul id=\"~_HiddenCols\"></ul>\n</div>\n</div>`;\n    }\n}\n","import { Column, FormatterContext } from \"@serenity-is/sleekgrid\";\nimport { htmlEncode, ListResponse, toGrouping, tryFirst } from \"../../q\";\nimport { SlickFormatting, SlickHelper, SlickTreeHelper } from \"../helpers/slickhelpers\";\nimport { DataGrid } from \"./datagrid\";\n\n/**\n * A mixin that can be applied to a DataGrid for tree functionality\n */\nexport class TreeGridMixin<TItem> {\n\n    private dataGrid: DataGrid<TItem, any>;\n    private getId: (item: TItem) => any;\n\n    constructor(private options: TreeGridMixinOptions<TItem>) {\n        var dg = this.dataGrid = options.grid;\n        var idProperty = (dg as any).getIdProperty();\n        var getId = this.getId = (item: TItem) => (item as any)[idProperty];\n\n        dg.element.find('.grid-container').on('click', e => {\n            if ($(e.target).hasClass('s-TreeToggle')) {\n                var src = dg.slickGrid.getCellFromEvent(e);\n                if (src.cell >= 0 &&\n                    src.row >= 0) {\n                    SlickTreeHelper.toggleClick<TItem>(e, src.row, src.row, dg.view, getId);\n                }\n            }\n        });\n\n        var oldViewFilter = (dg as any).onViewFilter;\n        (dg as any).onViewFilter = function (item: TItem) {\n            if (!oldViewFilter.apply(this, [item]))\n                return false;\n\n            return SlickTreeHelper.filterById(item, dg.view, options.getParentId);\n        };\n\n        var oldProcessData = (dg as any).onViewProcessData;\n        (dg as any).onViewProcessData = function (response: ListResponse<TItem>) {\n\n            response = oldProcessData.apply(this, [response]);\n            response.Entities = TreeGridMixin.applyTreeOrdering(response.Entities, getId, options.getParentId);\n            SlickTreeHelper.setIndents(response.Entities, getId, options.getParentId,\n                (options.initialCollapse && options.initialCollapse()) || false);\n            return response;\n        };\n\n        if (options.toggleField) {\n            var col = tryFirst(dg['allColumns'] || dg.slickGrid.getColumns() || [], x => x.field == options.toggleField) as Column<TItem>;\n            if (col) {\n                col.format = SlickFormatting.treeToggle(() => dg.view, getId,\n                    col.format || ((ctx: FormatterContext<TItem>) => htmlEncode(ctx.value)));\n            }\n        }\n    }\n\n    /**\n     * Expands / collapses all rows in a grid automatically\n     */\n    toggleAll(): void {\n        SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(),\n            !this.dataGrid.view.getItems().every(x => (x as any)._collapsed == true));\n\n        this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);\n    }\n\n    collapseAll(): void {\n        SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(), true);\n        this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);\n    }\n    \n    expandAll(): void {\n        SlickTreeHelper.setCollapsed(this.dataGrid.view.getItems(), false);\n        this.dataGrid.view.setItems(this.dataGrid.view.getItems(), true);\n    }\n    \n    /**\n     * Reorders a set of items so that parents comes before their children.\n     * This method is required for proper tree ordering, as it is not so easy to perform with SQL.\n     * @param items list of items to be ordered\n     * @param getId a delegate to get ID of a record (must return same ID with grid identity field)\n     * @param getParentId a delegate to get parent ID of a record\n     */\n    static applyTreeOrdering<TItem>(items: TItem[], getId: (item: TItem) => any, getParentId: (item: TItem) => any): TItem[] {\n        var result: TItem[] = [];\n\n        var byId = toGrouping(items, getId);\n        var byParentId = toGrouping(items, getParentId);\n        var visited: Record<string, boolean> = {};\n\n        function takeChildren(theParentId: any) {\n            if (visited[theParentId])\n                return;\n\n            visited[theParentId] = true;\n            for (var child of (byParentId[theParentId] || [])) {\n                result.push(child);\n                takeChildren(getId(child));\n            }\n        }\n\n        for (var item of items)\n        {\n            var parentId = getParentId(item);\n            if (parentId == null ||\n                !((byId[parentId] || []).length)) {\n                result.push(item);\n                takeChildren(getId(item));\n            }\n        }\n\n        return result;\n    }\n}\n\nexport interface TreeGridMixinOptions<TItem> {\n    // data grid object\n    grid: DataGrid<TItem, any>;\n    // a function to get parent id\n    getParentId: (item: TItem) => any;\n    // where should the toggle button be placed\n    toggleField: string;\n    // a delegate that should return initial collapsing state\n    initialCollapse?: () => boolean;\n}\n","import { Column, FormatterContext, Grid, GridOptions } from \"@serenity-is/sleekgrid\"\nimport { Decorators } from \"../../decorators\";\nimport { IGetEditValue, IReadOnly, ISetEditValue } from \"../../interfaces\";\nimport { Culture, getLookup, htmlEncode, isEmptyOrNull, ListResponse, Lookup, PropertyItem, ScriptData, trimToNull, tryGetText } from \"../../q\";\nimport { ReflectionUtils } from \"../../types/reflectionutils\";\nimport { DataGrid } from \"../datagrid/datagrid\";\nimport { GridSelectAllButtonHelper, GridUtils, SlickFormatting, SlickTreeHelper } from \"../helpers/slickhelpers\";\nimport { ToolButton } from \"../widgets/toolbar\";\nimport { Widget } from \"../widgets/widget\";\nimport { CascadedWidgetLink } from \"./cascadedwidgetlink\";\nimport { EditorUtils } from \"./editorutils\";\n\nexport interface CheckTreeItem<TSource> {\n    isSelected?: boolean;\n    hideCheckBox?: boolean;\n    isAllDescendantsSelected?: boolean;\n    id?: string;\n    text?: string;\n    parentId?: string;\n    children?: CheckTreeItem<TSource>[];\n    source?: TSource;\n}\n\n@Decorators.registerEditor('Serenity.CheckTreeEditor', [IGetEditValue, ISetEditValue, IReadOnly])\n@Decorators.element(\"<div/>\")\nexport class CheckTreeEditor<TItem extends CheckTreeItem<any>, TOptions> extends DataGrid<TItem, TOptions>\n    implements IGetEditValue, ISetEditValue, IReadOnly {\n\n    private byId: { [key: string]: TItem };\n\n    constructor(div: JQuery, opt?: TOptions) {\n        super(div, opt);\n\n        div.addClass('s-CheckTreeEditor');\n        this.updateItems();\n    }\n\n    protected getIdProperty() {\n        return \"id\";\n    }\n\n    protected getTreeItems(): TItem[] {\n        return [];\n    }\n\n    protected updateItems(): void {\n        var items = this.getTreeItems();\n        var itemById: Record<any, TItem> = {};\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            item.children = [];\n            if (!isEmptyOrNull(item.id)) {\n                itemById[item.id] = item;\n            }\n            if (!isEmptyOrNull(item.parentId)) {\n                var parent = itemById[item.parentId];\n                if (parent != null) {\n                    parent.children.push(item);\n                }\n            }\n        }\n        this.view.addData({ Entities: items, Skip: 0, Take: 0, TotalCount: items.length });\n        this.updateSelectAll();\n        this.updateFlags();\n    }\n\n    getEditValue(property: PropertyItem, target: any): void {\n        if (this.getDelimited())\n            target[property.name] = this.get_value().join(\",\");\n        else\n            target[property.name] = this.get_value();\n    }\n\n    setEditValue(source: any, property: PropertyItem): void {\n        var value = source[property.name];\n        this.set_value(value);\n    }\n\n    protected getButtons(): ToolButton[] {\n        var selectAllText = this.getSelectAllText();\n        if (isEmptyOrNull(selectAllText)) {\n            return null;\n        }\n\n        var self = this;\n        var buttons: ToolButton[] = [];\n        buttons.push(GridSelectAllButtonHelper.define(function () {\n            return self;\n        }, function (x) {\n            return x.id;\n        }, function (x1) {\n            return x1.isSelected;\n        }, (x2, v) => {\n            if (x2.isSelected !== v) {\n                x2.isSelected = v;\n                this.itemSelectedChanged(x2);\n            }\n        }, null, () => {\n            this.updateFlags();\n        }));\n\n        return buttons;\n    }\n\n    protected itemSelectedChanged(item: TItem): void {\n    }\n\n    protected getSelectAllText(): string {\n        return tryGetText('Controls.CheckTreeEditor.SelectAll') ?? 'Select All';\n    }\n\n    protected isThreeStateHierarchy(): boolean {\n        return false;\n    }\n\n    protected createSlickGrid(): Grid {\n        this.element.addClass('slick-no-cell-border').addClass('slick-no-odd-even');\n        var result = super.createSlickGrid();\n        this.element.addClass('slick-hide-header');\n        result.resizeCanvas();\n        return result;\n    }\n\n    protected onViewFilter(item: TItem): boolean {\n        if (!super.onViewFilter(item)) {\n            return false;\n        }\n\n        var items = this.view.getItems();\n        var self = this;\n        return SlickTreeHelper.filterCustom(item, function (x) {\n            if (x.parentId == null) {\n                return null;\n            }\n\n            if (self.byId == null) {\n                self.byId = {};\n                for (var i = 0; i < items.length; i++) {\n                    var o = items[i];\n                    if (o.id != null) {\n                        self.byId[o.id] = o;\n                    }\n                }\n            }\n\n            return self.byId[x.parentId];\n        });\n    }\n\n    protected getInitialCollapse(): boolean {\n        return false;\n    }\n\n    protected onViewProcessData(response: ListResponse<TItem>): ListResponse<TItem> {\n        response = super.onViewProcessData(response);\n        this.byId = null;\n        SlickTreeHelper.setIndents(response.Entities, function (x) {\n            return x.id;\n        }, function (x1) {\n            return x1.parentId;\n        }, this.getInitialCollapse());\n        return response;\n    }\n\n    protected onClick(e: JQueryEventObject, row: number, cell: number): void {\n        super.onClick(e, row, cell);\n\n        if (!e.isDefaultPrevented()) {\n            SlickTreeHelper.toggleClick(e, row, cell, this.view, function (x) {\n                return x.id;\n            });\n        }\n\n        if (e.isDefaultPrevented()) {\n            return;\n        }\n\n        var target = $(e.target);\n        if (target.hasClass('check-box')) {\n            e.preventDefault();\n\n            if (this._readOnly)\n                return;\n\n            var checkedOrPartial = target.hasClass('checked') || target.hasClass('partial');\n            var item = this.itemAt(row);\n            var anyChanged = item.isSelected !== !checkedOrPartial;\n            this.view.beginUpdate();\n            try {\n                if (item.isSelected !== !checkedOrPartial) {\n                    item.isSelected = !checkedOrPartial;\n                    this.view.updateItem(item.id, item);\n                    this.itemSelectedChanged(item);\n                }\n                anyChanged = this.setAllSubTreeSelected(item, item.isSelected) || anyChanged;\n                this.updateSelectAll();\n                this.updateFlags();\n            }\n            finally {\n                this.view.endUpdate();\n            }\n            if (anyChanged) {\n                this.element.triggerHandler('change');\n            }\n        }\n    }\n\n    protected updateSelectAll(): void {\n        GridSelectAllButtonHelper.update(this, function (x) {\n            return x.isSelected;\n        });\n    }\n\n    protected updateFlags(): void {\n        var view = this.view;\n        var items = view.getItems();\n        var threeState = this.isThreeStateHierarchy();\n        if (!threeState) {\n            return;\n        }\n        view.beginUpdate();\n        try {\n            for (var i = 0; i < items.length; i++) {\n                var item = items[i];\n                if (item.children == null || item.children.length === 0) {\n                    var allsel = this.getDescendantsSelected(item);\n                    if (allsel !== item.isAllDescendantsSelected) {\n                        item.isAllDescendantsSelected = allsel;\n                        view.updateItem(item.id, item);\n                    }\n                    continue;\n                }\n                var allSelected = this.allDescendantsSelected(item);\n                var selected = allSelected || this.anyDescendantsSelected(item);\n                if (allSelected !== item.isAllDescendantsSelected || selected !== item.isSelected) {\n                    var selectedChange = item.isSelected !== selected;\n                    item.isAllDescendantsSelected = allSelected;\n                    item.isSelected = selected;\n                    view.updateItem(item.id, item);\n                    if (selectedChange) {\n                        this.itemSelectedChanged(item);\n                    }\n                }\n            }\n        }\n        finally {\n            view.endUpdate();\n        }\n    }\n\n    protected getDescendantsSelected(item: TItem): boolean {\n        return true;\n    }\n\n    protected setAllSubTreeSelected(item: TItem, selected: boolean): boolean {\n        var result = false;\n        for (var i = 0; i < item.children.length; i++) {\n            var sub = item.children[i];\n            if (sub.isSelected !== selected) {\n                result = true;\n                sub.isSelected = selected;\n                this.view.updateItem(sub.id, sub as TItem);\n                this.itemSelectedChanged(sub as TItem);\n            }\n            if (sub.children.length > 0) {\n                result = this.setAllSubTreeSelected(sub as TItem, selected) || result;\n            }\n        }\n        return result;\n    }\n\n    protected allItemsSelected() {\n        for (var i = 0; i < this.rowCount(); i++) {\n            var row = this.itemAt(i);\n            if (!row.isSelected) {\n                return false;\n            }\n        }\n\n        return this.rowCount() > 0;\n    }\n\n    protected allDescendantsSelected(item: TItem): boolean {\n        if (item.children.length > 0) {\n            for (var i = 0; i < item.children.length; i++) {\n                var sub = item.children[i];\n                if (!sub.isSelected) {\n                    return false;\n                }\n\n                if (!this.allDescendantsSelected(sub as TItem)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    protected getDelimited() {\n        return !!!!(this.options as any)['delimited'];\n    }\n\n    protected anyDescendantsSelected(item: TItem): boolean {\n        if (item.children.length > 0) {\n            for (var i = 0; i < item.children.length; i++) {\n                var sub = item.children[i];\n                if (sub.isSelected) {\n                    return true;\n                }\n                if (this.anyDescendantsSelected(sub as TItem)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    protected getColumns(): Column[] {\n        var self = this;\n        var columns: Column[] = [];\n        columns.push({\n            field: 'text', name: 'Kayt', width: 80, format: SlickFormatting.treeToggle(function () {\n                return self.view;\n            }, function (x) {\n                return x.id;\n            }, ctx => {\n                var cls = 'check-box';\n                var item = ctx.item;\n                if (item.hideCheckBox) {\n                    return this.getItemText(ctx);\n                }\n                var threeState = this.isThreeStateHierarchy();\n                if (item.isSelected) {\n                    if (threeState && !item.isAllDescendantsSelected) {\n                        cls += ' partial';\n                    }\n                    else {\n                        cls += ' checked';\n                    }\n                }\n                if (this._readOnly)\n                    cls += ' readonly';\n                return '<span class=\"' + cls + '\"></span>' + this.getItemText(ctx);\n            })\n        });\n        return columns;\n    }\n\n    protected getItemText(ctx: FormatterContext): string {\n        return htmlEncode(ctx.value);\n    }\n\n    protected getSlickOptions(): GridOptions {\n        var opt = super.getSlickOptions();\n        opt.forceFitColumns = true;\n        return opt;\n    }\n\n    protected sortItems(): void {\n        if (!this.moveSelectedUp()) {\n            return;\n        }\n        var oldIndexes: Record<string, number> = {};\n        var list = this.view.getItems();\n        var i = 0;\n        for (var $t1 = 0; $t1 < list.length; $t1++) {\n            var x = list[$t1];\n            oldIndexes[x.id] = i++;\n        }\n        list.sort(function (x1, y) {\n            if (x1.isSelected && !y.isSelected) {\n                return -1;\n            }\n            if (y.isSelected && !x1.isSelected) {\n                return 1;\n            }\n            var c = Culture.stringCompare(x1.text, y.text);\n            if (c !== 0) {\n                return c;\n            }\n            return oldIndexes[x1.id] < oldIndexes[y.id] ? -1 : (oldIndexes[x1.id] > oldIndexes[y.id] ? 1 : 0);\n        });\n\n        this.view.setItems(list, true);\n    }\n\n    protected moveSelectedUp(): boolean {\n        return false;\n    }\n\n    private _readOnly: boolean;\n\n    public get_readOnly() {\n        return this._readOnly;\n    }\n\n    public set_readOnly(value: boolean) {\n        if (!!this._readOnly != !!value) {\n            this._readOnly = !!value;\n            this.view.refresh();\n        }\n    }\n\n    private get_value(): string[] {\n        var list = [];\n        var items = this.view.getItems();\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].isSelected) {\n                list.push(items[i].id);\n            }\n        }\n        return list;\n    }\n\n    public get value() {\n        return this.get_value();\n    }\n\n    private set_value(value: string | string[]) {\n\n        var selected: Record<string, boolean> = {};\n        if (value != null) {\n            if (typeof value == \"string\") {\n                value = value.split(',')\n                    .map(x => trimToNull(x))\n                    .filter(x => x != null);\n            }\n\n            for (var i = 0; i < value.length; i++) {\n                selected[value[i]] = true;\n            }\n        }\n\n        this.view.beginUpdate();\n        try {\n            var items = this.view.getItems();\n            for (var i1 = 0; i1 < items.length; i1++) {\n                var item = items[i1];\n                var select = selected[item.id];\n                if (select !== item.isSelected) {\n                    item.isSelected = select;\n                    this.view.updateItem(item.id, item);\n                }\n            }\n            this.updateSelectAll();\n            this.updateFlags();\n            this.sortItems();\n        }\n        finally {\n            this.view.endUpdate();\n        }\n    }\n\n    public set value(v: string[]) {\n        this.set_value(v);\n    }\n}\n\nexport interface CheckLookupEditorOptions {\n    lookupKey?: string;\n    checkedOnTop?: boolean;\n    showSelectAll?: boolean;\n    hideSearch?: boolean;\n    delimited?: boolean;\n    cascadeFrom?: string;\n    cascadeField?: string;\n    cascadeValue?: any;\n    filterField?: string;\n    filterValue?: any;\n}\n\n@Decorators.registerEditor(\"Serenity.CheckLookupEditor\")\nexport class CheckLookupEditor<TItem = any> extends CheckTreeEditor<CheckTreeItem<TItem>, CheckLookupEditorOptions> {\n\n    private searchText: string;\n    private enableUpdateItems: boolean;\n\n    constructor(div: JQuery, options: CheckLookupEditorOptions) {\n        super(div, options);\n\n        this.enableUpdateItems = true;\n        this.setCascadeFrom(this.options.cascadeFrom);\n        this.updateItems();\n        ScriptData.bindToChange('Lookup.' + this.getLookupKey(), this.uniqueName,\n            () => this.updateItems());\n    }\n\n    protected updateItems() {\n        if (this.enableUpdateItems)\n            super.updateItems();\n    }\n\n    protected getLookupKey() {\n        return this.options.lookupKey;\n    }\n\n    protected getButtons(): ToolButton[] {\n        return super.getButtons() ?? (this.options.hideSearch ? null : []);\n    }\n\n    protected createToolbarExtensions() {\n        super.createToolbarExtensions();\n\n        GridUtils.addQuickSearchInputCustom(this.toolbar.element, (field, text) => {\n            this.searchText = Select2.util.stripDiacritics(text || '').toUpperCase();\n            this.view.setItems(this.view.getItems(), true);\n        });\n    }\n\n    protected getSelectAllText(): string {\n        if (!this.options.showSelectAll)\n            return null;\n\n        return super.getSelectAllText();\n    }\n\n    protected cascadeItems(items: TItem[]) {\n\n        var val = this.get_cascadeValue();\n\n        if (val == null || val === '') {\n\n            if (!isEmptyOrNull(this.get_cascadeField())) {\n                return [];\n            }\n\n            return items;\n        }\n\n        var key = val.toString();\n        var fld = this.get_cascadeField();\n\n        return items.filter(x => {\n            var itemKey = (x as any)[fld] ?? ReflectionUtils.getPropertyValue(x, fld);\n            return !!(itemKey != null && itemKey.toString() === key);\n        });\n    }\n\n    protected filterItems(items: TItem[]) {\n        var val = this.get_filterValue();\n\n        if (val == null || val === '') {\n            return items;\n        }\n\n        var key = val.toString();\n        var fld = this.get_filterField();\n\n        return items.filter(x => {\n            var itemKey = (x as any)[fld] ?? ReflectionUtils.getPropertyValue(x, fld);\n            return !!(itemKey != null && itemKey.toString() === key);\n        });\n    }\n\n    protected getLookupItems(lookup: Lookup<TItem>): TItem[] {\n        return this.filterItems(this.cascadeItems(lookup.items));\n    }\n\n    protected getTreeItems() {\n        var lookup = getLookup<TItem>(this.options.lookupKey);\n        var items = this.getLookupItems(lookup);\n        return items.map(item => <CheckTreeItem<TItem>>{\n            id: ((item as any)[lookup.idField] ?? \"\").toString(),\n            text: ((item as any)[lookup.textField] ?? \"\").toString(),\n            source: item\n        });\n    }\n\n    protected onViewFilter(item: CheckTreeItem<TItem>) {\n        return super.onViewFilter(item) &&\n            (isEmptyOrNull(this.searchText) ||\n                Select2.util.stripDiacritics(item.text || '')\n                    .toUpperCase().indexOf(this.searchText) >= 0);\n    }\n\n    protected moveSelectedUp(): boolean {\n        return this.options.checkedOnTop;\n    }\n\n    protected get_cascadeFrom(): string {\n        return this.options.cascadeFrom;\n    }\n\n    get cascadeFrom(): string {\n        return this.get_cascadeFrom();\n    }\n\n    protected getCascadeFromValue(parent: Widget<any>) {\n        return EditorUtils.getValue(parent);\n    }\n\n    protected cascadeLink: CascadedWidgetLink<Widget<any>>;\n\n    protected setCascadeFrom(value: string) {\n\n        if (isEmptyOrNull(value)) {\n            if (this.cascadeLink != null) {\n                this.cascadeLink.set_parentID(null);\n                this.cascadeLink = null;\n            }\n            this.options.cascadeFrom = null;\n            return;\n        }\n\n        this.cascadeLink = new CascadedWidgetLink<Widget<any>>(Widget, this, p => {\n            this.set_cascadeValue(this.getCascadeFromValue(p));\n        });\n\n        this.cascadeLink.set_parentID(value);\n        this.options.cascadeFrom = value;\n    }\n\n    protected set_cascadeFrom(value: string) {\n        if (value !== this.options.cascadeFrom) {\n            this.setCascadeFrom(value);\n            this.updateItems();\n        }\n    }\n\n    set cascadeFrom(value: string) {\n        this.set_cascadeFrom(value);\n    }\n\n    protected get_cascadeField() {\n        return (this.options.cascadeField ?? this.options.cascadeFrom);\n    }\n\n    get cascadeField(): string {\n        return this.get_cascadeField();\n    }\n\n    protected set_cascadeField(value: string) {\n        this.options.cascadeField = value;\n    }\n\n    set cascadeField(value: string) {\n        this.set_cascadeField(value);\n    }\n\n    protected get_cascadeValue(): any {\n        return this.options.cascadeValue;\n    }\n\n    get cascadeValue(): any {\n        return this.get_cascadeValue();\n    }\n\n    protected set_cascadeValue(value: any) {\n        if (this.options.cascadeValue !== value) {\n            this.options.cascadeValue = value;\n            this.value = [];\n            this.updateItems();\n        }\n    }\n\n    set cascadeValue(value: any) {\n        this.set_cascadeValue(value);\n    }\n\n    protected get_filterField() {\n        return this.options.filterField;\n    }\n\n    get filterField(): string {\n        return this.get_filterField();\n    }\n\n    protected set_filterField(value: string) {\n        this.options.filterField = value;\n    }\n\n    set filterField(value: string) {\n        this.set_filterField(value);\n    }\n\n    protected get_filterValue(): any {\n        return this.options.filterValue;\n    }\n\n    get filterValue(): any {\n        return this.get_filterValue();\n    }\n\n    protected set_filterValue(value: any) {\n        if (this.options.filterValue !== value) {\n            this.options.filterValue = value;\n            this.value = null;\n            this.updateItems();\n        }\n    }\n\n    set filterValue(value: any) {\n        this.set_filterValue(value);\n    }\n}","import { Decorators, DialogTypeAttribute, DisplayNameAttribute, EntityTypeAttribute, ItemNameAttribute, ServiceAttribute } from \"../../decorators\";\nimport { IEditDialog } from \"../../interfaces\";\nimport { Authorization, endsWith, format, getInstanceType, getTypeFullName, HandleRouteEventArgs, isEmptyOrNull, LT, replaceAll, resolveUrl, Router, safeCast, localText, tryGetText } from \"../../q\";\nimport { RemoteViewOptions } from \"../../slick\";\nimport { DialogTypeRegistry } from \"../../types/dialogtyperegistry\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { SubDialogHelper } from \"../helpers/subdialoghelper\";\nimport { ToolButton } from \"../widgets/toolbar\";\nimport { Widget, WidgetDialogClass } from \"../widgets/widget\";\nimport { ColumnPickerDialog } from \"./columnpickerdialog\";\nimport { DataGrid } from \"./datagrid\";\nimport $ from \"@optionaldeps/jquery\"\n\n@Decorators.registerClass('Serenity.EntityGrid')\nexport class EntityGrid<TItem, TOptions> extends DataGrid<TItem, TOptions> {\n\n    constructor(container: JQuery, options?: TOptions) {\n        super(container, options);\n\n        this.element.addClass('route-handler')\n            .on('handleroute.' + this.uniqueName, (_, args: any) => this.handleRoute(args));\n    }\n\n    protected handleRoute(args: HandleRouteEventArgs): void {\n        if (!!args.handled)\n            return;\n\n        if (!!(args.route === 'new')) {\n            args.handled = true;\n            this.addButtonClick();\n            return;\n        }\n\n        var oldRequests = ($ as any)?.[\"active\"];\n\n        var parts = args.route.split('/');\n        if (!!(parts.length === 2 && parts[0] === 'edit')) {\n            args.handled = true;\n            this.editItem(decodeURIComponent(parts[1]));\n        }\n        else if (!!(parts.length === 2 && parts[1] === 'new')) {\n            args.handled = true;\n            this.editItemOfType(parts[0], null);\n        }\n        else if (!!(parts.length === 3 && parts[1] === 'edit')) {\n            args.handled = true;\n            this.editItemOfType(parts[0], decodeURIComponent(parts[2]));\n        }\n        else\n            return;\n\n        if (($ as any)?.[\"active\"] > oldRequests && args.handled && args.index >= 0 && args.index < args.parts.length - 1) {\n            $(document).one('ajaxStop', () => {\n                setTimeout(() => Router.resolve('#' + args.parts.join('/+/')), 1);\n            });\n        }\n    }\n\n    protected usePager(): boolean {\n        return true;\n    }\n\n    protected createToolbarExtensions(): void {\n        this.createIncludeDeletedButton();\n        this.createQuickSearchInput();\n    }\n\n    protected getInitialTitle(): string {\n        return this.getDisplayName();\n    }\n\n    protected getLocalTextPrefix(): string {\n        var result = super.getLocalTextPrefix();\n\n        if (result != null ||\n            this.getRowDefinition())\n            return result;\n            \n        return this.getEntityType();\n    }\n\n    private _entityType: string;\n\n    protected getEntityType(): string {\n        if (this._entityType != null)\n            return this._entityType;\n\n        var attr = this.attrs(EntityTypeAttribute);\n\n        if (attr.length === 1) {\n            return (this._entityType = attr[0].value);\n        }\n\n        var name = getTypeFullName(getInstanceType(this));\n\n        var px = name.indexOf('.');\n        if (px >= 0) {\n            name = name.substring(px + 1);\n        }\n\n        if (endsWith(name, 'Grid')) {\n            name = name.substr(0, name.length - 4);\n        }\n        else if (endsWith(name, 'SubGrid')) {\n            name = name.substr(0, name.length - 7);\n        }\n\n        this._entityType = name;\n\n        return this._entityType;\n    }\n\n    private _displayName: string;\n\n    protected getDisplayName(): string {\n        if (this._displayName != null)\n            return this._displayName;\n\n        var attr = this.attrs(DisplayNameAttribute);\n        if (attr.length >= 1) {\n            this._displayName = attr[0].displayName;\n            this._displayName = LT.getDefault(this._displayName, this._displayName);\n        }\n        else {\n            this._displayName = tryGetText(this.getLocalTextDbPrefix() + 'EntityPlural');\n            if (this._displayName == null)\n                this._displayName = this.getEntityType();\n        }\n\n        return this._displayName;\n    }\n\n    private _itemName: string;\n\n    protected getItemName(): string {\n        if (this._itemName != null)\n            return this._itemName;\n\n        var attr = this.attrs(ItemNameAttribute);\n        if (attr.length >= 1) {\n            this._itemName = attr[0].value;\n            this._itemName = LT.getDefault(this._itemName, this._itemName);\n        }\n        else {\n            this._itemName = tryGetText(this.getLocalTextDbPrefix() + 'EntitySingular');\n            if (this._itemName == null)\n                this._itemName = this.getEntityType();\n        }\n\n        return this._itemName;\n    }\n\n    protected getAddButtonCaption(): string {\n        return format(localText('Controls.EntityGrid.NewButton'), this.getItemName());\n    }\n\n    protected getButtons(): ToolButton[] {\n\n        var buttons: ToolButton[] = [];\n        buttons.push({\n            title: this.getAddButtonCaption(),\n            action: 'add',\n            cssClass: 'add-button',\n            icon: 'fa-plus-circle text-green',\n            hotkey: 'alt+n',\n            onClick: () => {\n                this.addButtonClick();\n            },\n            disabled: () => !this.hasInsertPermission() || this.readOnly\n        });\n\n        buttons.push(this.newRefreshButton(true));\n        buttons.push(ColumnPickerDialog.createToolButton(this as any));\n\n        return buttons;\n    }\n\n    protected newRefreshButton(noText?: boolean): ToolButton {\n        return {\n            title: (noText ? null : localText('Controls.EntityGrid.RefreshButton')),\n            hint: (noText ? localText('Controls.EntityGrid.RefreshButton') : null),\n            icon: 'fa-refresh text-blue',\n            action: 'refresh',\n            cssClass: 'refresh-button',\n            onClick: () => {\n                this.refresh();\n            }\n        };\n    }\n\n    protected addButtonClick(): void {\n        this.editItem(new Object());\n    }\n\n    protected editItem(entityOrId: any): void {\n        this.createEntityDialog(this.getItemType(), dlg => {\n            var dialog = safeCast(dlg, IEditDialog);\n            if (dialog != null) {\n                dialog.load(entityOrId, () => {\n                    dialog.dialogOpen(this.openDialogsAsPanel);\n                });\n\n                return;\n            }\n\n            throw new Error(\n                format(\"{0} doesn't implement IEditDialog!\",\n                    getTypeFullName(getInstanceType(dlg))));\n        });\n    }\n\n    protected editItemOfType(itemType: string, entityOrId: any): void {\n\n        if (itemType === this.getItemType()) {\n            this.editItem(entityOrId);\n            return;\n        }\n\n        this.createEntityDialog(itemType, dlg => {\n            var dialog = safeCast(dlg, IEditDialog);\n            if (dialog != null) {\n                dialog.load(entityOrId, () =>\n                    dialog.dialogOpen(this.openDialogsAsPanel));\n                return;\n            }\n\n            throw new Error(\n                format(\"{0} doesn't implement IEditDialog!\",\n                    getTypeFullName(getInstanceType(dlg))));\n        });\n    }\n\n    private _service: string;\n\n    protected getService(): string {\n        if (this._service != null)\n            return this._service;\n\n        var attr = this.attrs(ServiceAttribute);\n        if (attr.length >= 1)\n            this._service = attr[0].value;\n        else\n            this._service = replaceAll(this.getEntityType(), '.', '/');\n\n        return this._service;\n    }\n\n    protected getViewOptions(): RemoteViewOptions {\n        var opt = super.getViewOptions();\n        opt.url = resolveUrl('~/Services/' + this.getService() + '/List');\n        return opt;\n    }\n\n    protected getItemType() {\n        return this.getEntityType();\n    }\n\n    protected routeDialog(itemType: string, dialog: Widget<any>) {\n        Router && Router.dialog && Router.dialog(this.element, dialog.element, () => {\n            var hash = '';\n\n            if (itemType !== this.getItemType())\n                hash = itemType + '/';\n\n            if (!!(dialog != null && (dialog as any).entityId != null))\n                hash += 'edit/' + (dialog as any).entityId.toString();\n            else\n                hash += 'new';\n\n            return hash;\n        });\n    }\n\n    protected getInsertPermission(): string {\n        return this.getRowDefinition()?.insertPermission;\n    }\n\n    protected hasInsertPermission(): boolean {\n        var insertPermission = this.getInsertPermission();\n        return insertPermission == null || Authorization.hasPermission(this.getInsertPermission());\n    }\n\n    protected transferDialogReadOnly(dialog: Widget<any>) {\n        if (this.readOnly)\n            EditorUtils.setReadOnly(dialog, true);\n    }\n\n    protected initDialog(dialog: Widget<any>): void {\n        SubDialogHelper.bindToDataChange(dialog, this, (e, dci) => {\n            this.subDialogDataChange();\n        }, true);\n\n        this.transferDialogReadOnly(dialog);\n        this.routeDialog(this.getItemType(), dialog);\n    }\n\n    protected initEntityDialog(itemType: string, dialog: Widget<any>): void {\n        if (itemType === this.getItemType()) {\n            this.initDialog(dialog);\n            return;\n        }\n\n        SubDialogHelper.bindToDataChange(dialog, this, (e, dci) => {\n            this.subDialogDataChange();\n        }, true);\n\n        this.transferDialogReadOnly(dialog);\n        this.routeDialog(itemType, dialog);\n    }\n\n    protected createEntityDialog(itemType: string, callback?: (dlg: Widget<any>) => void): Widget<any> {\n        var dialogClass = this.getDialogTypeFor(itemType);\n        var dialog = Widget.create({\n            type: dialogClass,\n            options: this.getDialogOptionsFor(itemType),\n            init: d => {\n                this.initEntityDialog(itemType, d);\n                callback && callback(d);\n            }\n        });\n\n        return dialog;\n    }\n\n    protected getDialogOptions(): any {\n        return {};\n    }\n\n    protected getDialogOptionsFor(itemType: string): any {\n        if (itemType === this.getItemType())\n            return this.getDialogOptions();\n\n        return {};\n    }\n\n    protected getDialogTypeFor(itemType: string): { new(...args: any[]): Widget<any> } {\n\n        if (itemType === this.getItemType()) {\n            return this.getDialogType();\n        }\n\n        return DialogTypeRegistry.get(itemType) as any;\n    }\n\n    private _dialogType: WidgetDialogClass;\n\n    protected getDialogType(): { new(...args: any[]): Widget<any> } {\n\n        if (this._dialogType != null)\n            return this._dialogType;\n\n        var attr = this.attrs(DialogTypeAttribute);\n        if (attr.length >= 1)\n            this._dialogType = attr[0].value;\n        else\n            this._dialogType = DialogTypeRegistry.get(this.getEntityType());\n\n        return this._dialogType;\n    }\n}\n","import { any, Authorization, confirmDialog, DeleteRequest, DeleteResponse, endsWith, Exception, extend, format, getAttributes, getFormData, getFormDataAsync, getInstanceType, getTypeFullName, isEmptyOrNull, localText, LT, notifySuccess, PropertyItem, PropertyItemsData, replaceAll, RetrieveRequest, RetrieveResponse, safeCast, SaveRequest, SaveResponse, ScriptData, serviceCall, ServiceOptions, startsWith, tryGetText, UndeleteRequest, UndeleteResponse, validatorAbortHandler } from \"../../q\";\nimport { Decorators, EntityTypeAttribute, FormKeyAttribute, IdPropertyAttribute, IsActivePropertyAttribute, ItemNameAttribute, LocalTextPrefixAttribute, NamePropertyAttribute, ServiceAttribute } from \"../../decorators\";\nimport { IEditDialog, IReadOnly } from \"../../interfaces\";\nimport { IRowDefinition } from \"../datagrid/irowdefinition\";\nimport { EditorUtils } from \"../editors/editorutils\";\nimport { SubDialogHelper } from \"../helpers/subdialoghelper\";\nimport { TabsExtensions } from \"../helpers/tabsextensions\";\nimport { ValidationHelper } from \"../helpers/validationhelper\";\nimport { PropertyGrid, PropertyGridMode, PropertyGridOptions } from \"../widgets/propertygrid\";\nimport { Toolbar, ToolButton } from \"../widgets/toolbar\";\nimport { Widget } from \"../widgets/widget\";\nimport { TemplatedDialog } from \"./templateddialog\";\n\n@Decorators.registerClass('Serenity.EntityDialog', [IEditDialog, IReadOnly])\nexport class EntityDialog<TItem, TOptions> extends TemplatedDialog<TOptions> implements IEditDialog, IReadOnly {\n\n    protected entity: TItem;\n    protected entityId: any;\n    protected propertyItemsData: PropertyItemsData;\n    protected propertyGrid: PropertyGrid;\n\n    protected toolbar: Toolbar;\n    protected saveAndCloseButton: JQuery;\n    protected applyChangesButton: JQuery;\n    protected deleteButton: JQuery;\n    protected undeleteButton: JQuery;\n    protected cloneButton: JQuery;\n    protected editButton: JQuery;\n\n    protected localizationGrid: PropertyGrid;\n    protected localizationButton: JQuery;\n    protected localizationPendingValue: any;\n    protected localizationLastValue: any;\n\n    static defaultLanguageList: () => string[][];\n\n    constructor(opt?: TOptions) {\n        super(opt);\n\n        if (this.useAsync())\n            this.initAsync();\n        else \n            this.initSync();        \n    }\n\n    internalInit() {\n        this.initPropertyGrid();\n        this.initLocalizationGrid();\n    }\n\n    protected initSync() {\n        this.propertyItemsData = this.getPropertyItemsData();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected async initAsync() {\n        this.propertyItemsData = await this.getPropertyItemsDataAsync();\n        this.internalInit();\n        this.afterInit();\n    }\n\n    protected afterInit() {\n    }    \n\n    protected useAsync() {\n        return false;\n    }    \n\n    destroy(): void {\n\n        if (this.propertyGrid) {\n            this.propertyGrid.destroy();\n            this.propertyGrid = null;\n        }\n\n        if (this.localizationGrid) {\n            this.localizationGrid.destroy();\n            this.localizationGrid = null;\n        }\n\n        this.undeleteButton = null;\n        this.applyChangesButton = null;\n        this.deleteButton = null;\n        this.saveAndCloseButton = null;\n        this.editButton = null;\n        this.cloneButton = null;\n        this.toolbar = null;\n\n        super.destroy();\n    }\n\n    protected get_entity(): TItem {\n        return this.entity;\n    }\n\n    protected set_entity(entity: any): void {\n        this.entity = entity || new Object();\n    }\n\n    protected get_entityId(): any {\n        return this.entityId;\n    }\n\n    protected set_entityId(value: any) {\n        this.entityId = value;\n    }\n\n    protected getEntityNameFieldValue(): any {\n        return ((this.get_entity() as any)[this.getNameProperty()] ?? '').toString();\n    }\n\n    protected getEntityTitle(): string {\n        if (!this.isEditMode()) {\n            return format(localText('Controls.EntityDialog.NewRecordTitle'), this.getEntitySingular());\n        }\n        else {\n            var titleFormat = (this.isViewMode() || this.readOnly || !this.hasSavePermission()) ?\n                localText('Controls.EntityDialog.ViewRecordTitle') : localText('Controls.EntityDialog.EditRecordTitle');\n            var title = this.getEntityNameFieldValue() ?? '';\n            return format(titleFormat,\n                this.getEntitySingular(), (isEmptyOrNull(title) ? '' : (' (' + title + ')')));\n        }\n    }\n\n    protected updateTitle(): void {\n        this.dialogTitle = this.getEntityTitle();\n    }\n\n    protected isCloneMode(): boolean {\n        return false;\n    }\n\n    protected isEditMode(): boolean {\n        return this.get_entityId() != null && !this.isCloneMode();\n    }\n\n    protected isDeleted(): boolean {\n        if (this.get_entityId() == null) {\n            return false;\n        }\n\n        var isDeletedProperty = this.getIsDeletedProperty();\n        if (isDeletedProperty) {\n            return !!(this.get_entity() as any)[isDeletedProperty];\n        }\n\n        var value = (this.get_entity() as any)[this.getIsActiveProperty()];\n        if (value == null) {\n            return false;\n        }\n\n        return value < 0;\n    }\n\n    protected isNew(): boolean {\n        return this.get_entityId() == null;\n    }\n\n    protected isNewOrDeleted(): boolean {\n        return this.isNew() || this.isDeleted();\n    }\n\n    protected getDeleteOptions(callback: (response: DeleteResponse) => void): ServiceOptions<DeleteResponse> {\n        return {};\n    }\n\n    protected deleteHandler(options: ServiceOptions<DeleteResponse>, callback: (response: DeleteResponse) => void): void {\n        serviceCall(options);\n    }\n\n    protected doDelete(callback: (response: DeleteResponse) => void): void {\n        var self = this;\n\n        var request: DeleteRequest = {\n            EntityId: this.get_entityId()\n        };\n\n        var baseOptions: ServiceOptions<DeleteResponse> = {\n            service: this.getService() + '/Delete',\n            request: request,\n            onSuccess: response => {\n                self.onDeleteSuccess(response);\n                if (callback != null) {\n                    callback(response);\n                }\n                self.element.triggerHandler('ondatachange', [{\n                    entityId: request.EntityId,\n                    entity: this.entity,\n                    type: 'delete'\n                }]);\n            }\n        };\n\n        var thisOptions = this.getDeleteOptions(callback);\n        var finalOptions = extend(baseOptions, thisOptions);\n\n        this.deleteHandler(finalOptions, callback);\n    }\n\n    protected onDeleteSuccess(response: DeleteResponse): void {\n    }\n\n    protected attrs<TAttr>(attrType: { new(...args: any[]): TAttr }): TAttr[] {\n        return getAttributes(getInstanceType(this), attrType, true);\n    }\n\n    protected getRowDefinition(): IRowDefinition {\n        return null;\n    }\n\n    private _entityType: string;\n\n    protected getEntityType(): string {\n\n        if (this._entityType != null)\n            return this._entityType;\n\n        var typeAttributes = this.attrs(EntityTypeAttribute);\n\n        if (typeAttributes.length === 1)\n            return (this._entityType = typeAttributes[0].value);\n\n        // remove global namespace\n        var name = getTypeFullName(getInstanceType(this));\n        var px = name.indexOf('.');\n        if (px >= 0)\n            name = name.substring(px + 1);\n\n        // don't like this kind of convention, make it obsolete soon...\n        if (endsWith(name, 'Dialog') || endsWith(name, 'Control'))\n            name = name.substr(0, name.length - 6);\n        else if (endsWith(name, 'Panel'))\n            name = name.substr(0, name.length - 5);\n\n        return (this._entityType = name);\n    }\n\n    private _formKey: string;\n\n    protected getFormKey(): string {\n        if (this._formKey != null)\n            return this._formKey;\n\n        var attributes = this.attrs(FormKeyAttribute);\n\n        if (attributes.length >= 1)\n            return (this._formKey = attributes[0].value);\n\n        return (this._formKey = this.getEntityType());\n    }\n\n    private _localTextDbPrefix: string;\n\n    protected getLocalTextDbPrefix(): string {\n        if (this._localTextDbPrefix != null)\n            return this._localTextDbPrefix;\n\n        this._localTextDbPrefix = this.getLocalTextPrefix() ?? '';\n\n        if (this._localTextDbPrefix.length > 0 && !endsWith(this._localTextDbPrefix, '.'))\n            this._localTextDbPrefix = 'Db.' + this._localTextDbPrefix + '.';\n\n        return this._localTextDbPrefix;\n    }\n\n    protected getLocalTextPrefix(): string {\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return rowDefinition.localTextPrefix;\n\n        var attr = this.attrs(LocalTextPrefixAttribute);\n\n        if (attr.length >= 1)\n            return attr[0].value;\n\n        return this.getEntityType();\n    }\n   \n    private _entitySingular: string;\n\n    protected getEntitySingular(): string {\n        if (this._entitySingular != null)\n            return this._entitySingular;\n\n        var attributes = this.attrs(ItemNameAttribute);\n\n        if (attributes.length >= 1) {\n            this._entitySingular = attributes[0].value;\n            this._entitySingular = LT.getDefault(this._entitySingular, this._entitySingular);\n        }\n        else {\n            var es = tryGetText(this.getLocalTextDbPrefix() + 'EntitySingular');\n            if (es == null) \n                es = this.getEntityType();\n            this._entitySingular = es;\n        }\n\n        return this._entitySingular;\n    }\n\n    private _nameProperty: string;\n\n    protected getNameProperty(): string {\n        if (this._nameProperty != null)\n            return this._nameProperty;\n\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return this._nameProperty = rowDefinition.nameProperty ?? '';\n\n        var attributes = this.attrs(NamePropertyAttribute);\n\n        if (attributes.length >= 1)\n            return this._nameProperty = attributes[0].value ?? '';\n            \n        return this._nameProperty = 'Name';\n    }\n\n    private _idProperty: string;\n\n    protected getIdProperty(): string {\n        if (this._idProperty != null)\n            return this._idProperty;\n\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return this._idProperty = rowDefinition.idProperty ?? '';\n\n        var attr = this.attrs(IdPropertyAttribute);\n        if (attr.length === 1)\n            return this._idProperty = attr[0].value ?? '';\n\n        return this._idProperty = 'ID';\n    }\n\n    private _isActiveProperty: string;\n\n    protected getIsActiveProperty(): string {\n        if (this._isActiveProperty != null)\n            return this._isActiveProperty;\n\n        var rowDefinition = this.getRowDefinition();\n        if (rowDefinition)\n            return this._isActiveProperty = rowDefinition.isActiveProperty ?? '';\n\n        var attr = this.attrs(IsActivePropertyAttribute);\n        if (attr.length === 1)\n            return this._isActiveProperty = attr[0].value ?? '';\n\n        return this._isActiveProperty = '';\n    }\n\n    protected getIsDeletedProperty(): string {\n        return this.getRowDefinition()?.isDeletedProperty;\n    }\n\n    private _service: string;\n\n    protected getService() {\n        if (this._service != null)\n            return this._service;\n\n        var attributes = this.attrs(ServiceAttribute);\n        if (attributes.length >= 1)\n            this._service = attributes[0].value;\n        else\n            this._service = replaceAll(this.getEntityType(), '.', '/');\n\n        return this._service;\n    }\n\n    load(entityOrId: any, done: () => void, fail?: (ex: Exception) => void): void {\n\n        var action = () => {\n\n            if (entityOrId == null) {\n                this.loadResponse({});\n                done && done();\n                return;\n            }\n\n            var scriptType = typeof (entityOrId);\n            if (scriptType === 'string' || scriptType === 'number') {\n                var entityId = entityOrId;\n\n                this.loadById(entityId, function (response) {\n                    if (done)\n                        window.setTimeout(done, 0);\n                }, null);\n\n                return;\n            }\n\n            var entity = entityOrId || new Object();\n            this.loadResponse({ Entity: entity });\n            done && done();\n        };\n\n        if (fail == null) {\n            action();\n            return;\n        }\n\n        try {\n            action();\n        }\n        catch (ex1) {\n            var ex = (Exception as any).wrap(ex1);\n            fail(ex);\n        }\n    }\n\n    loadNewAndOpenDialog(asPanel?: boolean): void {\n        this.loadResponse({});\n        this.dialogOpen(asPanel);\n    }\n\n    loadEntityAndOpenDialog(entity: TItem, asPanel?: boolean): void {\n        this.loadResponse({ Entity: entity });\n        this.dialogOpen(asPanel);\n    }\n\n    protected loadResponse(data: any): void {\n        data = data || {};\n        this.onLoadingData(data);\n        var entity = data.Entity || new Object();\n        this.beforeLoadEntity(entity);\n        this.loadEntity(entity);\n        this.set_entity(entity);\n        this.afterLoadEntity();\n    }\n\n    protected loadEntity(entity: TItem): void {\n        var idField = this.getIdProperty();\n\n        if (idField != null)\n            this.set_entityId((entity as any)[idField]);\n        \n        this.set_entity(entity);\n\n        if (this.propertyGrid != null) {\n            this.propertyGrid.set_mode((this.isEditMode() ?\n                PropertyGridMode.update : PropertyGridMode.insert));\n            this.propertyGrid.load(entity);\n        }\n    }\n\n    protected beforeLoadEntity(entity: TItem): void {\n        this.localizationPendingValue = null;\n        this.localizationLastValue = null;\n    }\n\n    protected afterLoadEntity(): void {\n        this.updateInterface();\n        this.updateTitle();\n    }\n\n    public loadByIdAndOpenDialog(entityId: any, asPanel?: boolean) {\n        this.loadById(entityId,\n            response => window.setTimeout(() => this.dialogOpen(asPanel), 0),\n            () => {\n                if (!this.element.is(':visible')) {\n                    this.element.remove();\n                }\n            });\n    }\n\n    protected onLoadingData(data: RetrieveResponse<TItem>): void {\n    }\n\n    protected getLoadByIdOptions(id: any, callback: (response: RetrieveResponse<TItem>) => void): ServiceOptions<RetrieveResponse<TItem>> {\n        return {};\n    }\n\n    protected getLoadByIdRequest(id: any): RetrieveRequest {\n        var request: RetrieveRequest = {};\n        request.EntityId = id;\n        return request;\n    }\n\n    protected reloadById(): void {\n        this.loadById(this.get_entityId());\n    }\n\n    loadById(id: any, callback?: (response: RetrieveResponse<TItem>) => void, fail?: () => void) {\n        var baseOptions: ServiceOptions<RetrieveResponse<TItem>> = {\n            service: this.getService() + '/Retrieve',\n            blockUI: true,\n            request: this.getLoadByIdRequest(id),\n            onSuccess: response => {\n                this.loadResponse(response);\n                callback && callback(response);\n            },\n            onCleanup: () => {\n                if (this.validator != null) {\n                    validatorAbortHandler(this.validator);\n                }\n            }\n        };\n\n        var thisOptions = this.getLoadByIdOptions(id, callback);\n        var finalOptions = extend(baseOptions, thisOptions);\n        this.loadByIdHandler(finalOptions, callback, fail);\n    }\n\n    protected loadByIdHandler(options: ServiceOptions<RetrieveResponse<TItem>>, callback: (response: RetrieveResponse<TItem>) => void, fail: () => void): void {\n        var request = serviceCall(options);\n        fail && request.fail(fail);\n    }\n\n    protected initLocalizationGrid(): void {\n        var pgDiv = this.byId('PropertyGrid');\n        if (pgDiv.length <= 0) {\n            return;\n        }\n        var pgOptions = this.getPropertyGridOptions();\n        this.initLocalizationGridCommon(pgOptions);\n    }\n\n    protected initLocalizationGridCommon(pgOptions: PropertyGridOptions) {\n        var pgDiv = this.byId('PropertyGrid');\n\n        if (!any(pgOptions.items, x => x.localizable === true))\n            return;\n\n        var localGridDiv = $('<div/>')\n            .attr('id', this.idPrefix + 'LocalizationGrid')\n            .hide().insertAfter(pgDiv);\n\n        pgOptions.idPrefix = this.idPrefix + 'Localization_';\n\n        var items: PropertyItem[] = [];\n        for (var item1 of pgOptions.items) {\n            var langs = null;\n\n            if (item1.localizable === true) {\n                var copy = extend({}, item1);\n                copy.oneWay = true;\n                copy.readOnly = true;\n                copy.required = false;\n                copy.defaultValue = null;\n                items.push(copy);\n\n                if (langs == null)\n                    langs = this.getLangs();\n\n                for (var lang of langs) {\n                    copy = extend({}, item1);\n                    copy.name = lang[0] + '$' + copy.name;\n                    copy.title = lang[1];\n                    copy.cssClass = [copy.cssClass, 'translation'].join(' ');\n                    copy.insertable = true;\n                    copy.updatable = true;\n                    copy.oneWay = false;\n                    copy.required = false;\n                    copy.localizable = false;\n                    copy.defaultValue = null;\n                    items.push(copy);\n                }\n            }\n        }\n\n        pgOptions.items = items;\n\n        this.localizationGrid = (new PropertyGrid(localGridDiv, pgOptions)).init(null);\n        localGridDiv.addClass('s-LocalizationGrid');\n    }\n\n    protected isLocalizationMode(): boolean {\n        return this.localizationButton != null && this.localizationButton.hasClass('pressed');\n    }\n\n    protected isLocalizationModeAndChanged(): boolean {\n        if (!this.isLocalizationMode()) {\n            return false;\n        }\n\n        var newValue = this.getLocalizationGridValue();\n        return JSON.stringify(this.localizationLastValue) !=  JSON.stringify(newValue);\n    }\n\n    protected localizationButtonClick(): void {\n        if (this.isLocalizationMode() && !this.validateForm()) {\n            return;\n        }\n\n        if (this.isLocalizationModeAndChanged()) {\n            var newValue = this.getLocalizationGridValue();\n            this.localizationLastValue = newValue;\n            this.localizationPendingValue = newValue;\n        }\n\n        this.localizationButton.toggleClass('pressed');\n        this.updateInterface();\n        if (this.isLocalizationMode()) {\n            this.loadLocalization();\n        }\n    }\n\n    protected getLanguages(): any[] {\n        if (EntityDialog.defaultLanguageList != null)\n            return EntityDialog.defaultLanguageList() || [];\n\n        return [];\n    }\n\n    // for compatibility with older getLanguages methods written in Saltaralle\n    private getLangs(): any {\n\n        var langsTuple = this.getLanguages();\n        var langs = safeCast(langsTuple, Array);\n        if (langs == null || langs.length === 0 ||\n            langs[0] == null || !Array.isArray(langs[0])) {\n            langs = Array.prototype.slice.call(langsTuple.map(function (x: any) {\n                return [x.item1, x.item2];\n            }));\n        }\n\n        return langs;\n    }\n\n    protected loadLocalization(): void {\n        if (this.localizationLastValue == null && this.isNew()) {\n            this.localizationGrid.load({});\n            this.setLocalizationGridCurrentValues();\n            this.localizationLastValue = this.getLocalizationGridValue();\n            return;\n        }\n\n        if (this.localizationLastValue != null) {\n            this.localizationGrid.load(this.localizationLastValue);\n            this.setLocalizationGridCurrentValues();\n            return;\n        }\n\n        var opt = <ServiceOptions<any>>{\n            service: this.getService() + '/Retrieve',\n            blockUI: true,\n            request: {\n                EntityId: this.get_entityId(),\n                ColumnSelection: 'keyOnly',\n                IncludeColumns: ['Localizations']\n            },\n            onSuccess: response => {\n                var copy = extend(new Object(), this.get_entity());\n                if (response.Localizations) {\n                    for (var language of Object.keys(response.Localizations)) {\n                        var entity = response.Localizations[language];\n                        for (var key of Object.keys(entity)) {\n                            (copy as any)[language + '$' + key] = entity[key];\n                        }\n                    }\n                }\n                \n                this.localizationGrid.load(copy);\n                this.setLocalizationGridCurrentValues();\n                this.localizationPendingValue = null;\n                this.localizationLastValue = this.getLocalizationGridValue();\n            }\n        };\n\n        serviceCall(opt);\n    }\n\n    protected setLocalizationGridCurrentValues(): void {\n        var valueByName: Record<string, any> = {};\n\n        this.localizationGrid.enumerateItems((item, widget) => {\n            if (item.name.indexOf('$') < 0 && widget.element.is(':input')) {\n                valueByName[item.name] = this.byId(item.name).val();\n                widget.element.val(valueByName[item.name]);\n            }\n        });\n\n        this.localizationGrid.enumerateItems((item1, widget1) => {\n            var idx = item1.name.indexOf('$');\n            if (idx >= 0 && widget1.element.is(':input')) {\n                var hint = valueByName[item1.name.substr(idx + 1)];\n                if (hint != null && hint.length > 0) {\n                    widget1.element.attr('title', hint).attr('placeholder', hint);\n                }\n            }\n        });\n    }\n\n    protected getLocalizationGridValue(): any {\n        var value: any = {};\n        this.localizationGrid.save(value);\n\n        for (var k of Object.keys(value)) {\n            if (k.indexOf('$') < 0) {\n                delete value[k];\n            }\n        }\n\n        return value;\n    }\n\n    protected getPendingLocalizations(): any {\n        if (this.localizationPendingValue == null) {\n            return null;\n        }\n\n        var result: { [key: string]: any } = {};\n        var idField = this.getIdProperty();\n        var langs = this.getLangs();\n\n        for (var pair of langs) {\n            var language = pair[0];\n            var entity: any = {};\n\n            if (idField != null) {\n                entity[idField] = this.get_entityId();\n            }\n\n            var prefix = language + '$';\n\n            for (var k of Object.keys(this.localizationPendingValue)) {\n                if (startsWith(k, prefix)) \n                    entity[k.substr(prefix.length)] = this.localizationPendingValue[k];\n            }\n\n            result[language] = entity;\n        }\n\n        return result;\n    }\n\n    protected initPropertyGrid(): void {\n        var pgDiv = this.byId('PropertyGrid');\n        if (pgDiv.length <= 0) {\n            return;\n        }\n        var pgOptions = this.getPropertyGridOptions();\n        this.propertyGrid = (new PropertyGrid(pgDiv, pgOptions)).init(null);\n        if (this.element.closest('.ui-dialog').hasClass('s-Flexify')) {\n            this.propertyGrid.element.children('.categories').flexHeightOnly(1);\n        }\n    }\n\n    protected getPropertyItems() {\n        return this.propertyItemsData?.items || [];\n    }\n\n    protected getPropertyItemsData(): PropertyItemsData {\n        var formKey = this.getFormKey();\n\n        if (this.getFormKey === EntityDialog.prototype.getFormKey &&\n            this.getPropertyItems !== EntityDialog.prototype.getPropertyItems &&\n            !ScriptData.canLoad('Form.' + formKey)) {\n            return {\n                items: this.getPropertyItems(),\n                additionalItems: []\n            }\n        }\n\n        if (!isEmptyOrNull(formKey)) {\n            return getFormData(formKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }\n\n    protected async getPropertyItemsDataAsync(): Promise<PropertyItemsData> {\n        var formKey = this.getFormKey();\n        if (!isEmptyOrNull(formKey)) {\n            return await getFormDataAsync(formKey);\n        }\n\n        return { items: [], additionalItems: [] };\n    }    \n\n    protected getPropertyGridOptions(): PropertyGridOptions {\n        return {\n            idPrefix: this.idPrefix,\n            items: this.getPropertyItems(),\n            mode: PropertyGridMode.insert,\n            localTextPrefix: 'Forms.' + this.getFormKey() + '.',\n            useCategories: true\n        };\n    }\n\n    protected validateBeforeSave(): boolean {\n        return true;\n    }\n\n    protected getSaveOptions(callback: (response: SaveResponse) => void): ServiceOptions<SaveResponse> {\n\n        var opt: ServiceOptions<SaveResponse> = {};\n\n        opt.service = this.getService() + '/' + (this.isEditMode() ? 'Update' : 'Create'),\n\n        opt.onSuccess = response => {\n            this.onSaveSuccess(response);\n\n            callback && callback(response);\n\n            var typ = (this.isEditMode() ? 'update' : 'create');\n\n            var ent = opt.request == null ? null : opt.request.Entity;\n            var eid: any = this.isEditMode() ? this.get_entityId() :\n                (response == null ? null : response.EntityId);\n\n            var dci = {\n                type: typ,\n                entity: ent,\n                entityId: eid\n            };\n\n            this.element.triggerHandler('ondatachange', [dci]);\n        };\n\n        opt.onCleanup = () => {\n            this.validator && validatorAbortHandler(this.validator);\n        };\n\n        opt.request = this.getSaveRequest();\n\n        return opt;\n    }\n\n    protected getSaveEntity(): TItem {\n\n        var entity: TItem = new Object() as any;\n\n        if (this.propertyGrid != null) {\n            this.propertyGrid.save(entity);\n        }\n\n        if (this.isEditMode()) {\n            var idField = this.getIdProperty();\n            if (idField != null && (entity as any)[idField] == null) {\n                (entity as any)[idField] = this.get_entityId();\n            }\n        }\n\n        return entity;\n    }\n\n    protected getSaveRequest(): SaveRequest<TItem> {\n\n        var entity = this.getSaveEntity();\n        var req: SaveRequest<TItem> = {};\n        req.Entity = entity;\n\n        if (this.isEditMode()) {\n            var idField = this.getIdProperty();\n            if (idField != null) {\n                req.EntityId = this.get_entityId();\n            }\n        }\n\n        if (this.localizationPendingValue != null) {\n            req.Localizations = this.getPendingLocalizations();\n        }\n\n        return req;\n    }\n\n    protected onSaveSuccess(response: SaveResponse): void {\n    }\n\n    protected save_submitHandler(callback: (response: SaveResponse) => void): void {\n        var options = this.getSaveOptions(callback);\n        this.saveHandler(options, callback);\n    }\n\n    protected save(callback?: (response: SaveResponse) => void): void | boolean {\n        return ValidationHelper.submit(this.byId('Form'),\n            () => this.validateBeforeSave(),\n            () => this.save_submitHandler(callback));\n    }\n\n    protected saveHandler(options: ServiceOptions<SaveResponse>,\n        callback: (response: SaveResponse) => void): void {\n        serviceCall(options);\n    }\n\n    protected initToolbar(): void {\n\n        super.initToolbar();\n\n        if (!this.toolbar)\n            return;\n\n        this.saveAndCloseButton = this.toolbar.findButton('save-and-close-button');\n        this.applyChangesButton = this.toolbar.findButton('apply-changes-button');\n        this.deleteButton = this.toolbar.findButton('delete-button');\n        this.undeleteButton = this.toolbar.findButton('undo-delete-button');\n        this.editButton = this.toolbar.findButton('edit-button');\n        this.cloneButton = this.toolbar.findButton('clone-button');\n        this.localizationButton = this.toolbar.findButton('localization-button');\n    }\n\n    protected showSaveSuccessMessage(response: SaveResponse): void {\n        notifySuccess(localText('Controls.EntityDialog.SaveSuccessMessage'), '', null);\n    }\n\n    protected getToolbarButtons(): ToolButton[] {\n        var list: ToolButton[] = [];\n\n        list.push({\n            title: localText('Controls.EntityDialog.SaveButton'),\n            action: 'save-and-close',\n            cssClass: 'save-and-close-button',\n            icon: 'fa-check-circle text-purple',\n            hotkey: 'alt+s',\n            onClick: () => {\n                this.save(response => {\n                    this.dialogClose();\n                });\n            },\n            visible: () => !this.isDeleted() && !this.isViewMode(),\n            disabled: () => !this.hasSavePermission() || this.readOnly\n        });\n\n        list.push({\n            title: '',\n            hint: localText('Controls.EntityDialog.ApplyChangesButton'),\n            action: 'apply-changes',\n            cssClass: 'apply-changes-button',\n            icon: 'fa-clipboard-check text-purple',\n            hotkey: 'alt+a',\n            onClick: () => {\n                this.save(response1 => {\n\n                    if (this.isEditMode()) {\n                        var id1 = response1.EntityId;\n                        if (id1 == null) {\n                            id1 = this.get_entityId();\n                        }\n                        this.loadById(id1);\n                    }\n                    else {\n                        this.loadById(response1.EntityId);\n                    }\n\n                    this.showSaveSuccessMessage(response1);\n                });\n            },\n            visible: () => !this.isDeleted() && !this.isViewMode(),\n            disabled: () => !this.hasSavePermission() || this.readOnly\n        });\n\n        list.push({\n            title: localText('Controls.EntityDialog.DeleteButton'),\n            cssClass: 'delete-button',\n            icon: 'fa-trash-o text-red',\n            hotkey: 'alt+x',\n            onClick: () => {\n                confirmDialog(localText('Controls.EntityDialog.DeleteConfirmation'), () => {\n                    this.doDelete(() => this.dialogClose());\n                });\n            },\n            visible: () => this.isEditMode() && !this.isDeleted() && !this.isViewMode(),\n            disabled: () => !this.hasDeletePermission() || this.readOnly\n        });\n\n        list.push({\n            title: localText('Controls.EntityDialog.UndeleteButton'),\n            action: 'undo-delete',\n            cssClass: 'undo-delete-button',\n            onClick: () => {\n                if (this.isDeleted()) {\n                    confirmDialog(localText('Controls.EntityDialog.UndeleteConfirmation'), () => {\n                        this.undelete(() => this.loadById(this.get_entityId()));\n                    });\n                }\n            },\n            visible: () => this.isEditMode() && this.isDeleted() && !this.isViewMode(),\n            disabled: () => !this.hasDeletePermission() || this.readOnly\n        });\n\n        if (this.useViewMode()) {\n            list.push({\n                title: localText('Controls.EntityDialog.EditButton'),\n                action: 'delete',\n                cssClass: 'edit-button',\n                icon: 'fa-edit',\n                onClick: () => {\n                    if (!this.isEditMode())\n                        return;\n\n                    this.editClicked = true;\n                    this.updateInterface();\n                    this.updateTitle();\n                },\n                visible: () => this.isViewMode(),\n                disabled: () => !this.hasSavePermission() || this.readOnly\n            });\n        }\n\n        list.push({\n            title: localText('Controls.EntityDialog.LocalizationButton'),\n            action: 'localization',\n            cssClass: 'localization-button',\n            onClick: () => this.localizationButtonClick()\n        });\n\n        list.push({\n            title: localText('Controls.EntityDialog.CloneButton'),\n            action: 'clone',\n            cssClass: 'clone-button',\n            icon: 'fa-clone',\n            onClick: () => {\n\n                if (!this.isEditMode()) {\n                    return;\n                }\n\n                var cloneEntity = this.getCloningEntity();\n\n                Widget.create({\n                    type: getInstanceType(this),\n                    init: w => SubDialogHelper.bubbleDataChange(\n                        SubDialogHelper.cascade(w, this.element), this, true)\n                        .loadEntityAndOpenDialog(cloneEntity, null)\n                });\n            },\n            visible: () => false,\n            disabled: () => !this.hasInsertPermission() || this.readOnly\n        });\n\n        return list;\n    }\n\n    protected getCloningEntity(): TItem {\n\n        var clone: any = new Object();\n        clone = extend(clone, this.get_entity());\n\n        var idField = this.getIdProperty();\n        if (!isEmptyOrNull(idField)) {\n            delete clone[idField];\n        }\n\n        var isActiveField = this.getIsActiveProperty();\n        if (!isEmptyOrNull(isActiveField)) {\n            delete clone[isActiveField];\n        }\n\n        var isDeletedField = this.getIsDeletedProperty();\n        if (!isEmptyOrNull(isDeletedField)) {\n            delete clone[isDeletedField];\n        }\n\n        return clone;\n    }\n\n    protected updateInterface(): void {\n\n        EditorUtils.setContainerReadOnly(this.byId('Form'), false);\n\n        var isLocalizationMode = this.isLocalizationMode();\n        var hasSavePermission = this.hasSavePermission();\n        var viewMode = this.isViewMode();\n        var readOnly = this.readOnly;\n\n        this.toolbar.updateInterface();\n\n        if (this.tabs != null) {\n            TabsExtensions.setDisabled(this.tabs, 'Log', this.isNewOrDeleted());\n        }\n\n        if (this.propertyGrid != null) {\n            this.propertyGrid.element.toggle(!isLocalizationMode);\n        }\n\n        if (this.localizationGrid != null) {\n            this.localizationGrid.element.toggle(isLocalizationMode);\n        }\n\n        if (this.localizationButton != null) {\n            this.localizationButton.toggle(this.localizationGrid != null);\n            this.localizationButton.find('.button-inner')\n                .text((this.isLocalizationMode() ?\n                    localText('Controls.EntityDialog.LocalizationBack') :\n                    localText('Controls.EntityDialog.LocalizationButton')));\n        }\n\n        if (isLocalizationMode) {\n\n            if (this.toolbar != null)\n                this.toolbar.findButton('tool-button')\n                    .not('.localization-hidden')\n                    .addClass('.localization-hidden').hide();\n\n            this.localizationButton && this.localizationButton.show();\n\n            return;\n        }\n\n        this.toolbar.findButton('localization-hidden')\n            .removeClass('localization-hidden').show();\n\n        if (!hasSavePermission || viewMode || readOnly)\n            EditorUtils.setContainerReadOnly(this.byId(\"Form\"), true);\n    }\n\n    protected getUndeleteOptions(callback?: (response: UndeleteResponse) => void): ServiceOptions<UndeleteResponse> {\n        return {}\n    }\n\n    protected undeleteHandler(options: ServiceOptions<UndeleteResponse>, callback: (response: UndeleteResponse) => void): void {\n        serviceCall(options);\n    }\n\n    protected undelete(callback?: (response: UndeleteResponse) => void): void {\n        var baseOptions: ServiceOptions<UndeleteResponse> = {};\n        baseOptions.service = this.getService() + '/Undelete';\n\n        var request: UndeleteRequest = {};\n        request.EntityId = this.get_entityId();\n\n        baseOptions.request = request;\n        baseOptions.onSuccess = response => {\n            callback && callback(response);\n            this.element.triggerHandler('ondatachange', [{\n                entityId: this.get_entityId(),\n                entity: this.entity,\n                type: 'undelete'\n            }]);\n        };\n\n        var thisOptions = this.getUndeleteOptions(callback);\n        var finalOptions = extend(baseOptions, thisOptions);\n        this.undeleteHandler(finalOptions, callback);\n    }\n\n    private _readonly: boolean;\n\n    public get readOnly(): boolean {\n        return this.get_readOnly();\n    }\n\n    public set readOnly(value: boolean) {\n        this.set_readOnly(value);\n    }\n\n    public get_readOnly() {\n        return !!this._readonly;\n    }\n\n    public set_readOnly(value: boolean) {\n        if (!!this._readonly != !!value) {\n            this._readonly = !!value;\n            this.updateInterface();\n            this.updateTitle();\n        }\n    }\n\n    protected getInsertPermission(): string {\n        return this.getRowDefinition()?.insertPermission;\n    }\n\n    protected getUpdatePermission(): string {\n        return this.getRowDefinition()?.updatePermission;\n    }\n\n    protected getDeletePermission(): string {\n        return this.getRowDefinition()?.deletePermission;\n    }\n\n    protected hasDeletePermission() {\n        var deletePermission = this.getDeletePermission();\n        return deletePermission == null || Authorization.hasPermission(deletePermission);\n    }\n\n    protected hasInsertPermission() {\n        var insertPermission = this.getInsertPermission();\n        return insertPermission == null || Authorization.hasPermission(insertPermission);\n    }\n\n    protected hasUpdatePermission() {\n        var updatePermission = this.getUpdatePermission();\n        return updatePermission == null || Authorization.hasPermission(updatePermission);\n    }\n\n    protected hasSavePermission(): boolean {\n        return this.isNew() ? this.hasInsertPermission() : this.hasUpdatePermission();\n    }\n\n    protected editClicked: boolean;\n\n    protected isViewMode() {\n        return this.useViewMode() && this.isEditMode() && !this.editClicked;\n    }\n\n    protected useViewMode() {\n        return false;\n    }\n\n    protected getFallbackTemplate() {\n        return `<div class=\"s-DialogContent\">\n    <div id=\"~_Toolbar\" class=\"s-DialogToolbar\">\n    </div>\n    <div class=\"s-Form\">\n        <form id=\"~_Form\" action=\"\">\n            <div class=\"fieldset\">\n                <div id=\"~_PropertyGrid\"></div>\n                <div class=\"clear\"></div>\n            </div>\n        </form> \n    </div>\n</div>`;\n    }\n}","import { EditorUtils } from \"../editors/editorutils\";\nimport { ReflectionOptionsSetter } from \"./reflectionoptionssetter\";\nimport { Widget, WidgetComponentProps } from \"./widget\";\n\nfunction _widgetFactory(this: any, props: any) {\n\n    var widget = Widget.create({\n        type: this,\n        element: (el$) => {\n            var el = el$[0];\n            if (props.id != null)\n                el.id = props.id;\n\n            if (props.name != null)\n                el.setAttribute('name', props.name);\n\n            if (props.placeholder != null)\n                el.setAttribute(\"placeholder\", props.placeholder);\n\n            if (props.className != null)\n                el.className = props.className;\n            else if (props.class != null)\n                el.className = props.class;\n\n            if (props.oneWay)\n                el.dataset.oneWay = \"1\";\n\n            if (props.maxLength != null)\n                el.setAttribute(\"maxLength\", props.maxLength || 0);\n            else if (props.maxlength != null)\n                el.setAttribute(\"maxLength\", props.maxlength || 0);\n        }\n    });\n\n    if (props.required != null)\n        EditorUtils.setRequired(widget, props.required);\n\n    if (props.readOnly !== null)\n        EditorUtils.setReadOnly(widget, props.readOnly);\n    else if (props.readonly !== null)\n        EditorUtils.setReadOnly(widget, props.readonly);\n\n    if (props.setOptions != props.setOptions)\n        ReflectionOptionsSetter.set(widget, props.setOptions);\n\n    if (props.value !== undefined)\n        EditorUtils.setValue(widget, props.value);\n    else if (props.initialValue != undefined)\n        EditorUtils.setValue(widget, props.initialValue);\n\n    if (props.onChange != null)\n        widget.element.on('change', props.onChange);\n    else if (props.onchange != null)\n        widget.element.on('change', props.onchange);\n\n    if (props.onChangeSelect2 != null)\n        widget.changeSelect2(props.onChangeSelect2);\n\n    if (props.ref)\n        props.ref(widget);\n\n    return widget.element[0];\n}\n\ntype JsxDomWidgetProps<P> = P & WidgetComponentProps<any> & {\n    children?: any | undefined;\n    class?: string;\n}\n\nexport interface JsxDomWidget<P = {}, TElement extends Element = HTMLElement> {\n    (props: JsxDomWidgetProps<P>, context?: any): TElement | null\n}\n\nexport function jsxDomWidget<TWidget extends Widget<TOptions>, TOptions>(\n    type: new (element: JQuery, options?: TOptions) => TWidget): JsxDomWidget<TOptions & { ref?: (r: TWidget) => void }> {\n    return _widgetFactory.bind(type);\n}\n\n","import { Decorators } from \"../../decorators\";\nimport { postToService, PropertyItem, serviceCall, ServiceRequest, ServiceResponse, trimToNull } from \"../../q\";\nimport { QuickSearchInput } from \"../datagrid/quicksearchinput\";\nimport { TemplatedDialog } from \"../dialogs/templateddialog\";\nimport { PropertyGrid } from \"./propertygrid\";\nimport { Widget } from \"./widget\";\n\nexport namespace Reporting {\n    export interface ReportDialogOptions {\n        reportKey?: string;\n    }\n\n    @Decorators.registerClass('Serenity.Reporting.ReportDialog')\n    export class ReportDialog extends TemplatedDialog<ReportDialogOptions> {\n        constructor(opt: ReportDialogOptions) {\n            super(opt);\n\n            if (opt.reportKey) {\n                this.loadReport(opt.reportKey);\n            }\n        }\n\n        protected propertyGrid: PropertyGrid;\n        protected propertyItems: PropertyItem[];\n        protected reportKey: string;\n\n        protected createPropertyGrid(): void {\n            if (this.propertyGrid) {\n                this.byId('PropertyGrid').html('').attr('class', '');\n                this.propertyGrid = null;\n            }\n            this.propertyGrid = (new PropertyGrid(this.byId('PropertyGrid'), {\n                idPrefix: this.idPrefix,\n                useCategories: true,\n                items: this.propertyItems\n            })).init(null);\n        }\n\n        loadReport(reportKey: string): void {\n            serviceCall({\n                service: 'Report/Retrieve', request: { ReportKey: reportKey },\n                onSuccess: (response: ReportRetrieveResponse) => {\n                    this.reportKey = response.ReportKey ?? reportKey;\n                    this.propertyItems = response.Properties || [];\n                    this.dialogTitle = response.Title;\n                    this.createPropertyGrid();\n                    var set = response.InitialSettings;\n                    if (set == null) {\n                        set = new Object();\n                    }\n                    this.propertyGrid.load(set);\n                    this.toolbar.findButton('print-preview-button').toggle(!response.IsDataOnlyReport);\n                    this.toolbar.findButton('export-pdf-button').toggle(!response.IsDataOnlyReport);\n                    this.toolbar.findButton('export-docx-button').toggle(!response.IsDataOnlyReport);\n                    this.dialogOpen(null);\n                }\n            });\n        }\n\n        executeReport(targetFrame: string, exportType: string): void {\n            if (!this.validateForm()) {\n                return;\n            }\n            var parameters = new Object();\n            this.propertyGrid.save(parameters);\n            postToService({\n                service: 'Report/Execute',\n                request: {\n                    ReportKey: this.reportKey,\n                    DesignId: 'Default',\n                    ExportType: exportType,\n                    Parameters: parameters\n                }, target: targetFrame\n            });\n\n        }\n\n        protected getToolbarButtons() {\n            var buttons = [];\n            buttons.push({\n                title: 'nizleme', cssClass: 'print-preview-button', onClick: () => {\n                    this.executeReport('_blank', null);\n                }\n            });\n            buttons.push({\n                title: 'PDF', cssClass: 'export-pdf-button', onClick: () => {\n                    this.executeReport('', 'Pdf');\n                }\n            });\n            buttons.push({\n                title: 'Excel', cssClass: 'export-xlsx-button', onClick: () => {\n                    this.executeReport('', 'Xlsx');\n                }\n            });\n            buttons.push({\n                title: 'Word', cssClass: 'export-docx-button', onClick: () => {\n                    this.executeReport('', 'Docx');\n                }\n            });\n            return buttons;\n        }\n    }\n\n    export interface ReportExecuteRequest extends ServiceRequest {\n        ExportType?: string;\n        ReportKey?: string;\n        DesignId?: string;\n        Parameters?: any;\n    }\n\n    @Decorators.registerClass('Serenity.Reporting.ReportPage')\n    export class ReportPage extends Widget<any> {\n        constructor(div: JQuery) {\n            super(div);\n\n            $('.report-link').click((e) => this.reportLinkClick(e));\n            $('div.line').click((e) => this.categoryClick(e));\n            var self = this;\n            new QuickSearchInput($('#QuickSearchInput'), {\n                onSearch: function (field, text, done) {\n                    self.updateMatchFlags(text);\n                    done(true);\n                }\n            });\n        }\n\n        protected updateMatchFlags(text: string) {\n            var liList = $('#ReportList').find('li').removeClass('non-match');\n            text = trimToNull(text);\n            if (text == null) {\n                liList.children('ul').hide();\n                liList.show().removeClass('expanded');\n                return;\n            }\n            var parts = text.replace(',', ' ').split(' ');\n            for (var i = 0; i < parts.length; i++) {\n                parts[i] = trimToNull(Select2.util.stripDiacritics(parts[i]).toUpperCase());\n            }\n            var reportItems = liList.filter('.report-item');\n            reportItems.each(function (i1, e) {\n                var x = $(e);\n                var title = Select2.util.stripDiacritics((x.text() ?? '').toUpperCase());\n                for (var $t1 = 0; $t1 < parts.length; $t1++) {\n                    var p = parts[$t1];\n                    if (p != null && !(title.indexOf(p) !== -1)) {\n                        x.addClass('non-match');\n                        break;\n                    }\n                }\n            });\n            var matchingItems = reportItems.not('.non-match');\n            var visibles = matchingItems.parents('li').add(matchingItems);\n            var nonVisibles = liList.not(visibles);\n            nonVisibles.hide().addClass('non-match');\n            visibles.show();\n            if (visibles.length <= 100) {\n                liList.children('ul').show();\n                liList.addClass('expanded');\n            }\n        }\n\n        protected categoryClick(e: JQueryEventObject) {\n            var li = $(e.target).closest('li');\n            if (li.hasClass('expanded')) {\n                li.find('ul').hide('fast');\n                li.removeClass('expanded');\n                li.find('li').removeClass('expanded');\n            }\n            else {\n                li.addClass('expanded');\n                li.children('ul').show('fast');\n                if (li.children('ul').children('li').length === 1 && !li.children('ul').children('li').hasClass('expanded')) {\n                    li.children('ul').children('li').children('.line').click();\n                }\n            }\n        }\n\n        protected reportLinkClick(e: JQueryEventObject) {\n            e.preventDefault();\n            var dialog = new ReportDialog({ reportKey: $(e.target).data('key') });\n        }\n    }\n\n    export interface ReportRetrieveRequest extends ServiceRequest {\n        ReportKey?: string;\n    }\n\n    export interface ReportRetrieveResponse extends ServiceResponse {\n        ReportKey?: string;\n        Properties?: PropertyItem[];\n        Title?: string;\n        InitialSettings?: any;\n        IsDataOnlyReport?: boolean;\n    }\n}\n","import { Decorators } from \"../../decorators\";\n\nexport interface ScriptContext {\n}\n\n@Decorators.registerClass('Serenity.ScriptContext')\nexport class ScriptContext {\n}","import { Decorators } from \"../decorators\";\n\n@Decorators.registerInterface('Serenity.IAsyncInit')\nexport class IAsyncInit {\n}","import { Widget } from \"./widget\";\n\nexport namespace WX {\n    export function getWidget<TWidget>(element: JQuery, type: any) {\n        return element.getWidget<TWidget>(type);\n    }\n\n    export var getWidgetName = Widget.getWidgetName;\n\n    export function hasOriginalEvent(e: any): boolean {\n        return !!!(typeof (e.originalEvent) === 'undefined');\n    }\n\n    export function change(widget: any, handler: any): void {\n        widget.change(handler)\n    }\n    \n    export function changeSelect2(widget: any, handler: any): void {\n        widget.changeSelect2(handler);\n    }\n\n    export function getGridField(widget: Widget<any>): JQuery {\n        return widget.getGridField();\n    }\n}\n\n","import { Decorators } from \"../../decorators\";\nimport { Widget } from \"./widget\";\nimport { LazyLoadHelper } from \"../helpers/lazyloadhelper\";\n\nexport interface GoogleMapOptions {\n    latitude?: any;\n    longitude?: any;\n    zoom?: any;\n    mapTypeId?: any;\n    markerTitle?: string;\n    markerLatitude?: any;\n    markerLongitude?: any;\n}\n\n@Decorators.registerEditor('Serenity.GoogleMap', [])\n@Decorators.element('<div/>')\nexport class GoogleMap extends Widget<GoogleMapOptions> {\n\n    private map: any;\n\n    constructor(container: JQuery, opt: GoogleMapOptions) {\n        super(container, opt);\n\n        // @ts-ignore\n        var center = new google.m ?? s.LatLng(\n            this.options.latitude  ?? 0,\n            this.options.longitude ?? 0);\n\n        var mapOpt: any = new Object();\n        mapOpt.center = center;\n        mapOpt.mapTypeId = this.options.mapTypeId ?? 'roadmap';\n        mapOpt.zoom = this.options.zoom ?? 15;\n        mapOpt.zoomControl = true;\n        // @ts-ignore\n        this.map = new google.maps.Map(container[0], mapOpt);\n\n        if (this.options.markerTitle != null) {\n            var markerOpt: any = new Object();\n\n            var lat = this.options.markerLatitude;\n            if (lat == null) {\n                lat = this.options.latitude ?? 0;\n            }\n            var lon = this.options.markerLongitude;\n            if (lon == null) {\n                lon = this.options.longitude ?? 0;\n            }\n            // @ts-ignore\n            markerOpt.position = new google.maps.LatLng(lat, lon);\n            markerOpt.map = this.map;\n            markerOpt.title = this.options.markerTitle;\n            markerOpt.animation = 2;\n            // @ts-ignore\n            new google.maps.Marker(markerOpt);\n        }\n\n        LazyLoadHelper.executeOnceWhenShown(container, () => {\n            // @ts-ignore\n            google.maps.event.trigger(this.map, 'resize', []);\n            this.map.setCenter(center);\n            // in case it wasn't visible (e.g. in dialog)\n        });\n    }\n\n    get_map(): any {\n        return this.map;\n    }\n}","import { Decorators } from \"../../decorators\";\nimport { IStringValue } from \"../../interfaces\";\nimport { isEmptyOrNull, isValue, ListRequest, ListResponse, RetrieveResponse, safeCast, serviceCall, ServiceOptions, localText, trimToNull } from \"../../q\";\nimport { ValidationHelper } from \"../helpers/validationhelper\";\nimport { Widget } from \"../widgets/widget\";\nimport { WX } from \"../widgets/wx\";\n\n@Decorators.registerEditor('Serenity.Select2AjaxEditor', [IStringValue])\n@Decorators.element('<input type=\"hidden\" />')\nexport class Select2AjaxEditor<TOptions, TItem> extends Widget<TOptions> implements IStringValue {\n    pageSize: number = 50;\n\n    constructor(hidden: JQuery, opt: TOptions) {\n        super(hidden, opt);\n\n        var emptyItemText = this.emptyItemText();\n        if (emptyItemText != null)\n            hidden.attr(\"placeholder\", emptyItemText);\n\n        hidden.select2(this.getSelect2Options());\n\n        hidden.attr(\"type\", \"text\"); // jquery validate to work\n\n        hidden.on(\"change.\" + this.uniqueName, (e, x) => {\n            if (WX.hasOriginalEvent(e) || !x) {\n                if (ValidationHelper.getValidator(hidden) != null)\n                    hidden.valid();\n            }\n        });\n    }\n\n    protected emptyItemText(): string {\n        var txt = this.element.attr('placeholder');\n        if (txt == null) {\n            txt = localText('Controls.SelectEditor.EmptyItemText');\n        }\n        return txt;\n    }\n\n    protected getService(): string {\n        throw new Error(\"Not implemented!\");\n    }\n\n    protected query(request: ListRequest, callback: (p1: ListResponse<any>) => void): void {\n        var options: ServiceOptions<any> = {\n            blockUI: false,\n            service: this.getService() + '/List',\n            request: request,\n            onSuccess: function (response) {\n                callback(response);\n            }\n        };\n        this.executeQuery(options);\n    }\n\n    protected executeQuery(options: ServiceOptions<ListResponse<any>>): void {\n        serviceCall(options);\n    }\n\n    protected queryByKey(key: string, callback: (p1: any) => void): void {\n        var options: ServiceOptions<any> = {\n            blockUI: false,\n            service: this.getService() + '/Retrieve',\n            request: { EntityId: key },\n            onSuccess: function (response) {\n                callback(response.Entity);\n            }\n        };\n        this.executeQueryByKey(options);\n    }\n\n    protected executeQueryByKey(options: ServiceOptions<RetrieveResponse<any>>): void {\n        serviceCall(options);\n    }\n\n    protected getItemKey(item: any): string {\n        return null;\n    }\n\n    protected getItemText(item: any): string {\n        return null;\n    }\n\n    protected getTypeDelay(): number {\n        return 200;\n    }\n\n    protected getSelect2Options(): Select2Options {\n        var emptyItemText = this.emptyItemText();\n        var queryTimeout = 0;\n        return {\n            minimumResultsForSearch: 10,\n            placeHolder: (!isEmptyOrNull(emptyItemText) ? emptyItemText : null),\n            allowClear: isValue(emptyItemText),\n            query: query => {\n                var request = {\n                    ContainsText: trimToNull(query.term), Skip: (query.page - 1) * this.pageSize, Take: this.pageSize + 1\n                };\n\n                if (queryTimeout !== 0) {\n                    window.clearTimeout(queryTimeout);\n                }\n\n                var select2 = $(this.element).data('select2');\n                select2 && select2.search && select2.search.removeClass('select2-active').parent().removeClass('select2-active');\n\n                queryTimeout = window.setTimeout(() => {\n                    select2 && select2.search.addClass('select2-active').parent().addClass('select2-active');\n\n                    this.query(request, response => {\n                        query.callback({\n                            results: response.Entities.slice(0, this.pageSize).map(x => {\n                                return { id: this.getItemKey(x), text: this.getItemText(x), source: x };\n                            }), more: response.Entities.length >= this.pageSize\n                        });\n                    });\n                }, this.getTypeDelay());\n\n            },\n            initSelection: (element, callback) => {\n                var val = element.val();\n                if (isEmptyOrNull(val)) {\n                    callback(null);\n                    return;\n                }\n                this.queryByKey(val, result => {\n                    callback((result == null ? null : {\n                        id: this.getItemKey(result),\n                        text: this.getItemText(result),\n                        source: result\n                    }));\n                });\n            }\n        };\n    }\n\n    protected addInplaceCreate(title: string): void {\n        var self = this;\n        $('<a><b/></a>').addClass('inplace-button inplace-create')\n            .attr('title', title).insertAfter(this.element).click(function (e) {\n                self.inplaceCreateClick(e);\n            });\n\n        this.get_select2Container().add(this.element)\n            .addClass('has-inplace-button');\n    }\n\n    protected inplaceCreateClick(e: any): void {\n    }\n\n    protected get_select2Container(): JQuery {\n        return this.element.prevAll('.select2-container');\n    }\n\n    get_value(): string {\n        return safeCast(this.element.select2('val'), String);\n    }\n\n    get value(): string {\n        return this.get_value();\n    }\n\n    set_value(value: string) {\n        if (value !== this.get_value()) {\n            var el = this.element;\n            el.select2('val', value);\n            el.data('select2-change-triggered', true);\n            try {\n                el.triggerHandler('change', [true]); // valueSet: true\n            }\n            finally {\n                el.data('select2-change-triggered', false);\n            }\n        }\n    }\n\n    set value(v: string) {\n        this.set_value(v);\n    }\n}"],"names":["__spreadArray","MemberType","Enum","__extends","Q","$","_a","initialInstance","bootstrap","ErrorHandling","ScriptData","Authorization","LayoutTimer","Router","SummaryType","ColumnSelection","RetrieveColumnSelection","CriteriaOperator","Aggregators","AggregateFormatting","convertCompatFormatter","NonDataRow","escape","gridDefaults","EventEmitter","GroupItemMetadataProvider","Group","GroupTotals","EventData","regClass","__decorate","Decorators","registerClass","registerInterface","regIntf","registerEditor","regEditor","registerEnum","regEnum","CaptureOperationType","ReflectionUtils","DialogTypeRegistry","addValRule","EditorTypeRegistry","EnumTypeRegistry","LazyLoadHelper","DialogExtensions","ValidationHelper","VX","TabsExtensions","ReflectionOptionsSetter","EditorUtils","PropertyGridMode","SubDialogHelper","Select2","UploadHelper","FilterOperators","FilteringTypeRegistry","FormatterTypeRegistry","GridSelectAllButtonHelper","GridUtils","PropertyItemSlickConverter","SlickFormatting","SlickHelper","SlickTreeHelper","Grid","AutoTooltips","Reporting","WX"],"mappings":"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"}